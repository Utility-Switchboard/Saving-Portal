{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormAddress/FormAddress.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // Styles\n\nimport \"./FormAddress.css\"; // Firebase\n\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\"; // Swal\n\nimport swal from '@sweetalert/with-react'; // Icons\n\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\nimport { ImProfile } from 'react-icons/im'; // Hooks\n\nimport useAddress from \"../../../hooks/useAddress/useAddress\"; // Components\n\nimport FormScript from '../FormScript/FormScript';\nimport Error from '../../Error/Error';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormAddress({\n  postcodeValue,\n  gasInformation,\n  electricityInformation,\n  progressBar,\n  showScript,\n  customerStep,\n  updateCustomerAddress,\n  updateGasInformation,\n  updateElectricityInformation,\n  updateShowFormPostCode,\n  updateShowFormAddres,\n  updateShowOverlay,\n  updateProgressBar,\n  updateShowFomrFuelType\n}) {\n  _s();\n\n  /** STATES */\n  // Customer Address JSON\n  const [dataAddress, updateDataAddress] = useState({\n    doornumber: '',\n    addressline1: '',\n    addressline2: '',\n    city: '',\n    postcode: '',\n    mpan: '',\n    mprn: ''\n  }); // Customer Address List\n\n  const [addressList, updateAddressList] = useState([]); // Hook useAddress\n\n  const [address, SelectAddress, updateAddress] = useAddress(\"\", //Label\n  \"\", //Initial State\n  addressList //Array(response)\n  ); // Show Address type section\n\n  const [showTypeAddress, updateShowTypeAddres] = useState(true); // Error State\n\n  const [error, updateError] = useState(false); // Create customer in firebase\n\n  const [createCustomer, updateCreateCustomer] = useState(false); // Button focus animation\n\n  const [focusAnimation, setFocusAnimation] = useState(false);\n  /** FUNCTIONS */\n  // Error smooth scroll\n\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"end\"\n        });\n      };\n\n      scroll_to();\n    }\n  }, [error]); // Scroll to top\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // useEffect to fetch the data from API\n\n  useEffect(() => {\n    const address_api = process.env.REACT_APP_ADDRESS_API; // Fetching Data\n\n    const fetchAPI = async () => {\n      // const url = `https://ws.postcoder.com/pcw/${address_api}/address/uk/${postcodeValue.replace(/ /g, '').toLowerCase()}`;\n      const key = 'T0ncjBouIEGvOLZYTcKjAw32758';\n      const url = `https://api.getAddress.io/find/${postcodeValue.replace(/ /g, '').toLowerCase()}?api-key=${key}&expand=true`;\n      const response_postcode = await fetch(url, {\n        method: 'GET'\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          swal({\n            button: \"Ok\",\n            icon: \"info\",\n            content: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"swal-text-custom\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Address not found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please enter the address manually\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          });\n          return;\n        }\n      }).then(function (response) {\n        console.log(response);\n        return response;\n      }).catch(function (error) {\n        console.error(`Catch an error fetching to postcoder ${error}`);\n        swal({\n          button: \"Ok\",\n          icon: \"info\",\n          content: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"swal-text-custom\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Address not found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Please enter the address manually\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        });\n        return;\n      }); // if (response_postcode !== undefined) {\n      //   const data = response_postcode;\n      //   // Adding an ID\n      //   data.forEach((item, i) => {\n      //     item.id = i + 1;\n      //   });\n      //   if (addressList === []) {\n      //     return;\n      //   } else {\n      //     updateAddressList(data);\n      //   }\n      // } else {\n      //   return;\n      // }\n    }; // Execute Fetch API\n\n\n    fetchAPI();\n  }, []); // // useEffect to fetch the data from API\n  // useEffect(() => {\n  //   const address_api = process.env.REACT_APP_ADDRESS_API;\n  //   // Fetching Data\n  //   const fetchAPI = async () => {\n  //     const url = `https://ws.postcoder.com/pcw/${address_api}/address/uk/${postcodeValue.replace(/ /g, '').toLowerCase()}`;\n  //     // const key = '7vEkPWjLEkyhdhllWkXxSA29966';\n  //     // const url = `https://api.getAddress.io/find/${postcodeValue.replace(/ /g, '').toLowerCase()}?api-key=${key}&expand=true`;\n  //     const response_postcode = await fetch(url, {\n  //       method: 'GET'\n  //     }).then(function (response) {\n  //       if (response.status === 200) {\n  //         return response.json();\n  //       } else {\n  //         swal({\n  //           button: \"Ok\",\n  //           icon: \"info\",\n  //           content: (\n  //             <div className=\"swal-text-custom\">\n  //               <h1>Address not found</h1>\n  //               <p>\n  //                 Please enter the address manually\n  //               </p>\n  //             </div>\n  //           )\n  //         });\n  //         return;\n  //       }\n  //     }).then(function (response) {\n  //       return response;\n  //     }).catch(function (error) {\n  //       console.error(`Catch an error fetching to postcoder ${error}`);\n  //       swal({\n  //         button: \"Ok\",\n  //         icon: \"info\",\n  //         content: (\n  //           <div className=\"swal-text-custom\">\n  //             <h1>Address not found</h1>\n  //             <p>\n  //               Please enter the address manually\n  //             </p>\n  //           </div>\n  //         )\n  //       });\n  //       return;\n  //     });\n  //     if (response_postcode !== undefined) {\n  //       const data = response_postcode;\n  //       // Adding an ID\n  //       data.forEach((item, i) => {\n  //         item.id = i + 1;\n  //       });\n  //       if (addressList === []) {\n  //         return;\n  //       } else {\n  //         updateAddressList(data);\n  //       }\n  //     } else {\n  //       return;\n  //     }\n  //   }\n  //   // Execute Fetch API\n  //   fetchAPI();\n  // }, []);\n  // Address Data\n\n  if (address !== '') {\n    // Selected Value\n    const selectedValue = addressList[address - 1]; // Separated Values\n\n    var doornumberValue = selectedValue.subbuildingname;\n    var addressline1Value = selectedValue.buildingname + ', ' + selectedValue.street + ', ' + selectedValue.dependentlocality;\n    var addressline2Value = '';\n    var cityValue = selectedValue.posttown;\n    var mpanValue = '';\n    var mprnValue = '';\n\n    if (doornumberValue === undefined || doornumberValue === '') {\n      doornumberValue = \"Does no apply\";\n    } else {\n      doornumberValue = selectedValue.subbuildingname;\n    }\n\n    if (addressline1Value === undefined || addressline1Value === '') {\n      addressline1Value = \"Does no apply\";\n    } else {\n      addressline1Value = selectedValue.buildingname + ', ' + selectedValue.street + ', ' + selectedValue.dependentlocality;\n    }\n\n    if (addressline2Value === undefined || addressline2Value === '') {\n      addressline2Value = \"Does no apply\";\n    } else {\n      addressline2Value = selectedValue.subbuildingname;\n    }\n\n    if (cityValue === undefined || cityValue === '') {\n      cityValue = \"Does no apply\";\n    } else {\n      cityValue = selectedValue.posttown;\n    }\n\n    if (mpanValue === undefined || mpanValue === '') {\n      mpanValue = '';\n    } else {\n      mpanValue = '';\n    }\n\n    if (mprnValue === undefined || mprnValue === '') {\n      mprnValue = '';\n    } else {\n      mprnValue = '';\n    }\n  }\n\n  const doornumber = doornumberValue;\n  const addressline1 = addressline1Value;\n  const addressline2 = addressline2Value;\n  const city = cityValue;\n  const postcode = postcodeValue;\n  const mpan = mpanValue;\n  const mprn = mprnValue; // useEffect to add the data to the state\n\n  useEffect(() => {\n    updateDataAddress({ ...dataAddress,\n      doornumber: doornumber,\n      addressline1: addressline1,\n      addressline2: addressline2,\n      city: city,\n      postcode: postcode,\n      mpan: mpan,\n      mprn: mprn\n    });\n    updateError(false);\n  }, [address]); // Function that runs every time the user writes to the input\n\n  const handleChange = e => {\n    updateDataAddress({ ...dataAddress,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim(),\n      mpan: '',\n      mprn: ''\n    });\n  };\n\n  const handleChangeTypeAddress = () => {\n    const door_typed = document.getElementById(\"door-number\").value;\n    const addres_line1_typed = document.getElementById(\"line1\").value;\n    const city_typed = document.getElementById(\"city\").value; // Validation for Typeaddress\n\n    if (door_typed !== '' && addres_line1_typed !== '' && city_typed !== '') {\n      // Hidde message\n      updateError(false);\n    }\n  }; // Send Add address to CustomerData \n\n\n  const sendAddress = async dataAddress => {\n    const door_typed = document.getElementById(\"door-number\").value;\n    const addres_line1_typed = document.getElementById(\"line1\").value;\n    const city_typed = document.getElementById(\"city\").value; // Validation for type address section\n\n    if (door_typed === '' || door_typed === undefined || addres_line1_typed === '' || addres_line1_typed === undefined || city_typed === '' || city_typed === undefined) {\n      updateError(true);\n      return;\n    } else {\n      updateError(false);\n    } // Show Overlay\n\n\n    updateShowOverlay(true); // Values to validate\n\n    const doornumberValidate = dataAddress.doornumber.replace(/[^\\w\\s]/gi, '').trim();\n    const addressValidate = dataAddress.addressline1.replace(/[^\\w\\s]/gi, '').trim();\n    const cityValidate = dataAddress.city.replace(/[^\\w\\s]/gi, '').trim();\n\n    if (doornumberValidate === '' || doornumberValidate === undefined || addressValidate === '' || addressValidate === undefined || cityValidate === '' || cityValidate === undefined) {\n      // Validation failed\n      updateError(true);\n    } else {\n      /** -- ECOES API -- */\n      // ecoes_api\n      const ecoes_api = process.env.REACT_APP_ECOES_API; // Body parameters\n\n      const postcodeParameters = {\n        \"Authentication\": {\n          \"Key\": ecoes_api\n        },\n        \"ParameterSets\": [{\n          \"Parameters\": [{\n            \"Key\": \"Postcode\",\n            \"Value\": postcodeValue.replace(/[^\\w\\s]/gi, '').trim()\n          }, {\n            \"Key\": \"BuildingNumber\",\n            \"Value\": doornumberValidate\n          }]\n        }]\n      }; // Response ECOES MPAN\n\n      const responseECOESMPAN = await fetch('https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/SearchUtilityAddress', {\n        method: 'POST',\n        body: JSON.stringify(postcodeParameters),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          return console.error('An error ocurred fetching to ECOES SearchUtilityAddress');\n        }\n      }).then(function (response) {\n        // Error response\n        const error_response = response.Results[0].Errors.length; // Check values and return \n\n        if (error_response >= 1) {\n          const NA = 'NA';\n          return NA;\n        } else {\n          // Successful response\n          const successful_response = response.Results[0].UtilityAddressMatches[0].AddressDetails[0].Value;\n          return successful_response;\n        }\n      }).catch(function (error) {\n        return console.error(`Catch an error fetching to ECOES SearchUtilityAddress ${error}`);\n      }); // MPAN value\n\n      let mpan_core = '';\n\n      if (responseECOESMPAN !== \"NA\" && responseECOESMPAN !== undefined) {\n        mpan_core = responseECOESMPAN.replace(/[^\\w\\s]/gi, '').trim();\n      } else {\n        mpan_core = '';\n      } //If we get a MPAN value call ECOES Details - Conditional\n\n\n      if (mpan_core !== '') {\n        /**-- Response ECOES DETAILS by MPAN--  */\n        // Body parameters\n        const detailsParameters = {\n          \"Authentication\": {\n            \"Key\": ecoes_api\n          },\n          \"ParameterSets\": [{\n            \"Parameters\": [{\n              \"Key\": \"MPAN\",\n              \"Value\": mpan_core\n            }]\n          }]\n        };\n        const responseECOESDetails = await fetch('https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/GetTechnicalDetailsByMpan', {\n          method: 'POST',\n          body: JSON.stringify(detailsParameters),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            return response.json();\n          } else {\n            return console.error('An error ocurred fetching to GetTechnicalDetailsByMpan');\n          }\n        }).then(function (response) {\n          if (response !== undefined) {\n            // Error response\n            const error_response = response.Results[0].Errors.length; // Check values and return \n\n            if (error_response >= 1) {\n              // Electricity Infomartion values\n              const MPANDetails = {\n                mpan_core: '',\n                meter_serial_number: '',\n                meter_type: '',\n                supplier_mpid: ''\n              }; // Update the state\n\n              updateElectricityInformation({ ...electricityInformation,\n                MPANDetails\n              });\n            } else {\n              // Extract the values from the response\n              const meter_serial_number = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[1].Value;\n              const meter_type = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[2].Value;\n              const supplier_mpid = response.Results[0].UtilityMatches[0].UtilityDetails[11].Value; // Assign values\n\n              const MPANDetails = {\n                mpan_core,\n                meter_serial_number,\n                meter_type,\n                supplier_mpid\n              }; // Update the state\n\n              updateElectricityInformation({ ...electricityInformation,\n                MPANDetails\n              });\n            }\n          } else {\n            // Electricity Infomartion values\n            const MPANDetails = {\n              mpan_core: '',\n              meter_serial_number: '',\n              meter_type: '',\n              supplier_mpid: ''\n            }; // Update the state\n\n            return updateElectricityInformation({ ...electricityInformation,\n              MPANDetails\n            });\n          }\n        });\n      } else {\n        // Electricity Infomartion values\n        const MPANDetails = {\n          mpan_core: '',\n          meter_serial_number: '',\n          meter_type: '',\n          supplier_mpid: ''\n        }; // Update the state\n\n        updateElectricityInformation({ ...electricityInformation,\n          MPANDetails\n        });\n      }\n      /**--Postcode structure */\n      // Postcode unformatted\n\n\n      let postcode_unformatted = postcode; // Postcode without spaces\n\n      let postcode_unformatted_no_space = postcode_unformatted.replace(/ /g, ''); // Postcode formated\n\n      let postcode_formated = ''; // For a postcode structure AN-NAA\n\n      if (postcode_unformatted_no_space.length === 5) {\n        // First two chars \n        let first_two = postcode_unformatted_no_space.slice(0, 2); // Last three chars\n\n        let last_three = postcode_unformatted_no_space.slice(2, 5); // Formated Postcode\n\n        postcode_formated = first_two + ' ' + last_three;\n      } // For a postcode structure ANN-NAA, AAN-NAA, ANA-NAA\n\n\n      if (postcode_unformatted_no_space.length === 6) {\n        // First three chars \n        let first_three = postcode_unformatted_no_space.slice(0, 3); // Last three chars\n\n        let last_three = postcode_unformatted_no_space.slice(3, 6); // Formated Postcode\n\n        postcode_formated = first_three + ' ' + last_three;\n      } // For a postcode structure AANN-NAA, AANA-NAA\n\n\n      if (postcode_unformatted_no_space.length === 7) {\n        // First three chars \n        let first_four = postcode_unformatted_no_space.slice(0, 4); // Last three chars\n\n        let last_three = postcode_unformatted_no_space.slice(4, 7); // Formated Postcode\n\n        postcode_formated = first_four + ' ' + last_three;\n      }\n      /** -- XOSERVE API -- */\n      // xoserve_api\n\n\n      const xoserve_api = process.env.REACT_APP_XOSERVE_API;\n      const responseXOSERVE = await fetch(`https://cors-anywhere.herokuapp.com/https://xoserve.apimanagement.hana.ondemand.com:443/v1/switchdataTBB.svc?postcode='${postcode_formated}'&house_no='${doornumberValidate}'`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'APIKey': xoserve_api\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          const mprn_core = '';\n          updateGasInformation({ ...gasInformation,\n            dataGas: {\n              mprn: '',\n              meter_mechanism_code: '',\n              current_supplier_id: '',\n              gas_transport_id: ''\n            }\n          });\n          console.error('An error ocurred fetching to Xoserve switchdataTBB');\n          return mprn_core;\n        }\n      }).then(function (response) {\n        // If exist information about the property \n        const success = response.hasOwnProperty('mprn');\n\n        if (success === true) {\n          const dataGas = response.mprn[0];\n          const mprn_core = response.mprn[0].mprn;\n          updateGasInformation({ ...gasInformation,\n            dataGas\n          });\n          return mprn_core;\n        } else {\n          const mprn_core = '';\n          updateGasInformation({ ...gasInformation,\n            dataGas: {\n              mprn: mprn_core,\n              meter_mechanism_code: '',\n              current_supplier_id: '',\n              gas_transport_id: ''\n            }\n          });\n          return mprn_core;\n        }\n      }).catch(function (error) {\n        return console.error(`Catch an error fetching to Xoserve switchdataTBB: ${error}`);\n      }); // MPRN value\n\n      let mprn_core = responseXOSERVE;\n\n      if (mprn_core === undefined) {\n        mprn_core = '';\n        updateGasInformation({ ...gasInformation,\n          dataGas: {\n            mprn: '',\n            meter_mechanism_code: '',\n            current_supplier_id: '',\n            gas_transport_id: ''\n          }\n        });\n      }\n\n      const postcode_formatted = dataAddress.postcode.replace(/\\s/g, '').trim().toLowerCase();\n      const doornumber_formatted = dataAddress.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n      const uid = `${postcode_formatted}-${doornumber_formatted}`; // Document ref\n\n      let docRef = await db.collection(\"customers\").doc(uid); // // Fetching customer data\n      // const getCustomerData = async () => docRef.get().then((doc) => {\n      //   // If customer exist\n      //   if (doc.exists) {\n      //     return doc.data();\n      //   }\n      //   return;\n      // });\n      // Fetching customer data\n\n      const getCustomerData = async () => docRef.get().then(doc => {\n        // If customer exist\n        if (doc.exists) {\n          return doc.data();\n        }\n\n        return;\n      }).catch(error => {\n        console.log(error);\n        console.log('Fetching customer data failed');\n        return;\n      }); // Execute getCustomerData\n\n\n      let customer = await getCustomerData(); // Validate if customer exists\n\n      if (customer) {\n        // customerData\n        const customerData = customer; // Customer Information\n\n        const {\n          customerAddres,\n          MPANDetails,\n          dataGas\n        } = customerData; // Customer Address\n\n        const {\n          doornumber,\n          addressline1,\n          addressline2,\n          city,\n          postcode\n        } = customerAddres; // MPANDetails\n\n        const {\n          meter_type\n        } = MPANDetails; // dataGas\n\n        const {\n          meter_mechanism_code\n        } = dataGas; // Electricity company name\n\n        const company_name_es = MPANDetails.company_name; // MPAN\n\n        const mpan_fetched = MPANDetails.mpan_core; // Gas company name\n\n        const company_name_gs = dataGas.company_name; // MPRN\n\n        const mprn_fetched = dataGas.mprn; // Customer Information - Sweet alert\n\n        swal({\n          className: 'swal-modal_custom',\n          buttons: {\n            cancel: \"Cancel\",\n            confirm: \"Use this information\"\n          },\n          content: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-info-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-details-info\",\n                children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#D338AE',\n                    size: '50px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ImProfile, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 677,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: {\n                    marginBottom: '0'\n                  },\n                  children: \"Data found for this customer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-compare-details-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        flexDirection: 'column',\n                        textAlign: 'start'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Address:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: `${addressline1.toUpperCase()}${addressline2 === \"Does no apply\" ? '' : `, ${addressline2.toUpperCase()}`} `\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 686,\n                          columnNumber: 36\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 686,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Flat number:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: doornumber.toUpperCase()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 687,\n                          columnNumber: 40\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 687,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"City:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: city.toUpperCase()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 688,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 688,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Postcode:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: postcode.toUpperCase()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 689,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 689,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 21\n                  }, this), !!company_name_es || !!meter_type || !!mpan_fetched ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Electricity Information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 24\n                  }, this) : null, !!company_name_es ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Supplier: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: company_name_es\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 40\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 705,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 25\n                  }, this) : null, !!meter_type ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Meter Type: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: meter_type\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 716,\n                        columnNumber: 42\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 716,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 25\n                  }, this) : null, !!mpan_fetched ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"MPAN: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: mpan_fetched\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 727,\n                        columnNumber: 36\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 727,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 25\n                  }, this) : null, !!company_name_gs || !!meter_mechanism_code || !!mprn_fetched ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Gas Information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 738,\n                    columnNumber: 24\n                  }, this) : null, !!company_name_gs ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Supplier: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: company_name_gs\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 746,\n                        columnNumber: 40\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 746,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 25\n                  }, this) : null, !!meter_mechanism_code ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Meter Type: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: meter_mechanism_code\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 757,\n                        columnNumber: 42\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 757,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 25\n                  }, this) : null, !!mprn_fetched ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-single-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"MPAN: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: mprn_fetched\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 768,\n                        columnNumber: 36\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 768,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 25\n                  }, this) : null]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 15\n            }, this)\n          }, void 0, false)\n        }).then(result => {\n          if (result !== true) {\n            // postcode_formatted\n            const postcode_formatted = dataAddress.postcode.replace(/\\s/g, '').trim().toLowerCase(); // doornumber_formatted\n\n            const doornumber_formatted = dataAddress.doornumber.replace(/\\s/g, '').trim().toLowerCase(); // uid\n\n            const uid = `${postcode_formatted}-${doornumber_formatted}`; // Update firebase customer\n\n            db.collection(\"customers\").doc(uid).set({\n              created: firebase.firestore.FieldValue.serverTimestamp(),\n              step: 1,\n              customerAddres: {\n                doornumber: dataAddress.doornumber ? dataAddress.doornumber : '',\n                addressline1: dataAddress.addressline1 ? dataAddress.addressline1 : '',\n                addressline2: dataAddress.addressline2 ? dataAddress.addressline2 : '',\n                city: dataAddress.city ? dataAddress.city : '',\n                postcode: dataAddress.postcode ? dataAddress.postcode : '',\n                mpan: mpan_core ? mpan_core : '',\n                mprn: mprn_core ? mprn_core : ''\n              },\n              MPANDetails: {\n                mpan_core: '',\n                meter_serial_number: '',\n                meter_type: '',\n                supplier_mpid: '',\n                company_name: ''\n              },\n              dataGas: {\n                mprn: '',\n                meter_mechanism_code: '',\n                current_supplier_id: '',\n                gas_transport_id: '',\n                company_name: ''\n              }\n            }); // Validation successful\n\n            updateError(false); // Update data\n\n            updateCustomerAddress({ ...dataAddress,\n              mpan: mpan_core,\n              mprn: mprn_core\n            }); // Update progress bar\n\n            updateProgressBar({ ...progressBar,\n              step: 2\n            }); // Hidde Form Address\n\n            updateShowFormAddres(false); // Show Form Fuel type\n\n            updateShowFomrFuelType(true); // Hidde Overlay\n\n            updateShowOverlay(false);\n            console.log('Data was sent successfully - From cancel alert');\n            console.log('Update customers in firebse if it is necessary');\n            return;\n          }\n\n          console.log('Data was sent successfully - Using DB');\n          return customerStep(customerData);\n        }).catch(error => {\n          // Update firebase customer\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 1,\n            customerAddres: {\n              doornumber: dataAddress.doornumber ? dataAddress.doornumber : '',\n              addressline1: dataAddress.addressline1 ? dataAddress.addressline1 : '',\n              addressline2: dataAddress.addressline2 ? dataAddress.addressline2 : '',\n              city: dataAddress.city ? dataAddress.city : '',\n              postcode: dataAddress.postcode ? dataAddress.postcode : '',\n              mpan: mpan_core ? mpan_core : '',\n              mprn: mprn_core ? mprn_core : ''\n            },\n            MPANDetails: {\n              mpan_core: '',\n              meter_serial_number: '',\n              meter_type: '',\n              supplier_mpid: '',\n              company_name: ''\n            },\n            dataGas: {\n              mprn: '',\n              meter_mechanism_code: '',\n              current_supplier_id: '',\n              gas_transport_id: '',\n              company_name: ''\n            }\n          });\n          console.log(error); // Validation successful\n\n          updateError(false); // Update data\n\n          updateCustomerAddress({ ...dataAddress,\n            mpan: mpan_core,\n            mprn: mprn_core\n          }); // Update progress bar\n\n          updateProgressBar({ ...progressBar,\n            step: 2\n          }); // Hidde Form Address\n\n          updateShowFormAddres(false); // Show Form Fuel type\n\n          updateShowFomrFuelType(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n          console.log('Data was sent successfully - From error');\n          console.log('Update customers in firebse if it is necessary');\n          return;\n        }); // End process\n\n        return;\n      } // Create customer in firebase\n\n\n      updateCreateCustomer(true); // Validation successful\n\n      updateError(false); // Update data\n\n      updateCustomerAddress({ ...dataAddress,\n        mpan: mpan_core,\n        mprn: mprn_core\n      }); // Update progress bar\n\n      updateProgressBar({ ...progressBar,\n        step: 2\n      }); // Hidde Form Address\n\n      updateShowFormAddres(false); // Show Form Fuel type\n\n      updateShowFomrFuelType(true); // Hidde Overlay\n\n      updateShowOverlay(false);\n      console.log('Data was sent successfully - No user found');\n      console.log('Create a new customer in firebase'); // End process\n\n      return;\n    }\n  };\n  /** --  Listener to create a customer in firebase -- */\n\n\n  useEffect(() => {\n    (async () => {\n      // createCustomer\n      if (createCustomer) {\n        // postcode_formatted\n        const postcode_formatted = dataAddress.postcode.replace(/\\s/g, '').trim().toLowerCase(); // doornumber_formatted\n\n        const doornumber_formatted = dataAddress.doornumber.replace(/\\s/g, '').trim().toLowerCase(); // uid\n\n        const uid = `${postcode_formatted}-${doornumber_formatted}`; // Firebase\n\n        await db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 1,\n          customerAddres: {\n            doornumber: dataAddress.doornumber ? dataAddress.doornumber : '',\n            addressline1: dataAddress.addressline1 ? dataAddress.addressline1 : '',\n            addressline2: dataAddress.addressline2 ? dataAddress.addressline2 : '',\n            city: dataAddress.city ? dataAddress.city : '',\n            postcode: dataAddress.postcode ? dataAddress.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            meter_serial_number: electricityInformation.MPANDetails.meter_serial_number ? electricityInformation.MPANDetails.meter_serial_number : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : ''\n          },\n          dataGas: {\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            gas_transport_id: gasInformation.dataGas.gas_transport_id ? gasInformation.dataGas.gas_transport_id : ''\n          }\n        });\n      }\n    })();\n  }, [createCustomer]); // Go back to postcode\n\n  const goToPostcode = e => {\n    e.preventDefault(); // Hidde Form Address\n\n    updateShowFormAddres(false); // Show Postcode\n\n    updateShowFormPostCode(true); // Update progress bar\n\n    updateProgressBar({ ...progressBar,\n      step: 0\n    });\n  }; // Address is not listed\n\n\n  const type_address = e => {\n    e.preventDefault(); // Update data address \n\n    updateDataAddress({ ...dataAddress,\n      doornumber: '',\n      addressline1: '',\n      addressline2: '',\n      city: '',\n      // postcode: '',\n      mpan: '',\n      mprn: ''\n    }); // Cleaning states\n\n    updateElectricityInformation({});\n    updateGasInformation({});\n    updateAddress('');\n    updateShowTypeAddres(false);\n    updateError(false); // Reset form\n\n    let reset_doornumber = document.getElementById('door-number');\n    let reset_line1 = document.getElementById('line1');\n    let reset_line2 = document.getElementById('line2');\n    let reset_city = document.getElementById('city');\n\n    if (reset_doornumber !== null && reset_line1 !== null && reset_line2 !== null && reset_city !== null) {\n      reset_doornumber.value = '';\n      reset_line1.value = '';\n      reset_line2.value = '';\n      reset_city.value = '';\n    }\n  }; // HandleChangeSelect\n\n\n  const handleChangeSelect = e => {\n    e.preventDefault(); // Update states\n\n    updateShowTypeAddres(true);\n    updateDataAddress({ ...dataAddress,\n      doornumber: '',\n      addressline1: '',\n      addressline2: '',\n      city: '',\n      // postcode: '',\n      mpan: '',\n      mprn: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showTypeAddress ? address === \"\" ? /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-address-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-address-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-address-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Select your addres from the below\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(SelectAddress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address-manually-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"addr-empty\",\n              onClick: e => type_address(e),\n              children: \"My address isn't listed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 17\n          }, this), error === true ? /*#__PURE__*/_jsxDEV(Error, {\n            message: 'Please enter an address'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 35\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address-btn-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-address-btn btn-back\",\n              onClick: goToPostcode,\n              children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#D338AE',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                  className: \"icon-back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1063,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1062,\n                columnNumber: 21\n              }, this), \"Go back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"addr-noselected\",\n              className: \"form-address-btn btn-next\",\n              onClick: () => address === '' ? updateError(true) : null,\n              children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#FFF',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                  className: \"icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1072,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 15\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helper-address\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"script-address\",\n            children: /*#__PURE__*/_jsxDEV(FormScript, {\n              step: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-address-custom\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1086,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1085,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-address\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1091,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1039,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-address-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-address-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-address-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Select your addres from the below\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1106,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(SelectAddress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address-manually-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => type_address(e),\n              className: focusAnimation ? 'animate__animated animate__headShake' : '',\n              children: \"My address isn't listed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-address-input-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-address-input-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Address Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1121,\n                columnNumber: 21\n              }, this), error === true ? /*#__PURE__*/_jsxDEV(Error, {\n                message: 'Please enter an address'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1124,\n                columnNumber: 39\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Door number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1127,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => setFocusAnimation(!focusAnimation),\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"door-number\",\n                    name: \"doornumber\",\n                    type: \"text\",\n                    value: dataAddress.doornumber || '',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1129,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1128,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1126,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Address Line 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1140,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => setFocusAnimation(!focusAnimation),\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"line1\",\n                    name: \"addressline1\",\n                    type: \"text\",\n                    value: dataAddress.addressline1 || '',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1142,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1141,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Address line 2 (optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1153,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => setFocusAnimation(!focusAnimation),\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"line2\",\n                    name: \"addressline2\",\n                    type: \"text\",\n                    value: dataAddress.addressline2 || '',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1155,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1154,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1152,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1166,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => setFocusAnimation(!focusAnimation),\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"city\",\n                    name: \"city\",\n                    type: \"text\",\n                    value: dataAddress.city || '',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1168,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1167,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1165,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Postcode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => setFocusAnimation(!focusAnimation),\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"postcode\",\n                    name: \"postcode\",\n                    type: \"text\",\n                    value: dataAddress.postcode || '',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1181,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1180,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1178,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1120,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address-btn-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-address-btn btn-back\",\n              onClick: goToPostcode,\n              children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#D338AE',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                  className: \"icon-back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1197,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1196,\n                columnNumber: 21\n              }, this), \"Go back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1195,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-address-btn btn-next\",\n              onClick: e => e.preventDefault(sendAddress(dataAddress)),\n              children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#FFF',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                  className: \"icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1206,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1205,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1202,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1103,\n          columnNumber: 15\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helper-address\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"script-address\",\n            children: /*#__PURE__*/_jsxDEV(FormScript, {\n              step: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1216,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1215,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-address-custom\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1220,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1219,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1214,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-address\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1227,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1225,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1101,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-address-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-address-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-address-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Select your addres from the below\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1240,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onChange: e => handleChangeSelect(e),\n            children: /*#__PURE__*/_jsxDEV(SelectAddress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1247,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1246,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address-manually-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => type_address(e),\n              children: \"My address isn't listed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1250,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-address-input-container\",\n            onChange: () => handleChangeTypeAddress(),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-address-input-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Type address manually\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 21\n              }, this), error === true ? /*#__PURE__*/_jsxDEV(Error, {\n                message: 'Please enter an address'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1260,\n                columnNumber: 39\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Door number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1263,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"door-number\",\n                  type: \"text\",\n                  value: dataAddress.doornumber || '',\n                  onChange: e => handleChange(e),\n                  name: \"doornumber\",\n                  \"data-cy\": \"door-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1264,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Address Line 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1275,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"line1\",\n                  type: \"text\",\n                  value: dataAddress.addressline1 || '',\n                  onChange: e => handleChange(e),\n                  name: \"addressline1\",\n                  \"data-cy\": \"addr1-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1276,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Address line 2 (optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1287,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"line2\",\n                  type: \"text\",\n                  value: dataAddress.addressline2 || '',\n                  onChange: e => handleChange(e),\n                  name: \"addressline2\",\n                  \"data-cy\": \"addr2-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1286,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1299,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"city\",\n                  type: \"text\",\n                  value: dataAddress.city || '',\n                  onChange: e => handleChange(e),\n                  name: \"city\",\n                  \"data-cy\": \"city-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1300,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1298,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-address-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Postcode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1311,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"postcode\",\n                  type: \"text\",\n                  value: postcodeValue,\n                  onChange: e => handleChange(e),\n                  name: \"postcode\",\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1312,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1256,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1255,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-address-btn-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-address-btn btn-back\",\n              onClick: goToPostcode,\n              children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#D338AE',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                  className: \"icon-back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1329,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1328,\n                columnNumber: 21\n              }, this), \"Go back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1327,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"addrtyped-continue\",\n              className: \"form-address-btn btn-next\",\n              onClick: e => e.preventDefault(sendAddress(dataAddress)),\n              children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#FFF',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                  className: \"icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1338,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1337,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1334,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1326,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1239,\n          columnNumber: 15\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helper-address\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"script-address\",\n            children: /*#__PURE__*/_jsxDEV(FormScript, {\n              step: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1348,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1347,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-address-custom\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1352,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1351,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1346,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-address\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1359,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1358,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1357,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1238,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1237,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormAddress, \"/hmGGrop2Y8hdr1qZiMw9+Swuzk=\", false, function () {\n  return [useAddress];\n});\n\n_c = FormAddress;\nexport default FormAddress;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormAddress\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormAddress/FormAddress.jsx"],"names":["React","useState","useEffect","db","firebase","swal","IconContext","IoMdArrowDropleft","IoMdArrowDropright","ImProfile","useAddress","FormScript","Error","FormAssistant","FormAddress","postcodeValue","gasInformation","electricityInformation","progressBar","showScript","customerStep","updateCustomerAddress","updateGasInformation","updateElectricityInformation","updateShowFormPostCode","updateShowFormAddres","updateShowOverlay","updateProgressBar","updateShowFomrFuelType","dataAddress","updateDataAddress","doornumber","addressline1","addressline2","city","postcode","mpan","mprn","addressList","updateAddressList","address","SelectAddress","updateAddress","showTypeAddress","updateShowTypeAddres","error","updateError","createCustomer","updateCreateCustomer","focusAnimation","setFocusAnimation","scroll_to","element","document","querySelector","scrollIntoView","behavior","block","inline","window","scrollTo","top","address_api","process","env","REACT_APP_ADDRESS_API","fetchAPI","key","url","replace","toLowerCase","response_postcode","fetch","method","then","response","console","log","status","json","button","icon","content","catch","selectedValue","doornumberValue","subbuildingname","addressline1Value","buildingname","street","dependentlocality","addressline2Value","cityValue","posttown","mpanValue","mprnValue","undefined","handleChange","e","target","name","value","trim","handleChangeTypeAddress","door_typed","getElementById","addres_line1_typed","city_typed","sendAddress","doornumberValidate","addressValidate","cityValidate","ecoes_api","REACT_APP_ECOES_API","postcodeParameters","responseECOESMPAN","body","JSON","stringify","headers","error_response","Results","Errors","length","NA","successful_response","UtilityAddressMatches","AddressDetails","Value","mpan_core","detailsParameters","responseECOESDetails","MPANDetails","meter_serial_number","meter_type","supplier_mpid","UtilityMatches","Meters","MeterDetails","UtilityDetails","postcode_unformatted","postcode_unformatted_no_space","postcode_formated","first_two","slice","last_three","first_three","first_four","xoserve_api","REACT_APP_XOSERVE_API","responseXOSERVE","mprn_core","dataGas","meter_mechanism_code","current_supplier_id","gas_transport_id","success","hasOwnProperty","postcode_formatted","doornumber_formatted","uid","docRef","collection","doc","getCustomerData","get","exists","data","customer","customerData","customerAddres","company_name_es","company_name","mpan_fetched","company_name_gs","mprn_fetched","className","buttons","cancel","confirm","color","size","marginBottom","display","flexDirection","textAlign","toUpperCase","result","set","created","firestore","FieldValue","serverTimestamp","step","goToPostcode","preventDefault","type_address","reset_doornumber","reset_line1","reset_line2","reset_city","handleChangeSelect","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// Styles\nimport \"./FormAddress.css\";\n// Firebase\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\";\n// Swal\nimport swal from '@sweetalert/with-react';\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\nimport { ImProfile } from 'react-icons/im';\n\n// Hooks\nimport useAddress from \"../../../hooks/useAddress/useAddress\";\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport Error from '../../Error/Error';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\n\nfunction FormAddress({ postcodeValue, gasInformation, electricityInformation, progressBar, showScript, customerStep, updateCustomerAddress, updateGasInformation, updateElectricityInformation, updateShowFormPostCode, updateShowFormAddres, updateShowOverlay, updateProgressBar, updateShowFomrFuelType }) {\n  /** STATES */\n  // Customer Address JSON\n  const [dataAddress, updateDataAddress] = useState({\n    doornumber: '',\n    addressline1: '',\n    addressline2: '',\n    city: '',\n    postcode: '',\n    mpan: '',\n    mprn: ''\n  });\n\n  // Customer Address List\n  const [addressList, updateAddressList] = useState([]);\n\n  // Hook useAddress\n  const [address, SelectAddress, updateAddress] = useAddress(\n    \"\", //Label\n    \"\", //Initial State\n    addressList //Array(response)\n  );\n\n  // Show Address type section\n  const [showTypeAddress, updateShowTypeAddres] = useState(true);\n\n  // Error State\n  const [error, updateError] = useState(false);\n\n  // Create customer in firebase\n  const [createCustomer, updateCreateCustomer] = useState(false);\n\n  // Button focus animation\n  const [focusAnimation, setFocusAnimation] = useState(false);\n\n  /** FUNCTIONS */\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n      }\n\n      scroll_to()\n    }\n  }, [error]);\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // useEffect to fetch the data from API\n  useEffect(() => {\n\n    const address_api = process.env.REACT_APP_ADDRESS_API;\n\n    // Fetching Data\n    const fetchAPI = async () => {\n      // const url = `https://ws.postcoder.com/pcw/${address_api}/address/uk/${postcodeValue.replace(/ /g, '').toLowerCase()}`;\n      const key = 'T0ncjBouIEGvOLZYTcKjAw32758';\n      const url = `https://api.getAddress.io/find/${postcodeValue.replace(/ /g, '').toLowerCase()}?api-key=${key}&expand=true`;\n      const response_postcode = await fetch(url, {\n        method: 'GET'\n      }).then(function (response) {\n        console.log(response)\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          swal({\n            button: \"Ok\",\n            icon: \"info\",\n            content: (\n              <div className=\"swal-text-custom\">\n                <h1>Address not found</h1>\n                <p>\n                  Please enter the address manually\n                </p>\n              </div>\n            )\n          });\n          return;\n        }\n      }).then(function (response) {\n        console.log(response)\n        return response;\n      }).catch(function (error) {\n        console.error(`Catch an error fetching to postcoder ${error}`);\n        swal({\n          button: \"Ok\",\n          icon: \"info\",\n          content: (\n            <div className=\"swal-text-custom\">\n              <h1>Address not found</h1>\n              <p>\n                Please enter the address manually\n              </p>\n            </div>\n          )\n        });\n        return;\n      });\n\n      // if (response_postcode !== undefined) {\n      //   const data = response_postcode;\n\n      //   // Adding an ID\n      //   data.forEach((item, i) => {\n      //     item.id = i + 1;\n      //   });\n\n      //   if (addressList === []) {\n      //     return;\n      //   } else {\n      //     updateAddressList(data);\n      //   }\n      // } else {\n      //   return;\n      // }\n    }\n    // Execute Fetch API\n    fetchAPI();\n  }, []);\n\n  // // useEffect to fetch the data from API\n  // useEffect(() => {\n\n  //   const address_api = process.env.REACT_APP_ADDRESS_API;\n\n  //   // Fetching Data\n  //   const fetchAPI = async () => {\n  //     const url = `https://ws.postcoder.com/pcw/${address_api}/address/uk/${postcodeValue.replace(/ /g, '').toLowerCase()}`;\n  //     // const key = '7vEkPWjLEkyhdhllWkXxSA29966';\n  //     // const url = `https://api.getAddress.io/find/${postcodeValue.replace(/ /g, '').toLowerCase()}?api-key=${key}&expand=true`;\n  //     const response_postcode = await fetch(url, {\n  //       method: 'GET'\n  //     }).then(function (response) {\n  //       if (response.status === 200) {\n  //         return response.json();\n  //       } else {\n  //         swal({\n  //           button: \"Ok\",\n  //           icon: \"info\",\n  //           content: (\n  //             <div className=\"swal-text-custom\">\n  //               <h1>Address not found</h1>\n  //               <p>\n  //                 Please enter the address manually\n  //               </p>\n  //             </div>\n  //           )\n  //         });\n  //         return;\n  //       }\n  //     }).then(function (response) {\n  //       return response;\n  //     }).catch(function (error) {\n  //       console.error(`Catch an error fetching to postcoder ${error}`);\n  //       swal({\n  //         button: \"Ok\",\n  //         icon: \"info\",\n  //         content: (\n  //           <div className=\"swal-text-custom\">\n  //             <h1>Address not found</h1>\n  //             <p>\n  //               Please enter the address manually\n  //             </p>\n  //           </div>\n  //         )\n  //       });\n  //       return;\n  //     });\n\n  //     if (response_postcode !== undefined) {\n  //       const data = response_postcode;\n\n  //       // Adding an ID\n  //       data.forEach((item, i) => {\n  //         item.id = i + 1;\n  //       });\n\n  //       if (addressList === []) {\n  //         return;\n  //       } else {\n  //         updateAddressList(data);\n  //       }\n  //     } else {\n  //       return;\n  //     }\n  //   }\n  //   // Execute Fetch API\n  //   fetchAPI();\n  // }, []);\n\n  // Address Data\n  if (address !== '') {\n    // Selected Value\n    const selectedValue = addressList[address - 1];\n\n    // Separated Values\n    var doornumberValue = selectedValue.subbuildingname;\n    var addressline1Value = selectedValue.buildingname + ', ' + selectedValue.street + ', ' + selectedValue.dependentlocality;\n    var addressline2Value = '';\n    var cityValue = selectedValue.posttown;\n    var mpanValue = '';\n    var mprnValue = '';\n\n    if (doornumberValue === undefined || doornumberValue === '') {\n      doornumberValue = \"Does no apply\";\n    } else {\n      doornumberValue = selectedValue.subbuildingname;\n    }\n\n    if (addressline1Value === undefined || addressline1Value === '') {\n      addressline1Value = \"Does no apply\";\n    } else {\n      addressline1Value = selectedValue.buildingname + ', ' + selectedValue.street + ', ' + selectedValue.dependentlocality;\n    }\n\n    if (addressline2Value === undefined || addressline2Value === '') {\n      addressline2Value = \"Does no apply\";\n    } else {\n      addressline2Value = selectedValue.subbuildingname;\n    }\n\n    if (cityValue === undefined || cityValue === '') {\n      cityValue = \"Does no apply\";\n    } else {\n      cityValue = selectedValue.posttown;\n    }\n\n    if (mpanValue === undefined || mpanValue === '') {\n      mpanValue = '';\n    } else {\n      mpanValue = '';\n    }\n\n    if (mprnValue === undefined || mprnValue === '') {\n      mprnValue = '';\n    } else {\n      mprnValue = '';\n    }\n  }\n\n  const doornumber = doornumberValue;\n  const addressline1 = addressline1Value;\n  const addressline2 = addressline2Value;\n  const city = cityValue;\n  const postcode = postcodeValue;\n  const mpan = mpanValue;\n  const mprn = mprnValue;\n\n  // useEffect to add the data to the state\n  useEffect(() => {\n    updateDataAddress({\n      ...dataAddress,\n      doornumber: doornumber,\n      addressline1: addressline1,\n      addressline2: addressline2,\n      city: city,\n      postcode: postcode,\n      mpan: mpan,\n      mprn: mprn\n    });\n\n    updateError(false);\n  }, [address]);\n\n  // Function that runs every time the user writes to the input\n  const handleChange = (e) => {\n    updateDataAddress({\n      ...dataAddress,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim(),\n      mpan: '',\n      mprn: ''\n    });\n  };\n\n  const handleChangeTypeAddress = () => {\n    const door_typed = document.getElementById(\"door-number\").value;\n    const addres_line1_typed = document.getElementById(\"line1\").value;\n    const city_typed = document.getElementById(\"city\").value;\n\n    // Validation for Typeaddress\n    if ((door_typed !== '') && (addres_line1_typed !== '') && (city_typed !== '')) {\n      // Hidde message\n      updateError(false);\n    }\n  }\n\n  // Send Add address to CustomerData \n  const sendAddress = async (dataAddress) => {\n\n    const door_typed = document.getElementById(\"door-number\").value;\n    const addres_line1_typed = document.getElementById(\"line1\").value;\n    const city_typed = document.getElementById(\"city\").value;\n\n    // Validation for type address section\n    if (((door_typed === '') || (door_typed === undefined)) || ((addres_line1_typed === '') || (addres_line1_typed === undefined)) || ((city_typed === '') || (city_typed === undefined))) {\n      updateError(true);\n      return;\n    } else {\n      updateError(false);\n    }\n\n    // Show Overlay\n    updateShowOverlay(true);\n\n    // Values to validate\n    const doornumberValidate = dataAddress.doornumber.replace(/[^\\w\\s]/gi, '').trim();\n    const addressValidate = dataAddress.addressline1.replace(/[^\\w\\s]/gi, '').trim();\n    const cityValidate = dataAddress.city.replace(/[^\\w\\s]/gi, '').trim();\n\n    if (doornumberValidate === '' || doornumberValidate === undefined || addressValidate === '' || addressValidate === undefined || cityValidate === '' || cityValidate === undefined) {\n      // Validation failed\n      updateError(true);\n    } else {\n      /** -- ECOES API -- */\n\n      // ecoes_api\n      const ecoes_api = process.env.REACT_APP_ECOES_API;\n\n      // Body parameters\n      const postcodeParameters = {\n        \"Authentication\": {\n          \"Key\": ecoes_api\n        },\n        \"ParameterSets\": [{\n          \"Parameters\": [\n            {\n              \"Key\": \"Postcode\",\n              \"Value\": postcodeValue.replace(/[^\\w\\s]/gi, '').trim()\n            },\n            {\n              \"Key\": \"BuildingNumber\",\n              \"Value\": doornumberValidate\n            }\n          ]\n        }]\n      }\n\n      // Response ECOES MPAN\n      const responseECOESMPAN = await fetch('https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/SearchUtilityAddress', {\n        method: 'POST',\n        body: JSON.stringify(postcodeParameters),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n      }).then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          return console.error('An error ocurred fetching to ECOES SearchUtilityAddress');\n        }\n      }).then(function (response) {\n        // Error response\n        const error_response = response.Results[0].Errors.length;\n\n        // Check values and return \n        if (error_response >= 1) {\n          const NA = 'NA';\n          return NA;\n        } else {\n          // Successful response\n          const successful_response = response.Results[0].UtilityAddressMatches[0].AddressDetails[0].Value;\n          return successful_response;\n        }\n      }).catch(function (error) {\n\n        return console.error(`Catch an error fetching to ECOES SearchUtilityAddress ${error}`);\n      });\n\n      // MPAN value\n      let mpan_core = '';\n\n      if (responseECOESMPAN !== \"NA\" && responseECOESMPAN !== undefined) {\n        mpan_core = responseECOESMPAN.replace(/[^\\w\\s]/gi, '').trim();\n      } else {\n        mpan_core = '';\n      }\n\n      //If we get a MPAN value call ECOES Details - Conditional\n      if (mpan_core !== '') {\n        /**-- Response ECOES DETAILS by MPAN--  */\n        // Body parameters\n        const detailsParameters = {\n          \"Authentication\": {\n            \"Key\": ecoes_api\n          },\n          \"ParameterSets\": [{\n            \"Parameters\": [{\n              \"Key\": \"MPAN\",\n              \"Value\": mpan_core\n            }]\n          }]\n        }\n\n        const responseECOESDetails = await fetch('https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/GetTechnicalDetailsByMpan', {\n          method: 'POST',\n          body: JSON.stringify(detailsParameters),\n          headers: {\n            'Content-Type': 'application/json'\n          },\n        }).then(function (response) {\n          if (response.status === 200) {\n            return response.json();\n          } else {\n            return console.error('An error ocurred fetching to GetTechnicalDetailsByMpan');\n          }\n        }).then(function (response) {\n          if (response !== undefined) {\n            // Error response\n            const error_response = response.Results[0].Errors.length;\n            // Check values and return \n            if (error_response >= 1) {\n              // Electricity Infomartion values\n              const MPANDetails = {\n                mpan_core: '',\n                meter_serial_number: '',\n                meter_type: '',\n                supplier_mpid: ''\n              }\n\n              // Update the state\n              updateElectricityInformation({ ...electricityInformation, MPANDetails });\n            } else {\n              // Extract the values from the response\n              const meter_serial_number = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[1].Value;\n              const meter_type = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[2].Value;\n              const supplier_mpid = response.Results[0].UtilityMatches[0].UtilityDetails[11].Value;\n              // Assign values\n              const MPANDetails = {\n                mpan_core,\n                meter_serial_number,\n                meter_type,\n                supplier_mpid\n              }\n\n              // Update the state\n              updateElectricityInformation({ ...electricityInformation, MPANDetails });\n            }\n          } else {\n            // Electricity Infomartion values\n            const MPANDetails = {\n              mpan_core: '',\n              meter_serial_number: '',\n              meter_type: '',\n              supplier_mpid: ''\n            }\n            // Update the state\n            return updateElectricityInformation({ ...electricityInformation, MPANDetails });\n          }\n        });\n      } else {\n        // Electricity Infomartion values\n        const MPANDetails = {\n          mpan_core: '',\n          meter_serial_number: '',\n          meter_type: '',\n          supplier_mpid: ''\n        }\n        // Update the state\n        updateElectricityInformation({ ...electricityInformation, MPANDetails });\n      }\n\n      /**--Postcode structure */\n\n      // Postcode unformatted\n      let postcode_unformatted = postcode;\n      // Postcode without spaces\n      let postcode_unformatted_no_space = postcode_unformatted.replace(/ /g, '');\n      // Postcode formated\n      let postcode_formated = '';\n\n      // For a postcode structure AN-NAA\n      if (postcode_unformatted_no_space.length === 5) {\n        // First two chars \n        let first_two = postcode_unformatted_no_space.slice(0, 2);\n        // Last three chars\n        let last_three = postcode_unformatted_no_space.slice(2, 5);\n        // Formated Postcode\n        postcode_formated = first_two + ' ' + last_three;\n      }\n\n      // For a postcode structure ANN-NAA, AAN-NAA, ANA-NAA\n      if (postcode_unformatted_no_space.length === 6) {\n        // First three chars \n        let first_three = postcode_unformatted_no_space.slice(0, 3);\n        // Last three chars\n        let last_three = postcode_unformatted_no_space.slice(3, 6);\n        // Formated Postcode\n        postcode_formated = first_three + ' ' + last_three;\n      }\n\n      // For a postcode structure AANN-NAA, AANA-NAA\n      if (postcode_unformatted_no_space.length === 7) {\n        // First three chars \n        let first_four = postcode_unformatted_no_space.slice(0, 4);\n        // Last three chars\n        let last_three = postcode_unformatted_no_space.slice(4, 7);\n        // Formated Postcode\n        postcode_formated = first_four + ' ' + last_three;\n      }\n\n      /** -- XOSERVE API -- */\n\n      // xoserve_api\n      const xoserve_api = process.env.REACT_APP_XOSERVE_API;\n\n      const responseXOSERVE = await fetch(`https://cors-anywhere.herokuapp.com/https://xoserve.apimanagement.hana.ondemand.com:443/v1/switchdataTBB.svc?postcode='${postcode_formated}'&house_no='${doornumberValidate}'`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'APIKey': xoserve_api\n        },\n      }).then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          const mprn_core = '';\n          updateGasInformation({\n            ...gasInformation,\n            dataGas: {\n              mprn: '',\n              meter_mechanism_code: '',\n              current_supplier_id: '',\n              gas_transport_id: ''\n            }\n          });\n\n          console.error('An error ocurred fetching to Xoserve switchdataTBB');\n\n          return mprn_core;\n\n        }\n      }).then(function (response) {\n        // If exist information about the property \n        const success = response.hasOwnProperty('mprn');\n\n        if (success === true) {\n          const dataGas = response.mprn[0];\n          const mprn_core = response.mprn[0].mprn;\n          updateGasInformation({ ...gasInformation, dataGas });\n          return mprn_core;\n        } else {\n          const mprn_core = '';\n          updateGasInformation({\n            ...gasInformation,\n            dataGas: {\n              mprn: mprn_core,\n              meter_mechanism_code: '',\n              current_supplier_id: '',\n              gas_transport_id: ''\n            }\n          });\n          return mprn_core;\n        }\n      }).catch(function (error) {\n\n        return console.error(`Catch an error fetching to Xoserve switchdataTBB: ${error}`);\n      });\n\n      // MPRN value\n      let mprn_core = responseXOSERVE;\n\n      if (mprn_core === undefined) {\n        mprn_core = '';\n        updateGasInformation({\n          ...gasInformation,\n          dataGas: {\n            mprn: '',\n            meter_mechanism_code: '',\n            current_supplier_id: '',\n            gas_transport_id: ''\n          }\n        });\n      }\n\n      const postcode_formatted = dataAddress.postcode.replace(/\\s/g, '').trim().toLowerCase();\n      const doornumber_formatted = dataAddress.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n\n      const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n      // Document ref\n      let docRef = await db.collection(\"customers\").doc(uid);\n\n      // // Fetching customer data\n      // const getCustomerData = async () => docRef.get().then((doc) => {\n      //   // If customer exist\n      //   if (doc.exists) {\n      //     return doc.data();\n      //   }\n      //   return;\n      // });\n\n      // Fetching customer data\n      const getCustomerData = async () => docRef.get().then((doc) => {\n        // If customer exist\n        if (doc.exists) {\n          return doc.data();\n        }\n        return;\n      }).catch((error) => {\n        console.log(error)\n        console.log('Fetching customer data failed');\n        return;\n      });\n\n      // Execute getCustomerData\n      let customer = await getCustomerData();\n\n      // Validate if customer exists\n      if (customer) {\n\n        // customerData\n        const customerData = customer;\n\n        // Customer Information\n        const { customerAddres, MPANDetails, dataGas } = customerData;\n\n        // Customer Address\n        const { doornumber, addressline1, addressline2, city, postcode } = customerAddres;\n\n        // MPANDetails\n        const { meter_type } = MPANDetails;\n\n        // dataGas\n        const { meter_mechanism_code } = dataGas;\n\n        // Electricity company name\n        const company_name_es = MPANDetails.company_name;\n        // MPAN\n        const mpan_fetched = MPANDetails.mpan_core;\n\n        // Gas company name\n        const company_name_gs = dataGas.company_name;\n        // MPRN\n        const mprn_fetched = dataGas.mprn;\n\n        // Customer Information - Sweet alert\n        swal({\n          className: 'swal-modal_custom',\n          buttons: {\n            cancel: \"Cancel\",\n            confirm: \"Use this information\"\n          },\n          content: (\n            <>\n              <div className=\"form-compare-details-info-container\">\n                <div className=\"form-compare-details-info\">\n\n                  <IconContext.Provider value={{ color: '#D338AE', size: '50px' }}>\n                    <ImProfile />\n                  </IconContext.Provider>\n\n                  <h3 style={{ marginBottom: '0' }}>Data found for this customer</h3>\n\n                  <div className=\"form-compare-details-container\">\n                    {/* Customer Address */}\n                    <div className=\"form-compare-single-details\">\n                      <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'start' }}>\n                        <p>Address:<span>{`${addressline1.toUpperCase()}${addressline2 === \"Does no apply\" ? '' : `, ${addressline2.toUpperCase()}`} `}</span></p>\n                        <p>Flat number:<span>{doornumber.toUpperCase()}</span></p>\n                        <p>City:<span>{city.toUpperCase()}</span></p>\n                        <p>Postcode:<span>{postcode.toUpperCase()}</span></p>\n                      </div>\n                    </div>\n\n                    {/* -------- ELECTRICITY INFORMATION -------- */}\n\n                    {/* Title - Elictricity Information */}\n                    {(!!company_name_es) || (!!meter_type) || (!!mpan_fetched) ?\n                      (<h3>Electricity Information</h3>)\n                      :\n                      null}\n\n                    {/* Address - Elictricity Information */}\n                    {!!company_name_es ?\n                      (\n                        <div className=\"form-compare-single-details\">\n                          <p>Supplier: <span>{company_name_es}</span></p>\n                        </div>\n                      )\n                      :\n                      null\n                    }\n\n                    {/* Meter Type - Elictricity Information */}\n                    {!!meter_type ?\n                      (\n                        <div className=\"form-compare-single-details\">\n                          <p>Meter Type: <span>{meter_type}</span></p>\n                        </div>\n                      )\n                      :\n                      null\n                    }\n\n                    {/* Meter Type - Elictricity Information */}\n                    {!!mpan_fetched ?\n                      (\n                        <div className=\"form-compare-single-details\">\n                          <p>MPAN: <span>{mpan_fetched}</span></p>\n                        </div>\n                      )\n                      :\n                      null\n                    }\n\n                    {/* -------- GAS INFORMATION -------- */}\n\n                    {/* Title - Gas Information */}\n                    {(!!company_name_gs) || (!!meter_mechanism_code) || (!!mprn_fetched) ?\n                      (<h3>Gas Information</h3>)\n                      :\n                      null}\n\n                    {/* Address - Gas Information */}\n                    {!!company_name_gs ?\n                      (\n                        <div className=\"form-compare-single-details\">\n                          <p>Supplier: <span>{company_name_gs}</span></p>\n                        </div>\n                      )\n                      :\n                      null\n                    }\n\n                    {/* Meter Type - Gas Information */}\n                    {!!meter_mechanism_code ?\n                      (\n                        <div className=\"form-compare-single-details\">\n                          <p>Meter Type: <span>{meter_mechanism_code}</span></p>\n                        </div>\n                      )\n                      :\n                      null\n                    }\n\n                    {/* Meter Type - Gas Information */}\n                    {!!mprn_fetched ?\n                      (\n                        <div className=\"form-compare-single-details\">\n                          <p>MPAN: <span>{mprn_fetched}</span></p>\n                        </div>\n                      )\n                      :\n                      null\n                    }\n\n                  </div>\n                </div>\n              </div>\n            </>\n          )\n        }).then((result) => {\n\n          if (result !== true) {\n\n            // postcode_formatted\n            const postcode_formatted = dataAddress.postcode.replace(/\\s/g, '').trim().toLowerCase();\n            // doornumber_formatted\n            const doornumber_formatted = dataAddress.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n            // uid\n            const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n            // Update firebase customer\n            db.collection(\"customers\").doc(uid).set({\n              created: firebase.firestore.FieldValue.serverTimestamp(),\n              step: 1,\n              customerAddres: {\n                doornumber: dataAddress.doornumber ? dataAddress.doornumber : '',\n                addressline1: dataAddress.addressline1 ? dataAddress.addressline1 : '',\n                addressline2: dataAddress.addressline2 ? dataAddress.addressline2 : '',\n                city: dataAddress.city ? dataAddress.city : '',\n                postcode: dataAddress.postcode ? dataAddress.postcode : '',\n                mpan: mpan_core ? mpan_core : '',\n                mprn: mprn_core ? mprn_core : ''\n              },\n              MPANDetails: {\n                mpan_core: '',\n                meter_serial_number: '',\n                meter_type: '',\n                supplier_mpid: '',\n                company_name: ''\n              },\n              dataGas: {\n                mprn: '',\n                meter_mechanism_code: '',\n                current_supplier_id: '',\n                gas_transport_id: '',\n                company_name: ''\n              }\n            });\n\n            // Validation successful\n            updateError(false);\n            // Update data\n            updateCustomerAddress({\n              ...dataAddress,\n              mpan: mpan_core,\n              mprn: mprn_core\n            });\n            // Update progress bar\n            updateProgressBar({ ...progressBar, step: 2 });\n            // Hidde Form Address\n            updateShowFormAddres(false);\n            // Show Form Fuel type\n            updateShowFomrFuelType(true);\n            // Hidde Overlay\n            updateShowOverlay(false);\n            console.log('Data was sent successfully - From cancel alert');\n            console.log('Update customers in firebse if it is necessary');\n\n            return;\n          }\n\n          console.log('Data was sent successfully - Using DB');\n          return customerStep(customerData);\n\n        }).catch((error) => {\n\n          // Update firebase customer\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 1,\n            customerAddres: {\n              doornumber: dataAddress.doornumber ? dataAddress.doornumber : '',\n              addressline1: dataAddress.addressline1 ? dataAddress.addressline1 : '',\n              addressline2: dataAddress.addressline2 ? dataAddress.addressline2 : '',\n              city: dataAddress.city ? dataAddress.city : '',\n              postcode: dataAddress.postcode ? dataAddress.postcode : '',\n              mpan: mpan_core ? mpan_core : '',\n              mprn: mprn_core ? mprn_core : ''\n            },\n            MPANDetails: {\n              mpan_core: '',\n              meter_serial_number: '',\n              meter_type: '',\n              supplier_mpid: '',\n              company_name: ''\n            },\n            dataGas: {\n              mprn: '',\n              meter_mechanism_code: '',\n              current_supplier_id: '',\n              gas_transport_id: '',\n              company_name: ''\n            }\n          });\n\n          console.log(error);\n\n          // Validation successful\n          updateError(false);\n          // Update data\n          updateCustomerAddress({\n            ...dataAddress,\n            mpan: mpan_core,\n            mprn: mprn_core\n          });\n          // Update progress bar\n          updateProgressBar({ ...progressBar, step: 2 });\n          // Hidde Form Address\n          updateShowFormAddres(false);\n          // Show Form Fuel type\n          updateShowFomrFuelType(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n          console.log('Data was sent successfully - From error');\n          console.log('Update customers in firebse if it is necessary');\n          return;\n        });\n\n        // End process\n        return;\n      }\n\n      // Create customer in firebase\n      updateCreateCustomer(true);\n\n      // Validation successful\n      updateError(false);\n      // Update data\n      updateCustomerAddress({\n        ...dataAddress,\n        mpan: mpan_core,\n        mprn: mprn_core\n      });\n      // Update progress bar\n      updateProgressBar({ ...progressBar, step: 2 });\n      // Hidde Form Address\n      updateShowFormAddres(false);\n      // Show Form Fuel type\n      updateShowFomrFuelType(true);\n      // Hidde Overlay\n      updateShowOverlay(false);\n      console.log('Data was sent successfully - No user found');\n      console.log('Create a new customer in firebase');\n\n      // End process\n      return;\n    }\n  }\n\n  /** --  Listener to create a customer in firebase -- */\n  useEffect(() => {\n    (async () => {\n      // createCustomer\n      if (createCustomer) {\n        // postcode_formatted\n        const postcode_formatted = dataAddress.postcode.replace(/\\s/g, '').trim().toLowerCase();\n        // doornumber_formatted\n        const doornumber_formatted = dataAddress.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n        // uid\n        const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n        // Firebase\n        await db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 1,\n          customerAddres: {\n            doornumber: dataAddress.doornumber ? dataAddress.doornumber : '',\n            addressline1: dataAddress.addressline1 ? dataAddress.addressline1 : '',\n            addressline2: dataAddress.addressline2 ? dataAddress.addressline2 : '',\n            city: dataAddress.city ? dataAddress.city : '',\n            postcode: dataAddress.postcode ? dataAddress.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            meter_serial_number: electricityInformation.MPANDetails.meter_serial_number ? electricityInformation.MPANDetails.meter_serial_number : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : ''\n          },\n          dataGas: {\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            gas_transport_id: gasInformation.dataGas.gas_transport_id ? gasInformation.dataGas.gas_transport_id : ''\n          }\n        });\n      }\n    })();\n\n  }, [createCustomer]);\n\n  // Go back to postcode\n  const goToPostcode = (e) => {\n    e.preventDefault();\n    // Hidde Form Address\n    updateShowFormAddres(false);\n    // Show Postcode\n    updateShowFormPostCode(true);\n    // Update progress bar\n    updateProgressBar({ ...progressBar, step: 0 });\n  };\n\n  // Address is not listed\n  const type_address = (e) => {\n    e.preventDefault();\n    // Update data address \n    updateDataAddress({\n      ...dataAddress,\n      doornumber: '',\n      addressline1: '',\n      addressline2: '',\n      city: '',\n      // postcode: '',\n      mpan: '',\n      mprn: ''\n    });\n    // Cleaning states\n    updateElectricityInformation({});\n    updateGasInformation({});\n    updateAddress('');\n    updateShowTypeAddres(false);\n    updateError(false);\n\n    // Reset form\n    let reset_doornumber = document.getElementById('door-number');\n    let reset_line1 = document.getElementById('line1');\n    let reset_line2 = document.getElementById('line2');\n    let reset_city = document.getElementById('city');\n    if ((reset_doornumber !== null) && (reset_line1 !== null) && (reset_line2 !== null) && (reset_city !== null)) {\n      reset_doornumber.value = '';\n      reset_line1.value = '';\n      reset_line2.value = '';\n      reset_city.value = '';\n    }\n  }\n\n  // HandleChangeSelect\n  const handleChangeSelect = (e) => {\n    e.preventDefault();\n    // Update states\n    updateShowTypeAddres(true);\n    updateDataAddress({\n      ...dataAddress,\n      doornumber: '',\n      addressline1: '',\n      addressline2: '',\n      city: '',\n      // postcode: '',\n      mpan: '',\n      mprn: ''\n    });\n  }\n\n  return (\n    <>\n      {showTypeAddress ?\n        address === \"\" ? (\n          <section className=\"form-address-section\">\n            <div className=\"form-address-container\">\n              <div className=\"form-address-content\">\n                <div className=\"form-address\">\n                  <h1>Select your addres from the below</h1>\n                  <p>Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch.</p>\n                </div>\n\n                {/* Address */}\n                <div>\n                  <SelectAddress />\n                </div>\n\n                <div className='form-address-manually-btn'>\n                  <button data-cy=\"addr-empty\" onClick={(e) => type_address(e)}>My address isn't listed</button>\n                </div>\n\n                {/* Error */}\n                {error === true ? <Error message={'Please enter an address'} /> : null}\n\n                {/* Buttons */}\n                <div className=\"form-address-btn-container\">\n                  <button className=\"form-address-btn btn-back\" onClick={goToPostcode}>\n                    <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                      <IoMdArrowDropleft className=\"icon-back\" />\n                    </IconContext.Provider>\n                    Go back\n                  </button>\n\n                  <button data-cy=\"addr-noselected\" className=\"form-address-btn btn-next\" onClick={() => address === '' ? updateError(true) : null}>\n                    Continue\n\n                    <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                      <IoMdArrowDropright className=\"icon-next\" />\n                    </IconContext.Provider>\n                  </button>\n                </div>\n              </div>\n\n              {showScript ?\n                (\n                  <div className=\"helper-address\">\n                    <div className=\"script-address\">\n                      <FormScript step={2} />\n                    </div>\n\n                    <div className=\"assistant-address-custom\">\n                      <FormAssistant tips={1} />\n                    </div>\n                  </div>\n                )\n                :\n                <div style={{ width: '100%' }}>\n                  <div className=\"assistant-address\">\n                    <FormAssistant tips={1} />\n                  </div>\n                </div>\n              }\n\n            </div>\n          </section>\n        ) : (\n          <section className=\"form-address-section\">\n            <div className=\"form-address-container\">\n              <div className=\"form-address-content\">\n                <div className=\"form-address\">\n                  <h1>Select your addres from the below</h1>\n                  <p>Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch.</p>\n                </div>\n\n                {/* Address */}\n                <div>\n                  <SelectAddress />\n                </div>\n\n                <div className=\"form-address-manually-btn\">\n                  <button onClick={(e) => type_address(e)} className={focusAnimation ? 'animate__animated animate__headShake' : ''}>My address isn't listed</button>\n                </div>\n\n                {/* Inputs */}\n                <form className=\"form-address-input-container\">\n                  <div className=\"form-address-input-content\">\n                    <h2>Address Information</h2>\n\n                    {/* Error */}\n                    {error === true ? <Error message={'Please enter an address'} /> : null}\n\n                    <div className=\"form-address-input\">\n                      <label>Door number</label>\n                      <div onClick={() => setFocusAnimation(!focusAnimation)}>\n                        <input\n                          id=\"door-number\"\n                          name=\"doornumber\"\n                          type=\"text\"\n                          value={dataAddress.doornumber || ''}\n                          disabled={true}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>Address Line 1</label>\n                      <div onClick={() => setFocusAnimation(!focusAnimation)}>\n                        <input\n                          id=\"line1\"\n                          name=\"addressline1\"\n                          type=\"text\"\n                          value={dataAddress.addressline1 || ''}\n                          disabled={true}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>Address line 2 (optional)</label>\n                      <div onClick={() => setFocusAnimation(!focusAnimation)}>\n                        <input\n                          id=\"line2\"\n                          name=\"addressline2\"\n                          type=\"text\"\n                          value={dataAddress.addressline2 || ''}\n                          disabled={true}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>City</label>\n                      <div onClick={() => setFocusAnimation(!focusAnimation)}>\n                        <input\n                          id=\"city\"\n                          name=\"city\"\n                          type=\"text\"\n                          value={dataAddress.city || ''}\n                          disabled={true}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>Postcode</label>\n                      <div onClick={() => setFocusAnimation(!focusAnimation)}>\n                        <input\n                          id=\"postcode\"\n                          name=\"postcode\"\n                          type=\"text\"\n                          value={dataAddress.postcode || ''}\n                          disabled={true}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </form>\n\n                {/* Buttons */}\n                <div className=\"form-address-btn-container\">\n                  <button className=\"form-address-btn btn-back\" onClick={goToPostcode}>\n                    <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                      <IoMdArrowDropleft className=\"icon-back\" />\n                    </IconContext.Provider>\n                    Go back\n                  </button>\n\n                  <button className=\"form-address-btn btn-next\" onClick={(e) => e.preventDefault(sendAddress(dataAddress))}>\n                    Continue\n\n                    <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                      <IoMdArrowDropright className=\"icon-next\" />\n                    </IconContext.Provider>\n                  </button>\n                </div>\n              </div>\n\n              {showScript ?\n                (\n                  <div className=\"helper-address\">\n                    <div className=\"script-address\">\n                      <FormScript step={2} />\n                    </div>\n\n                    <div className=\"assistant-address-custom\">\n                      <FormAssistant tips={1} />\n                    </div>\n                  </div>\n                )\n                :\n                <div style={{ width: '100%' }}>\n                  <div className=\"assistant-address\">\n                    <FormAssistant tips={1} />\n                  </div>\n                </div>\n              }\n\n            </div>\n          </section>\n        )\n        :\n        (\n          <section className=\"form-address-section\">\n            <div className=\"form-address-container\">\n              <div className=\"form-address-content\">\n                <div className=\"form-address\">\n                  <h1>Select your addres from the below</h1>\n                  <p>Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch.</p>\n                </div>\n\n                {/* Address */}\n                <div onChange={(e) => handleChangeSelect(e)}>\n                  <SelectAddress />\n                </div>\n\n                <div className='form-address-manually-btn'>\n                  <button onClick={(e) => type_address(e)}>My address isn't listed</button>\n                </div>\n\n                {/* Inputs */}\n                <form className=\"form-address-input-container\" onChange={() => handleChangeTypeAddress()}>\n                  <div className=\"form-address-input-content\">\n                    <h2>Type address manually</h2>\n\n                    {/* Error */}\n                    {error === true ? <Error message={'Please enter an address'} /> : null}\n\n                    <div className=\"form-address-input\">\n                      <label>Door number</label>\n                      <input\n                        id=\"door-number\"\n                        type=\"text\"\n                        value={dataAddress.doornumber || ''}\n                        onChange={(e) => handleChange(e)}\n                        name=\"doornumber\"\n                        data-cy=\"door-input\"\n                      />\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>Address Line 1</label>\n                      <input\n                        id=\"line1\"\n                        type=\"text\"\n                        value={dataAddress.addressline1 || ''}\n                        onChange={(e) => handleChange(e)}\n                        name=\"addressline1\"\n                        data-cy=\"addr1-input\"\n                      />\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>Address line 2 (optional)</label>\n                      <input\n                        id=\"line2\"\n                        type=\"text\"\n                        value={dataAddress.addressline2 || ''}\n                        onChange={(e) => handleChange(e)}\n                        name=\"addressline2\"\n                        data-cy=\"addr2-input\"\n                      />\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>City</label>\n                      <input\n                        id=\"city\"\n                        type=\"text\"\n                        value={dataAddress.city || ''}\n                        onChange={(e) => handleChange(e)}\n                        name=\"city\"\n                        data-cy=\"city-input\"\n                      />\n                    </div>\n\n                    <div className=\"form-address-input\">\n                      <label>Postcode</label>\n                      <input\n                        id=\"postcode\"\n                        type=\"text\"\n                        value={postcodeValue}\n                        onChange={(e) => handleChange(e)}\n                        name=\"postcode\"\n                        disabled\n                      />\n                    </div>\n\n                  </div>\n                </form>\n\n                {/* Buttons */}\n                <div className=\"form-address-btn-container\">\n                  <button className=\"form-address-btn btn-back\" onClick={goToPostcode}>\n                    <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                      <IoMdArrowDropleft className=\"icon-back\" />\n                    </IconContext.Provider>\n                    Go back\n                  </button>\n\n                  <button data-cy=\"addrtyped-continue\" className=\"form-address-btn btn-next\" onClick={(e) => e.preventDefault(sendAddress(dataAddress))}>\n                    Continue\n\n                    <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                      <IoMdArrowDropright className=\"icon-next\" />\n                    </IconContext.Provider>\n                  </button>\n                </div>\n              </div>\n\n              {showScript ?\n                (\n                  <div className=\"helper-address\">\n                    <div className=\"script-address\">\n                      <FormScript step={2} />\n                    </div>\n\n                    <div className=\"assistant-address-custom\">\n                      <FormAssistant tips={1} />\n                    </div>\n                  </div>\n                )\n                :\n                <div style={{ width: '100%' }}>\n                  <div className=\"assistant-address\">\n                    <FormAssistant tips={1} />\n                  </div>\n                </div>\n              }\n\n            </div>\n          </section>\n        )}\n    </>\n  );\n}\n\nexport default FormAddress;\n"]},"metadata":{},"sourceType":"module"}