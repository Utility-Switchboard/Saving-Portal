{"ast":null,"code":"import _objectSpread from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./FormUsageGAS.css\";// Icons\nimport{IconContext}from\"react-icons\";import{IoMdArrowDropleft,IoMdArrowDropright}from'react-icons/io';// Components\nimport FormScript from'../../FormScript/FormScript';import FormAssistant from\"../../FormAssistant/FormAssistant\";import Error from'../../../Error/Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FormUsageGAS(_ref){var customerInformation=_ref.customerInformation,avgElec=_ref.avgElec,progressBar=_ref.progressBar,showScript=_ref.showScript,updateCustomerInformation=_ref.updateCustomerInformation,updateShowFormUsageGAS=_ref.updateShowFormUsageGAS,updateShowFormUsageKWH=_ref.updateShowFormUsageKWH,updateShowFormUsageGBP_gs=_ref.updateShowFormUsageGBP_gs,updateShowFormUsageGBP_es=_ref.updateShowFormUsageGBP_es,updateShowFormDebt=_ref.updateShowFormDebt,updateShowFormUsageAVG=_ref.updateShowFormUsageAVG,updateShowFormTariffs=_ref.updateShowFormTariffs,updateAvgGas=_ref.updateAvgGas,updateAvgElec=_ref.updateAvgElec,updateProgressBar=_ref.updateProgressBar,updateShowOverlay=_ref.updateShowOverlay,updateShowE7=_ref.updateShowE7;/* STATES */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),idk_active=_useState2[0],update_idk_active=_useState2[1];// Error State\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],updateError=_useState4[1];var _useState5=useState({message:''}),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];/* FUNCTIONS */ // Scroll to top and hide overlay\nuseEffect(function(){window.scrollTo({top:0,behavior:'smooth'});// Update state\nupdateShowOverlay(false);},[]);// Variables\nvar gas_only=customerInformation.fuel_description.gas_only;// Handle Click - idk\nvar handleClick=function handleClick(e){e.preventDefault();// Update Error\nupdateError(false);// Update state\nupdate_idk_active(!idk_active);var usage_gas_description={usage_kwh_entered:false,usage_kwh_expended:false,usage_kwh_period:false};// Update state\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{usage_gas_description:usage_gas_description}));};// Handle Change - Input\nvar handleChange=function handleChange(e){// Update Error\nupdateError(false);var usage_select=document.getElementById('usage_select').value;var usage_gas_description={usage_kwh_entered:true,usage_kwh_expended:e.target.value.replace(/[^0-9\\.]+/g,'').trim(),usage_kwh_period:usage_select};// Update state\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{usage_gas_description:usage_gas_description}));};// Initial Values - Inputs\nvar value_kwh='';if(value_kwh){value_kwh=customerInformation.usage_gas_description.usage_kwh_expended;}// Send usage\nvar sendUsage=function sendUsage(e){e.preventDefault();// Validation\nvar usage_value=document.getElementById('usage_kwh_id').value;var usage_kwh_period=document.getElementById('usage_select').value;// Validation\nif(parseFloat(usage_value)>85000&&usage_kwh_period==='annu'||parseFloat(usage_value)>7083.8333&&usage_kwh_period==='mo'){var amount='';var period='';// Amount & period\nif(usage_kwh_period==='annu'){amount=85000;period='year';}else{amount=7083.8333;period='month';}// Set error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:\"Please check how much you use on electricity. If you use more than \".concat(amount.toFixed(2),\" kWh per \").concat(period,\" we can't compare this against domestic consumption tariffs.\")}));// Show error\nupdateError(true);return;}if(usage_value===''){// Set error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:\"Please introduce a valid usage\"}));// Update Error\nupdateError(true);return;}else{// Variables - usage_gas_description\nvar usage_kwh_entered=customerInformation.usage_gas_description.usage_kwh_entered;var usage_kwh_expended=customerInformation.usage_gas_description.usage_kwh_expended;// View conditional\nif(usage_kwh_entered===false){// Hidde Form Usage\nupdateShowFormUsageGAS(false);// Show FormUsageGBP_es\nupdateShowFormUsageGBP_gs(true);// Update state\nupdateAvgGas(true);console.log('Show UsageGBP');}else{// Update state\nupdateAvgGas(false);// Update state\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{usage_gas_description:{usage_kwh_entered:usage_kwh_entered,usage_kwh_expended:usage_kwh_expended,usage_kwh_period:usage_kwh_period}}));// Hidde Form Usage Gas\nupdateShowFormUsageGAS(false);// Variables - usage_kwh_description\n// const usage_gbp_entered_es = customerInformation.usage_gbp_description_es.usage_gbp_entered;\n// const usage_kwh_entered_es = customerInformation.usage_kwh_description.usage_kwh_entered;\n// Validation\nif(avgElec){//(usage_gbp_entered_es === false) && (usage_kwh_entered_es === false)\n// Show Form AVG\nupdateShowFormUsageAVG(true);// Update state \nupdateAvgElec(true);}else{// Show Form Debt\nupdateShowFormDebt(true);// Update Progressbar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:7}));// Update state \nupdateAvgElec(false);}}}// Update error\nupdateError(false);};// Go back\nvar goBack=function goBack(e){e.preventDefault();// Delete Customer tariff\nvar copy_customer_tariff=_objectSpread({},customerInformation);delete copy_customer_tariff['usage_gas_description'];delete copy_customer_tariff['usage_gbp_description_es'];//Update Customer Information\nupdateCustomerInformation(_objectSpread({},copy_customer_tariff));// Hidde Form Usage\nupdateShowFormUsageGAS(false);if(customerInformation.hasOwnProperty('usage_kwh_description')){if(customerInformation.usage_kwh_description.usage_kwh_entered){// Show Form  KWH\nupdateShowFormUsageKWH(true);//Update Customer Information\ndelete copy_customer_tariff['usage_kwh_description'];updateCustomerInformation(_objectSpread({},copy_customer_tariff));}else{console.log('O Aqui');// Show Form GBP\nupdateShowFormUsageGBP_es(true);}}if(gas_only){// Show Form Tariffs - It should be true, but for the moment it's false due we are not using it\nupdateShowFormTariffs(false);// Show E7\nupdateShowE7(true);}// Update progress bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:5}));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"form-usagegas-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegas-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegas-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegas\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"How much gas do you use?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat aut sint, possimus suscipit hic obcaecati ad necessitatibus eum asperiores maiores in, inventore quidem quibusdam modi. Veniam recusandae maiores voluptatem voluptates?\"})]}),idk_active?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{className:idk_active?\"form-usagegas-input-container customContainer\":null,children:[/*#__PURE__*/_jsx(\"input\",{id:\"usage_kwh_id\",type:\"text\",name:\"usage_kwh\",onChange:function onChange(e){return handleChange(e);},className:\"form-usagegas-input\",disabled:true,value:\"I don't know\"}),/*#__PURE__*/_jsx(\"span\",{className:idk_active?\"customSpan\":null,children:\"kWh\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-usagegas-select\",id:\"usage_select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"annu\",children:\"Annually\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mo\",children:\"Monthly\"})]})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegas-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{\"data-cy\":\"gas-input\",id:\"usage_kwh_id\",type:\"number\",name:\"usage_kwh\",onChange:function onChange(e){return handleChange(e);},className:\"form-usagegas-input\",defaultValue:value_kwh||''}),/*#__PURE__*/_jsx(\"span\",{children:\"kWh\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-usagegas-select\",id:\"usage_select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"annu\",children:\"Annually\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mo\",children:\"Monthly\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{\"data-cy\":\"gas-idk\",className:\"form-usagegas-idk\",onClick:function onClick(e){return handleClick(e);},children:idk_active?\"Enable input\":\"I don't know\"}),error===true?/*#__PURE__*/_jsx(Error,{message:errorMessage.message}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegas-btn-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"form-usagegas-btn btn-back\",onClick:function onClick(e){return goBack(e);},children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#D338AE',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropleft,{className:\"icon-back\"})}),\"Go back\"]}),/*#__PURE__*/_jsxs(\"button\",{\"data-cy\":\"gas-continue\",className:\"form-usagegas-btn btn-next\",onClick:function onClick(e){return sendUsage(e);},children:[\"Continue\",/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#FFF',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropright,{className:\"icon-next\"})})]})]})]}),showScript?/*#__PURE__*/_jsxs(\"div\",{className:\"helper-usagegas\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"script-usagegas\",children:/*#__PURE__*/_jsx(FormScript,{step:7,use:'gas'})}),/*#__PURE__*/_jsx(\"div\",{className:\"assistant-usagegas-custom\",children:/*#__PURE__*/_jsx(FormAssistant,{tips:6})})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:'100%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"assistant-usagegas\",children:/*#__PURE__*/_jsx(FormAssistant,{tips:6})})})]})})});}export default FormUsageGAS;","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormsUsage/FormUsageGAS/FormUsageGAS.jsx"],"names":["React","useState","useEffect","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FormScript","FormAssistant","Error","FormUsageGAS","customerInformation","avgElec","progressBar","showScript","updateCustomerInformation","updateShowFormUsageGAS","updateShowFormUsageKWH","updateShowFormUsageGBP_gs","updateShowFormUsageGBP_es","updateShowFormDebt","updateShowFormUsageAVG","updateShowFormTariffs","updateAvgGas","updateAvgElec","updateProgressBar","updateShowOverlay","updateShowE7","idk_active","update_idk_active","error","updateError","message","errorMessage","setErrorMessage","window","scrollTo","top","behavior","gas_only","fuel_description","handleClick","e","preventDefault","usage_gas_description","usage_kwh_entered","usage_kwh_expended","usage_kwh_period","handleChange","usage_select","document","getElementById","value","target","replace","trim","value_kwh","sendUsage","usage_value","parseFloat","amount","period","toFixed","console","log","step","goBack","copy_customer_tariff","hasOwnProperty","usage_kwh_description","display","color","size","width"],"mappings":"mTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,oBAAP,CAEA;AACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,iBAAT,CAA4BC,kBAA5B,KAAsD,gBAAtD,CACA;AACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,mCAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,C,6IAEA,QAASC,CAAAA,YAAT,MAAsW,IAA9UC,CAAAA,mBAA8U,MAA9UA,mBAA8U,CAAzTC,OAAyT,MAAzTA,OAAyT,CAAhTC,WAAgT,MAAhTA,WAAgT,CAAnSC,UAAmS,MAAnSA,UAAmS,CAAvRC,yBAAuR,MAAvRA,yBAAuR,CAA5PC,sBAA4P,MAA5PA,sBAA4P,CAApOC,sBAAoO,MAApOA,sBAAoO,CAA5MC,yBAA4M,MAA5MA,yBAA4M,CAAjLC,yBAAiL,MAAjLA,yBAAiL,CAAtJC,kBAAsJ,MAAtJA,kBAAsJ,CAAlIC,sBAAkI,MAAlIA,sBAAkI,CAA1GC,qBAA0G,MAA1GA,qBAA0G,CAAnFC,YAAmF,MAAnFA,YAAmF,CAArEC,aAAqE,MAArEA,aAAqE,CAAtDC,iBAAsD,MAAtDA,iBAAsD,CAAnCC,iBAAmC,MAAnCA,iBAAmC,CAAhBC,YAAgB,MAAhBA,YAAgB,CACpW,YACA,cAAwCzB,QAAQ,CAAC,KAAD,CAAhD,wCAAO0B,UAAP,eAAmBC,iBAAnB,eAEA;AACA,eAA6B3B,QAAQ,CAAC,KAAD,CAArC,yCAAO4B,KAAP,eAAcC,WAAd,eACA,eAAwC7B,QAAQ,CAAC,CAC/C8B,OAAO,CAAE,EADsC,CAAD,CAAhD,yCAAOC,YAAP,eAAqBC,eAArB,eAIA,eAVoW,CAYpW;AACA/B,SAAS,CAAC,UAAM,CACdgC,MAAM,CAACC,QAAP,CAAgB,CAAEC,GAAG,CAAE,CAAP,CAAUC,QAAQ,CAAE,QAApB,CAAhB,EAEA;AACAZ,iBAAiB,CAAC,KAAD,CAAjB,CACD,CALQ,CAKN,EALM,CAAT,CAOA;AACA,GAAMa,CAAAA,QAAQ,CAAG5B,mBAAmB,CAAC6B,gBAApB,CAAqCD,QAAtD,CAEA;AACA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA;AACAZ,WAAW,CAAC,KAAD,CAAX,CACA;AACAF,iBAAiB,CAAC,CAACD,UAAF,CAAjB,CACA,GAAMgB,CAAAA,qBAAqB,CAAG,CAC5BC,iBAAiB,CAAE,KADS,CAE5BC,kBAAkB,CAAE,KAFQ,CAG5BC,gBAAgB,CAAE,KAHU,CAA9B,CAKA;AACAhC,yBAAyB,gCACpBJ,mBADoB,MAEvBiC,qBAAqB,CAArBA,qBAFuB,GAAzB,CAID,CAhBD,CAkBA;AACA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,CAAD,CAAO,CAC1B;AACAX,WAAW,CAAC,KAAD,CAAX,CACA,GAAMkB,CAAAA,YAAY,CAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAA7D,CACA,GAAMR,CAAAA,qBAAqB,CAAG,CAC5BC,iBAAiB,CAAE,IADS,CAE5BC,kBAAkB,CAAEJ,CAAC,CAACW,MAAF,CAASD,KAAT,CAAeE,OAAf,CAAuB,YAAvB,CAAqC,EAArC,EAAyCC,IAAzC,EAFQ,CAG5BR,gBAAgB,CAAEE,YAHU,CAA9B,CAKA;AACAlC,yBAAyB,gCACpBJ,mBADoB,MAEvBiC,qBAAqB,CAArBA,qBAFuB,GAAzB,CAID,CAdD,CAgBA;AACA,GAAIY,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIA,SAAJ,CAAe,CACbA,SAAS,CAAG7C,mBAAmB,CAACiC,qBAApB,CAA0CE,kBAAtD,CACD,CAED;AACA,GAAMW,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACf,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACA;AACA,GAAMe,CAAAA,WAAW,CAAGR,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAA5D,CACA,GAAML,CAAAA,gBAAgB,CAAGG,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAAjE,CAEA;AACA,GAAMO,UAAU,CAACD,WAAD,CAAV,CAA0B,KAA3B,EAAsCX,gBAAgB,GAAK,MAA5D,EAA0EY,UAAU,CAACD,WAAD,CAAV,CAA0B,SAA3B,EAA0CX,gBAAgB,GAAK,IAA5I,CAAoJ,CAClJ,GAAIa,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CAEA;AACA,GAAId,gBAAgB,GAAK,MAAzB,CAAiC,CAC/Ba,MAAM,CAAG,KAAT,CACAC,MAAM,CAAG,MAAT,CACD,CAHD,IAGO,CACLD,MAAM,CAAG,SAAT,CACAC,MAAM,CAAG,OAAT,CACD,CACD;AACA3B,eAAe,gCACVD,YADU,MAEbD,OAAO,8EAAwE4B,MAAM,CAACE,OAAP,CAAe,CAAf,CAAxE,qBAAqGD,MAArG,gEAFM,GAAf,CAIA;AACA9B,WAAW,CAAC,IAAD,CAAX,CACA,OACD,CAED,GAAI2B,WAAW,GAAK,EAApB,CAAwB,CACtB;AACAxB,eAAe,gCACVD,YADU,MAEbD,OAAO,CAAE,gCAFI,GAAf,CAIA;AACAD,WAAW,CAAC,IAAD,CAAX,CACA,OACD,CATD,IASO,CACL;AACA,GAAMc,CAAAA,iBAAiB,CAAGlC,mBAAmB,CAACiC,qBAApB,CAA0CC,iBAApE,CACA,GAAMC,CAAAA,kBAAkB,CAAGnC,mBAAmB,CAACiC,qBAApB,CAA0CE,kBAArE,CACA;AACA,GAAID,iBAAiB,GAAK,KAA1B,CAAiC,CAC/B;AACA7B,sBAAsB,CAAC,KAAD,CAAtB,CACA;AACAE,yBAAyB,CAAC,IAAD,CAAzB,CACA;AACAK,YAAY,CAAC,IAAD,CAAZ,CACAwC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CARD,IAQO,CACL;AACAzC,YAAY,CAAC,KAAD,CAAZ,CACA;AACAR,yBAAyB,gCACpBJ,mBADoB,MAEvBiC,qBAAqB,CAAE,CACrBC,iBAAiB,CAAjBA,iBADqB,CAErBC,kBAAkB,CAAlBA,kBAFqB,CAGrBC,gBAAgB,CAAhBA,gBAHqB,CAFA,GAAzB,CASA;AACA/B,sBAAsB,CAAC,KAAD,CAAtB,CACA;AACA;AACA;AACA;AACA,GAAIJ,OAAJ,CAAa,CAAE;AACb;AACAS,sBAAsB,CAAC,IAAD,CAAtB,CACA;AACAG,aAAa,CAAC,IAAD,CAAb,CACD,CALD,IAKO,CACL;AACAJ,kBAAkB,CAAC,IAAD,CAAlB,CACA;AACAK,iBAAiB,gCAAMZ,WAAN,MAAmBoD,IAAI,CAAE,CAAzB,GAAjB,CACA;AACAzC,aAAa,CAAC,KAAD,CAAb,CACD,CACF,CACF,CAED;AACAO,WAAW,CAAC,KAAD,CAAX,CAED,CAzFD,CA2FA;AACA,GAAMmC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACxB,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACA;AACA,GAAMwB,CAAAA,oBAAoB,kBAAQxD,mBAAR,CAA1B,CACA,MAAOwD,CAAAA,oBAAoB,CAAC,uBAAD,CAA3B,CACA,MAAOA,CAAAA,oBAAoB,CAAC,0BAAD,CAA3B,CACA;AACApD,yBAAyB,kBAAMoD,oBAAN,EAAzB,CACA;AACAnD,sBAAsB,CAAC,KAAD,CAAtB,CAEA,GAAIL,mBAAmB,CAACyD,cAApB,CAAmC,uBAAnC,CAAJ,CAAiE,CAC/D,GAAIzD,mBAAmB,CAAC0D,qBAApB,CAA0CxB,iBAA9C,CAAiE,CAC/D;AACA5B,sBAAsB,CAAC,IAAD,CAAtB,CACA;AACA,MAAOkD,CAAAA,oBAAoB,CAAC,uBAAD,CAA3B,CACApD,yBAAyB,kBAAMoD,oBAAN,EAAzB,CACD,CAND,IAMO,CACLJ,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA;AACA7C,yBAAyB,CAAC,IAAD,CAAzB,CACD,CACF,CAED,GAAIoB,QAAJ,CAAc,CACZ;AACAjB,qBAAqB,CAAC,KAAD,CAArB,CACA;AACAK,YAAY,CAAC,IAAD,CAAZ,CACD,CAED;AACAF,iBAAiB,gCAAMZ,WAAN,MAAmBoD,IAAI,CAAE,CAAzB,GAAjB,CACD,CAlCD,CAoCA,mBACE,sCACE,gBAAS,SAAS,CAAC,uBAAnB,uBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,gDADF,cAEE,+PAFF,GADF,CAMGrC,UAAU,cAEP,sCACE,aAAK,KAAK,CAAE,CAAE0C,OAAO,CAAE,MAAX,CAAZ,wBACE,aAAK,SAAS,CAAE1C,UAAU,CAAG,+CAAH,CAAqD,IAA/E,wBACE,cAAO,EAAE,CAAC,cAAV,CAAyB,IAAI,CAAC,MAA9B,CAAqC,IAAI,CAAC,WAA1C,CAAsD,QAAQ,CAAE,kBAACc,CAAD,QAAOM,CAAAA,YAAY,CAACN,CAAD,CAAnB,EAAhE,CAAwF,SAAS,CAAC,qBAAlG,CAAwH,QAAQ,KAAhI,CAAiI,KAAK,CAAC,cAAvI,EADF,cAEE,aAAM,SAAS,CAAEd,UAAU,CAAG,YAAH,CAAkB,IAA7C,iBAFF,GADF,cAKE,gBAAQ,SAAS,CAAC,sBAAlB,CAAyC,EAAE,CAAC,cAA5C,wBACE,eAAQ,KAAK,CAAC,MAAd,sBADF,cAEE,eAAQ,KAAK,CAAC,IAAd,qBAFF,GALF,GADF,EAFO,cAiBP,sCACE,aAAK,KAAK,CAAE,CAAE0C,OAAO,CAAE,MAAX,CAAZ,wBACE,aAAK,SAAS,CAAC,+BAAf,wBACE,cAAO,UAAQ,WAAf,CAA2B,EAAE,CAAC,cAA9B,CAA6C,IAAI,CAAC,QAAlD,CAA2D,IAAI,CAAC,WAAhE,CAA4E,QAAQ,CAAE,kBAAC5B,CAAD,QAAOM,CAAAA,YAAY,CAACN,CAAD,CAAnB,EAAtF,CAA8G,SAAS,CAAC,qBAAxH,CAA8I,YAAY,CAAEc,SAAS,EAAI,EAAzK,EADF,cAEE,6BAFF,GADF,cAKE,gBAAQ,SAAS,CAAC,sBAAlB,CAAyC,EAAE,CAAC,cAA5C,wBACE,eAAQ,KAAK,CAAC,MAAd,sBADF,cAEE,eAAQ,KAAK,CAAC,IAAd,qBAFF,GALF,GADF,EAvBN,cAsCE,eAAQ,UAAQ,SAAhB,CAA0B,SAAS,CAAC,mBAApC,CAAwD,OAAO,CAAE,iBAACd,CAAD,QAAOD,CAAAA,WAAW,CAACC,CAAD,CAAlB,EAAjE,UAAyFd,UAAU,CAAG,cAAH,CAAoB,cAAvH,EAtCF,CAyCGE,KAAK,GAAK,IAAV,cAEG,KAAC,KAAD,EAAO,OAAO,CAAEG,YAAY,CAACD,OAA7B,EAFH,CAKC,IA9CJ,cAiDE,aAAK,SAAS,CAAC,6BAAf,wBACE,gBAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAE,iBAACU,CAAD,QAAOwB,CAAAA,MAAM,CAACxB,CAAD,CAAb,EAAxD,wBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAE6B,KAAK,CAAE,SAAT,CAAoBC,IAAI,CAAE,MAA1B,CAA7B,uBACE,KAAC,iBAAD,EAAmB,SAAS,CAAC,WAA7B,EADF,EADF,aADF,cAQE,gBAAQ,UAAQ,cAAhB,CAA+B,SAAS,CAAC,4BAAzC,CAAsE,OAAO,CAAE,iBAAC9B,CAAD,QAAOe,CAAAA,SAAS,CAACf,CAAD,CAAhB,EAA/E,mCAGE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAE6B,KAAK,CAAE,MAAT,CAAiBC,IAAI,CAAE,MAAvB,CAA7B,uBACE,KAAC,kBAAD,EAAoB,SAAS,CAAC,WAA9B,EADF,EAHF,GARF,GAjDF,GADF,CAoEG1D,UAAU,cAEP,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,UAAD,EAAY,IAAI,CAAE,CAAlB,CAAqB,GAAG,CAAE,KAA1B,EADF,EADF,cAKE,YAAK,SAAS,CAAC,2BAAf,uBACE,KAAC,aAAD,EAAe,IAAI,CAAE,CAArB,EADF,EALF,GAFO,cAaT,YAAK,KAAK,CAAE,CAAE2D,KAAK,CAAE,MAAT,CAAZ,uBACE,YAAK,SAAS,CAAC,oBAAf,uBACE,KAAC,aAAD,EAAe,IAAI,CAAE,CAArB,EADF,EADF,EAjFJ,GADF,EADF,EADF,CA8FD,CAED,cAAe/D,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FormUsageGAS.css\";\n\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\n// Components\nimport FormScript from '../../FormScript/FormScript';\nimport FormAssistant from \"../../FormAssistant/FormAssistant\";\nimport Error from '../../../Error/Error'\n\nfunction FormUsageGAS({ customerInformation, avgElec, progressBar, showScript, updateCustomerInformation, updateShowFormUsageGAS, updateShowFormUsageKWH, updateShowFormUsageGBP_gs, updateShowFormUsageGBP_es, updateShowFormDebt, updateShowFormUsageAVG, updateShowFormTariffs, updateAvgGas, updateAvgElec, updateProgressBar, updateShowOverlay, updateShowE7 }) {\n  /* STATES */\n  const [idk_active, update_idk_active] = useState(false);\n\n  // Error State\n  const [error, updateError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({\n    message: ''\n  });\n\n  /* FUNCTIONS */\n\n  // Scroll to top and hide overlay\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n\n    // Update state\n    updateShowOverlay(false);\n  }, []);\n\n  // Variables\n  const gas_only = customerInformation.fuel_description.gas_only;\n\n  // Handle Click - idk\n  const handleClick = (e) => {\n    e.preventDefault();\n    // Update Error\n    updateError(false);\n    // Update state\n    update_idk_active(!idk_active);\n    const usage_gas_description = {\n      usage_kwh_entered: false,\n      usage_kwh_expended: false,\n      usage_kwh_period: false\n    }\n    // Update state\n    updateCustomerInformation({\n      ...customerInformation,\n      usage_gas_description\n    });\n  }\n\n  // Handle Change - Input\n  const handleChange = (e) => {\n    // Update Error\n    updateError(false);\n    const usage_select = document.getElementById('usage_select').value;\n    const usage_gas_description = {\n      usage_kwh_entered: true,\n      usage_kwh_expended: e.target.value.replace(/[^0-9\\.]+/g, '').trim(),\n      usage_kwh_period: usage_select\n    }\n    // Update state\n    updateCustomerInformation({\n      ...customerInformation,\n      usage_gas_description\n    });\n  }\n\n  // Initial Values - Inputs\n  let value_kwh = '';\n  if (value_kwh) {\n    value_kwh = customerInformation.usage_gas_description.usage_kwh_expended;\n  }\n\n  // Send usage\n  const sendUsage = (e) => {\n    e.preventDefault();\n    // Validation\n    const usage_value = document.getElementById('usage_kwh_id').value;\n    const usage_kwh_period = document.getElementById('usage_select').value;\n    \n    // Validation\n    if (((parseFloat(usage_value) > 85000) && (usage_kwh_period === 'annu')) || ((parseFloat(usage_value) > 7083.8333) && (usage_kwh_period === 'mo'))) {\n      let amount = '';\n      let period = '';\n\n      // Amount & period\n      if (usage_kwh_period === 'annu') {\n        amount = 85000;\n        period = 'year';\n      } else {\n        amount = 7083.8333;\n        period = 'month';\n      }\n      // Set error message\n      setErrorMessage({\n        ...errorMessage,\n        message: `Please check how much you use on electricity. If you use more than ${amount.toFixed(2)} kWh per ${period} we can't compare this against domestic consumption tariffs.`\n      });\n      // Show error\n      updateError(true);\n      return;\n    }\n\n    if (usage_value === '') {\n      // Set error message\n      setErrorMessage({\n        ...errorMessage,\n        message: \"Please introduce a valid usage\"\n      });\n      // Update Error\n      updateError(true);\n      return;\n    } else {\n      // Variables - usage_gas_description\n      const usage_kwh_entered = customerInformation.usage_gas_description.usage_kwh_entered;\n      const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n      // View conditional\n      if (usage_kwh_entered === false) {\n        // Hidde Form Usage\n        updateShowFormUsageGAS(false);\n        // Show FormUsageGBP_es\n        updateShowFormUsageGBP_gs(true);\n        // Update state\n        updateAvgGas(true);\n        console.log('Show UsageGBP');\n      } else {\n        // Update state\n        updateAvgGas(false);\n        // Update state\n        updateCustomerInformation({\n          ...customerInformation,\n          usage_gas_description: {\n            usage_kwh_entered,\n            usage_kwh_expended,\n            usage_kwh_period\n          }\n        });\n\n        // Hidde Form Usage Gas\n        updateShowFormUsageGAS(false);\n        // Variables - usage_kwh_description\n        // const usage_gbp_entered_es = customerInformation.usage_gbp_description_es.usage_gbp_entered;\n        // const usage_kwh_entered_es = customerInformation.usage_kwh_description.usage_kwh_entered;\n        // Validation\n        if (avgElec) { //(usage_gbp_entered_es === false) && (usage_kwh_entered_es === false)\n          // Show Form AVG\n          updateShowFormUsageAVG(true);\n          // Update state \n          updateAvgElec(true);\n        } else {\n          // Show Form Debt\n          updateShowFormDebt(true);\n          // Update Progressbar\n          updateProgressBar({ ...progressBar, step: 7 });\n          // Update state \n          updateAvgElec(false);\n        }\n      }\n    }\n\n    // Update error\n    updateError(false);\n\n  }\n\n  // Go back\n  const goBack = (e) => {\n    e.preventDefault();\n    // Delete Customer tariff\n    const copy_customer_tariff = { ...customerInformation };\n    delete copy_customer_tariff['usage_gas_description'];\n    delete copy_customer_tariff['usage_gbp_description_es'];\n    //Update Customer Information\n    updateCustomerInformation({ ...copy_customer_tariff });\n    // Hidde Form Usage\n    updateShowFormUsageGAS(false);\n\n    if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n      if (customerInformation.usage_kwh_description.usage_kwh_entered) {\n        // Show Form  KWH\n        updateShowFormUsageKWH(true);\n        //Update Customer Information\n        delete copy_customer_tariff['usage_kwh_description'];\n        updateCustomerInformation({ ...copy_customer_tariff });\n      } else {\n        console.log('O Aqui');\n        // Show Form GBP\n        updateShowFormUsageGBP_es(true);\n      }\n    }\n\n    if (gas_only) {\n      // Show Form Tariffs - It should be true, but for the moment it's false due we are not using it\n      updateShowFormTariffs(false);\n      // Show E7\n      updateShowE7(true);\n    }\n\n    // Update progress bar\n    updateProgressBar({ ...progressBar, step: 5 });\n  };\n\n  return (\n    <>\n      <section className=\"form-usagegas-section\">\n        <div className=\"form-usagegas-container\">\n          <div className=\"form-usagegas-content\">\n            <div className=\"form-usagegas\">\n              <h1>How much gas do you use?</h1>\n              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat aut sint, possimus suscipit hic obcaecati ad necessitatibus eum asperiores maiores in, inventore quidem quibusdam modi. Veniam recusandae maiores voluptatem voluptates?</p>\n            </div>\n\n            {idk_active ?\n              (\n                <>\n                  <div style={{ display: 'flex' }}>\n                    <div className={idk_active ? \"form-usagegas-input-container customContainer\" : null} >\n                      <input id=\"usage_kwh_id\" type=\"text\" name=\"usage_kwh\" onChange={(e) => handleChange(e)} className=\"form-usagegas-input\" disabled value=\"I don't know\" />\n                      <span className={idk_active ? \"customSpan\" : null}>kWh</span>\n                    </div>\n                    <select className=\"form-usagegas-select\" id=\"usage_select\">\n                      <option value=\"annu\">Annually</option>\n                      <option value=\"mo\">Monthly</option>\n                    </select>\n                  </div>\n                </>\n              )\n              :\n              (\n                <>\n                  <div style={{ display: 'flex' }}>\n                    <div className=\"form-usagegas-input-container\" >\n                      <input data-cy=\"gas-input\" id=\"usage_kwh_id\" type=\"number\" name=\"usage_kwh\" onChange={(e) => handleChange(e)} className=\"form-usagegas-input\" defaultValue={value_kwh || ''} />\n                      <span>kWh</span>\n                    </div>\n                    <select className=\"form-usagegas-select\" id=\"usage_select\">\n                      <option value=\"annu\">Annually</option>\n                      <option value=\"mo\">Monthly</option>\n                    </select>\n                  </div>\n                </>\n              )\n            }\n\n            <button data-cy=\"gas-idk\" className=\"form-usagegas-idk\" onClick={(e) => handleClick(e)}>{idk_active ? \"Enable input\" : \"I don't know\"}</button>\n\n            {/* Error */}\n            {error === true ?\n              (\n                <Error message={errorMessage.message} />\n              )\n              :\n              null}\n\n            {/* Buttons */}\n            <div className=\"form-usagegas-btn-container\">\n              <button className=\"form-usagegas-btn btn-back\" onClick={(e) => goBack(e)}>\n                <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                  <IoMdArrowDropleft className=\"icon-back\" />\n                </IconContext.Provider>\n                Go back\n              </button>\n\n              <button data-cy=\"gas-continue\" className=\"form-usagegas-btn btn-next\" onClick={(e) => sendUsage(e)}>\n                Continue\n\n                <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                  <IoMdArrowDropright className=\"icon-next\" />\n                </IconContext.Provider>\n              </button>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"helper-usagegas\">\n                <div className=\"script-usagegas\">\n                  <FormScript step={7} use={'gas'} />\n                </div>\n\n                <div className=\"assistant-usagegas-custom\">\n                  <FormAssistant tips={6} />\n                </div>\n              </div>\n            )\n            :\n            <div style={{ width: '100%' }}>\n              <div className=\"assistant-usagegas\">\n                <FormAssistant tips={6} />\n              </div>\n            </div>\n          }\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default FormUsageGAS;\n"]},"metadata":{},"sourceType":"module"}