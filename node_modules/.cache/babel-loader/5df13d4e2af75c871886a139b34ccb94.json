{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormPostCode/FormPostCode.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // CSS\n\nimport \"./FormPostCode.css\"; // Components\n\nimport FormScript from '../FormScript/FormScript';\nimport Error from '../../Error/Error'; // Images\n\nimport saving_icon from '../../../assets/img/savings.png';\nimport trustpilot from '../../../assets/img/trustpilot.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FormPostCode = ({\n  addPostCodeData,\n  progressBar,\n  showScript,\n  updateShowFormPostCode,\n  updateShowFormAddres,\n  updateProgressBar,\n  updateShowScript\n}) => {\n  _s();\n\n  /** STATES */\n  // Post Code State\n  const [postCodeData, updatePostCodeData] = useState({\n    postcode: \"\"\n  }); // Scroll to top\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // Error State\n\n  const [errorPostcode, updateErrorPostcode] = useState(false);\n  /** FUNCTIONS */\n  // Error smooth scroll\n\n  useEffect(() => {\n    if (errorPostcode) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"end\"\n        });\n      };\n\n      scroll_to();\n    }\n  }, [errorPostcode]); // Function that runs every time the user writes to the input\n\n  const handleChange = e => {\n    // Hidde error\n    updateErrorPostcode(false); // Update Postcode\n\n    updatePostCodeData({ ...postCodeData,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim()\n    });\n  }; // Extract values\n\n\n  const {\n    postcode\n  } = postCodeData; // const { search } = searchInput;\n  // Submit postcode\n\n  const submitPostcode = e => {\n    e.preventDefault();\n    const postcode_raw = postCodeData.postcode; // Error to true\n\n    if (postcode_raw.trim() === \"\") {\n      // Show error\n      updateErrorPostcode(true); // Stop app\n\n      return;\n    } else {\n      /**--Postcode structure */\n      // Postcode unformatted\n      let postcode_unformatted = postcode_raw; // Postcode without spaces\n\n      let postcode_unformatted_no_space = postcode_unformatted.replace(/ /g, ''); // Postcode formated\n\n      let postcode_formated = '';\n\n      if (postcode_unformatted_no_space.length < 5 || postcode_unformatted_no_space.length > 8) {\n        // Show error\n        updateErrorPostcode(true); // Stop app\n\n        return;\n      } else {\n        // For a postcode structure AN-NAA\n        if (postcode_unformatted_no_space.length === 5) {\n          // First two chars \n          let first_two = postcode_unformatted_no_space.slice(0, 2); // Last three chars\n\n          let last_three = postcode_unformatted_no_space.slice(2, 5); // Formated Postcode\n\n          postcode_formated = first_two + ' ' + last_three;\n        } // For a postcode structure ANN-NAA, AAN-NAA, ANA-NAA\n\n\n        if (postcode_unformatted_no_space.length === 6) {\n          // First three chars \n          let first_three = postcode_unformatted_no_space.slice(0, 3); // Last three chars\n\n          let last_three = postcode_unformatted_no_space.slice(3, 6); // Formated Postcode\n\n          postcode_formated = first_three + ' ' + last_three;\n        } // For a postcode structure AANN-NAA, AANA-NAA\n\n\n        if (postcode_unformatted_no_space.length === 7) {\n          // First three chars \n          let first_four = postcode_unformatted_no_space.slice(0, 4); // Last three chars\n\n          let last_three = postcode_unformatted_no_space.slice(4, 7); // Formated Postcode\n\n          postcode_formated = first_four + ' ' + last_three;\n        } // Validation passed - delete message\n\n\n        updateErrorPostcode(false); // Add postcode to customerData\n\n        addPostCodeData(postcode_formated); // Hidde Form Post Code\n\n        updateShowFormPostCode(false); // Show Form Address\n\n        updateShowFormAddres(true); // Update porgress bar\n\n        updateProgressBar({ ...progressBar,\n          step: 1\n        });\n      }\n    }\n  }; // Handle click for Show Script\n\n\n  const handleClick = e => {\n    e.preventDefault(); // Update Show Script\n\n    updateShowScript(!showScript);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"postcode-header-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postcode-header animate__animated animate__bounceInLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Utility Switchboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Savings Portal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postcode-script\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"animate__animated animate__bounceInLeft\",\n            onClick: e => handleClick(e),\n            children: [\"Start script\", /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 117\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postcode-img\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"animate__animated animate__zoomIn\",\n          src: saving_icon,\n          alt: \"Saving icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"postcode-input-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postcode-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Let's get started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postcode-input-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter postcode here\",\n              name: \"postcode\",\n              onChange: handleChange,\n              value: postcode,\n              required: true,\n              \"data-cy\": \"postcode-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"postcode-btn\",\n              type: \"button\",\n              onClick: e => submitPostcode(e),\n              children: \"Find postcode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), errorPostcode ? /*#__PURE__*/_jsxDEV(Error, {\n            message: 'Please, enter a valid postcode'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 16\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postcode-trustpilot\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://uk.trustpilot.com/review/utilityswitchboard.com\",\n              target: \"_blank\",\n              rel: \"noreferrer\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: trustpilot,\n                alt: \"Trustpilot review\",\n                loading: \"lazy\",\n                width: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 115\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"script-postcode\",\n          id: \"script-postcode\",\n          children: /*#__PURE__*/_jsxDEV(FormScript, {\n            step: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"postcode-panel-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postcode-panel-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postcode-panel-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Our Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postcode-panel-images-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"postcode-panel-images\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"d-none\",\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"postcode-panel-images\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"d-none\",\n                src: \"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",\n                alt: \"\",\n                loading: \"lazy\",\n                width: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postcode-information\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Disclaimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FormPostCode, \"y3LGvXRPhvfopWL+MhCfpivcRFE=\");\n\n_c = FormPostCode;\nexport default FormPostCode;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormPostCode\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormPostCode/FormPostCode.jsx"],"names":["React","useState","useEffect","FormScript","Error","saving_icon","trustpilot","FormPostCode","addPostCodeData","progressBar","showScript","updateShowFormPostCode","updateShowFormAddres","updateProgressBar","updateShowScript","postCodeData","updatePostCodeData","postcode","window","scrollTo","top","behavior","errorPostcode","updateErrorPostcode","scroll_to","element","document","querySelector","scrollIntoView","block","inline","handleChange","e","target","name","value","replace","trim","submitPostcode","preventDefault","postcode_raw","postcode_unformatted","postcode_unformatted_no_space","postcode_formated","length","first_two","slice","last_three","first_three","first_four","step","handleClick"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// CSS\nimport \"./FormPostCode.css\";\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport Error from '../../Error/Error';\n\n// Images\nimport saving_icon from '../../../assets/img/savings.png';\nimport trustpilot from '../../../assets/img/trustpilot.png';\n\nconst FormPostCode = ({ addPostCodeData, progressBar, showScript, updateShowFormPostCode, updateShowFormAddres, updateProgressBar, updateShowScript }) => {\n  /** STATES */\n\n  // Post Code State\n  const [postCodeData, updatePostCodeData] = useState({\n    postcode: \"\",\n  });\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Error State\n  const [errorPostcode, updateErrorPostcode] = useState(false);\n\n  /** FUNCTIONS */\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (errorPostcode) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n      }\n\n      scroll_to()\n    }\n  }, [errorPostcode]);\n\n  // Function that runs every time the user writes to the input\n  const handleChange = (e) => {\n    // Hidde error\n    updateErrorPostcode(false);\n    // Update Postcode\n    updatePostCodeData({\n      ...postCodeData,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim(),\n    });\n  };\n\n  // Extract values\n  const { postcode } = postCodeData;\n  // const { search } = searchInput;\n\n  // Submit postcode\n  const submitPostcode = (e) => {\n    e.preventDefault();\n\n    const postcode_raw = postCodeData.postcode;\n\n    // Error to true\n    if (postcode_raw.trim() === \"\") {\n      // Show error\n      updateErrorPostcode(true);\n      // Stop app\n      return;\n    } else {\n      /**--Postcode structure */\n      // Postcode unformatted\n      let postcode_unformatted = postcode_raw;\n      // Postcode without spaces\n      let postcode_unformatted_no_space = postcode_unformatted.replace(/ /g, '');\n      // Postcode formated\n      let postcode_formated = '';\n\n      if ((postcode_unformatted_no_space.length < 5) || (postcode_unformatted_no_space.length > 8)) {\n        // Show error\n        updateErrorPostcode(true);\n        // Stop app\n        return;\n      } else {\n        // For a postcode structure AN-NAA\n        if (postcode_unformatted_no_space.length === 5) {\n          // First two chars \n          let first_two = postcode_unformatted_no_space.slice(0, 2);\n          // Last three chars\n          let last_three = postcode_unformatted_no_space.slice(2, 5);\n          // Formated Postcode\n          postcode_formated = first_two + ' ' + last_three;\n        }\n\n        // For a postcode structure ANN-NAA, AAN-NAA, ANA-NAA\n        if (postcode_unformatted_no_space.length === 6) {\n          // First three chars \n          let first_three = postcode_unformatted_no_space.slice(0, 3);\n          // Last three chars\n          let last_three = postcode_unformatted_no_space.slice(3, 6);\n          // Formated Postcode\n          postcode_formated = first_three + ' ' + last_three;\n        }\n\n        // For a postcode structure AANN-NAA, AANA-NAA\n        if (postcode_unformatted_no_space.length === 7) {\n          // First three chars \n          let first_four = postcode_unformatted_no_space.slice(0, 4);\n          // Last three chars\n          let last_three = postcode_unformatted_no_space.slice(4, 7);\n          // Formated Postcode\n          postcode_formated = first_four + ' ' + last_three;\n        }\n\n        // Validation passed - delete message\n        updateErrorPostcode(false);\n        // Add postcode to customerData\n        addPostCodeData(postcode_formated);\n        // Hidde Form Post Code\n        updateShowFormPostCode(false);\n        // Show Form Address\n        updateShowFormAddres(true);\n        // Update porgress bar\n        updateProgressBar({ ...progressBar, step: 1 });\n      }\n    }\n  };\n\n  // Handle click for Show Script\n  const handleClick = (e) => {\n    e.preventDefault();\n    // Update Show Script\n    updateShowScript(!showScript);\n  }\n\n  return (\n    <>\n      <section className=\"postcode-header-section\">\n        <div>\n          <div className=\"postcode-header animate__animated animate__bounceInLeft\">\n            <h1>Utility Switchboard</h1>\n            <h1><span>Savings Portal</span>.</h1>\n          </div>\n\n          <div className=\"postcode-script\">\n            <button className=\"animate__animated animate__bounceInLeft\" onClick={(e) => handleClick(e)}>Start script<span></span></button>\n          </div>\n        </div>\n\n        <div className=\"postcode-img\">\n          <img className=\"animate__animated animate__zoomIn\" src={saving_icon} alt=\"Saving icon\" />\n        </div>\n      </section>\n\n      <section className=\"postcode-input-section\">\n        <div className=\"postcode-input-container\">\n          <div>\n            <h2>Let's get started</h2>\n\n            <div className=\"postcode-input-content\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter postcode here\"\n                name=\"postcode\"\n                onChange={handleChange}\n                value={postcode}\n                required\n                data-cy=\"postcode-input\"\n              />\n              <button data-cy=\"postcode-btn\" type=\"button\" onClick={(e) => submitPostcode(e)}>\n                Find postcode\n              </button>\n            </div>\n\n            {errorPostcode ?\n              (<Error message={'Please, enter a valid postcode'} />)\n              :\n              null\n            }\n\n            <div className=\"postcode-trustpilot\">\n              <a href=\"https://uk.trustpilot.com/review/utilityswitchboard.com\" target=\"_blank\" rel=\"noreferrer\" ><img src={trustpilot} alt=\"Trustpilot review\" loading=\"lazy\" width=\"100\" /></a>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"script-postcode\" id=\"script-postcode\">\n                <FormScript step={1} />\n              </div>\n            )\n            :\n            null\n          }\n        </div>\n      </section>\n\n      <section className=\"postcode-panel-section\">\n        <div className=\"postcode-panel-container\">\n          <div className=\"postcode-panel-content\">\n            <h1>Our Panel</h1>\n\n            <div className=\"postcode-panel-images-content\">\n              <div className=\"postcode-panel-images\">\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img className=\"d-none\" src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n              </div>\n\n              <div className=\"postcode-panel-images\">\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img className=\"d-none\" src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"postcode-information\">\n            <h2>Disclaimer</h2>\n            <p>\n              Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic\n            </p>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default FormPostCode;\n"]},"metadata":{},"sourceType":"module"}