{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormE7/FormE7.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./FormE7.css\"; // Firebase\n\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\"; // Icons\n\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\nimport { FaCheckSquare, FaRegThumbsUp, FaRegThumbsDown } from 'react-icons/fa'; // Components\n\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormE7({\n  economy7,\n  customerInformation,\n  electricityPaymentType,\n  gasPaymentType,\n  electricityInformation,\n  gasInformation,\n  supplierInformation,\n  progressBar,\n  showScript,\n  updateEconomy7,\n  updateCustomerInformation,\n  updateShowFormSupply,\n  updateShowE7,\n  updateShowFormTariffs,\n  updateElectricityPaymentType,\n  updateGasPaymentType,\n  updateProgressBar,\n  updateShowOverlay,\n  updateSupplierInformation,\n  updateGasInformation,\n  updateElectricityInformation,\n  updateShowFormUsageKWH,\n  updateShowFormUsageGAS\n}) {\n  _s();\n\n  /* STATES */\n  // Radio button active class\n  const [radioActive, updateRadioActive] = useState({\n    e7_yes: false,\n    e7_no: false\n  }); // Split for E7\n\n  const [e7_split, update_e7_split] = useState(false); // Error State\n\n  const [error, updateError] = useState(false);\n  const [error_e7_split, update_error_e7_split] = useState(false);\n  /* FUNCTIONS */\n  // Variables\n  // elec_only\n\n  const elec_only = customerInformation.fuel_description.elec_only; // gas_only\n\n  const gas_only = customerInformation.fuel_description.gas_only; // same_supplier\n\n  const same_supplier = customerInformation.fuel_description.same_supplier; // dual_active\n\n  const dual_active = customerInformation.fuel_description.dual_active; // postcode_formatted\n\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase(); // doornumber_formatted\n\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase(); // uid\n\n  const uid = `${postcode_formatted}-${doornumber_formatted}`; // Scroll to top & asign data to 'IDK' supplier\n\n  useEffect(() => {\n    // Scroll to top\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // Error smooth scroll\n\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"end\"\n        });\n      };\n\n      scroll_to();\n    }\n\n    if (error_e7_split) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"end\"\n        });\n      };\n\n      scroll_to();\n    }\n  }, [error, error_e7_split]);\n  const active_rb_yes = radioActive.e7_yes;\n  const active_rb_no = radioActive.e7_no;\n\n  const handleClickRB_yes = () => {\n    // Update error\n    updateError(false); // Update state\n\n    updateRadioActive({ ...radioActive,\n      e7_yes: true,\n      e7_no: false\n    }); // Update Economy 7\n\n    updateEconomy7({ ...economy7,\n      economy7: {\n        economy7_apply: true\n      }\n    }); // Update Customer Information\n\n    updateCustomerInformation({ ...customerInformation,\n      economy7: {\n        economy7_apply: true\n      }\n    }); // Update state\n\n    update_e7_split(true);\n  };\n\n  const handleClickRB_no = () => {\n    // Update error\n    updateError(false); // Update state\n\n    updateRadioActive({ ...radioActive,\n      e7_yes: false,\n      e7_no: true\n    }); // Update Economy 7\n\n    updateEconomy7({ ...economy7,\n      economy7: {\n        economy7_apply: false,\n        economy7_split: false\n      }\n    }); // Update Customer Information\n\n    updateCustomerInformation({ ...customerInformation,\n      economy7: {\n        economy7_apply: false,\n        economy7_split: false\n      }\n    }); // Update state\n\n    update_e7_split(false); // Update Error\n\n    update_error_e7_split(false);\n  };\n\n  const handleChange = e => {\n    const e7_split_value = parseFloat(document.getElementById('e7-split').value.trim().replace(/[^\\w\\s]/gi, ''));\n\n    if (isNaN(e7_split_value) || e7_split_value < 1 || e7_split_value > 100) {\n      // Update error\n      update_error_e7_split(true);\n      return;\n    } else {\n      // Update error\n      update_error_e7_split(false);\n    } // Update Customer Inforation \n\n\n    updateCustomerInformation({ ...customerInformation,\n      economy7: {\n        economy7_apply: true,\n        economy7_split: e7_split_value\n      }\n    }); // Update Economy 7\n\n    updateEconomy7({\n      economy7: {\n        economy7_apply: true,\n        economy7_split: e7_split_value\n      }\n    });\n  }; // Default unit rate for electricity\n\n\n  const general_unit_rate_elec = {\n    unit_rate: 19\n  }; // Default unit rate for gas\n\n  const general_unit_rate_gas = {\n    unit_rate: 3\n  }; // useEffect to assign the svt for the supplier selected\n\n  useEffect(() => {\n    (async () => {\n      /**-- Unit rate for electricity --*/\n      // DocRef Unit Rate Elec\n      let unitRateElecRef = await db.collection(\"unitRates\").doc('unit_rate_svt_elec');\n      let unitRateElec = await unitRateElecRef.get().then(doc => {\n        if (doc.exists) {\n          return doc.data();\n        } else {\n          // console.log(general_unit_rate_elec);\n          return general_unit_rate_elec;\n        }\n      }).catch(error => {\n        console.log(\"Error getting document:\", error); // console.log(general_unit_rate_elec);\n\n        return general_unit_rate_elec;\n      });\n      /**-- Unit rate for gas --*/\n      // DocRef Unit Rate gas\n\n      let unitRateGasRef = await db.collection(\"unitRates\").doc('unit_rate_svt_gas');\n      let unitRateGas = await unitRateGasRef.get().then(doc => {\n        if (doc.exists) {\n          return doc.data();\n        } else {\n          // console.log(general_unit_rate_elec);\n          return general_unit_rate_gas;\n        }\n      }).catch(error => {\n        console.log(\"Error getting document:\", error); // console.log(general_unit_rate_elec);\n\n        return general_unit_rate_gas;\n      }); // Market cap unit rates\n\n      let unit_rate_svt_elec = unitRateElec.unit_rate;\n      let unit_rate_svt_gas = unitRateGas.unit_rate;\n\n      if (elec_only) {\n        console.log('elec_only'); // Update customer information\n\n        updateCustomerInformation({ ...customerInformation,\n          tariff_description: {\n            unit_rate: unit_rate_svt_elec\n          }\n        });\n      }\n\n      if (gas_only) {\n        console.log('gas_only'); // Update customer information\n\n        updateCustomerInformation({ ...customerInformation,\n          tariff_description: {\n            unit_rate: unit_rate_svt_gas\n          }\n        });\n      }\n\n      if (dual_active) {\n        if (same_supplier) {\n          // Update customer information\n          updateCustomerInformation({ ...customerInformation,\n            tariff_description: {\n              unit_rate_elec: unit_rate_svt_elec,\n              unit_rate_gas: unit_rate_svt_gas\n            }\n          });\n        } else {\n          console.log('Same supplier false'); // Update customer information\n\n          updateCustomerInformation({ ...customerInformation,\n            tariff_description_elec: {\n              elec_tariff: {\n                unit_rate: unit_rate_svt_elec\n              }\n            },\n            tariff_description_gas: {\n              gas_tariff: {\n                unit_rate: unit_rate_svt_gas\n              }\n            }\n          });\n        }\n      }\n    })();\n  }, []); // sendE7\n\n  const sendE7 = async e => {\n    e.preventDefault();\n    /**-- Validation --*/\n\n    if (error_e7_split) {\n      return;\n    }\n\n    ;\n\n    if (active_rb_yes === false && active_rb_no === false) {\n      // Update error\n      updateError(true);\n      return;\n    }\n\n    ;\n\n    if (e7_split) {\n      const e7_split_value = document.getElementById('e7-split').value;\n\n      if (e7_split_value === '') {\n        update_error_e7_split(true);\n        return;\n      }\n    }\n\n    ; // Show overlay\n\n    updateShowOverlay(true); // Hidde Economy 7\n\n    updateShowE7(false); // Update Progressbar\n\n    updateProgressBar({ ...progressBar,\n      step: 6\n    }); // Conditional to usage section\n\n    if (gas_only) {\n      // Show Gas\n      updateShowFormUsageGAS(true);\n    } else {\n      // Show KWH\n      updateShowFormUsageKWH(true);\n    }\n    /**-- Firebase --*/\n\n\n    const {\n      customerAddres,\n      useGas,\n      fuel,\n      fuel_description,\n      tariff_description,\n      tariff_description_elec,\n      tariff_description_gas,\n      economy7\n    } = customerInformation; // elec_only\n\n    if (elec_only) {\n      // Firebase\n      await db.collection(\"customers\").doc(uid).set({\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        step: 5,\n        customerAddres: {\n          doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n          addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n          addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n          city: customerAddres.city ? customerAddres.city : '',\n          postcode: customerAddres.postcode ? customerAddres.postcode : '',\n          mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n        },\n        MPANDetails: {\n          mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n          supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n          company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n        },\n        dataGas: {\n          current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n          meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n          company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n        },\n        useGas: {\n          gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n        },\n        fuel: {\n          dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n        },\n        fuel_description: {\n          dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n          elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n          gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n          same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n        },\n        supplierInformation: {\n          electricity_supplier: {\n            company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n            meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n            mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n            supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n          },\n          gas_supplier: {\n            company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n            current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n            meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n            mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n          }\n        },\n        electricityPaymentType: {\n          electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n          electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n        },\n        gasPaymentType: {\n          gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n          gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n        },\n        tariff_description: {\n          unit_rate: tariff_description.unit_rate ? tariff_description.unit_rate : general_unit_rate_elec\n        },\n        economy7: {\n          economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n          economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n        }\n      });\n    } // gas_only\n\n\n    if (gas_only) {\n      // Firebase\n      await db.collection(\"customers\").doc(uid).set({\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        step: 5,\n        customerAddres: {\n          doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n          addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n          addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n          city: customerAddres.city ? customerAddres.city : '',\n          postcode: customerAddres.postcode ? customerAddres.postcode : '',\n          mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n        },\n        MPANDetails: {\n          mpan_core: electricityInformation.MPANDetails.mpan_core,\n          meter_type: electricityInformation.MPANDetails.meter_type,\n          supplier_mpid: electricityInformation.MPANDetails.supplier_mpid,\n          company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n        },\n        dataGas: {\n          current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n          meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n          company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n        },\n        useGas: {\n          gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n        },\n        fuel: {\n          dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n        },\n        fuel_description: {\n          dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n          elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n          gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n          same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n        },\n        supplierInformation: {\n          electricity_supplier: {\n            company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n            meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n            mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n            supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n          },\n          gas_supplier: {\n            company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n            current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n            meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n            mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n          }\n        },\n        electricityPaymentType: {\n          electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n          electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n        },\n        gasPaymentType: {\n          gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n          gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n        },\n        tariff_description: {\n          unit_rate: tariff_description.unit_rate ? tariff_description.unit_rate : general_unit_rate_gas\n        },\n        economy7: {\n          economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n          economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n        }\n      });\n    } // dual_active\n\n\n    if (dual_active) {\n      // same_supplier\n      if (same_supplier) {\n        // Firebase\n        await db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 5,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          tariff_description: {\n            unit_rate_elec: tariff_description.unit_rate_elec ? tariff_description.unit_rate_elec : general_unit_rate_elec,\n            unit_rate_gas: tariff_description.unit_rate_gas ? tariff_description.unit_rate_gas : general_unit_rate_gas\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          }\n        });\n      } else {\n        // Firebase\n        await db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 5,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          tariff_description_elec: {\n            elec_tariff: {\n              unit_rate: tariff_description_elec.elec_tariff.unit_rate ? tariff_description_elec.elec_tariff.unit_rate : general_unit_rate_elec\n            }\n          },\n          tariff_description_gas: {\n            gas_tariff: {\n              unit_rate: tariff_description_gas.gas_tariff.unit_rate ? tariff_description_gas.gas_tariff.unit_rate : general_unit_rate_gas\n            }\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          }\n        });\n      }\n    }\n  }; // Adding initial customer data to firebase (Coming from Supply cc)\n\n\n  useEffect(() => {\n    (async () => {\n      /**-- Firebase --*/\n      const {\n        customerAddres,\n        useGas,\n        fuel,\n        fuel_description\n      } = customerInformation; // Firebase\n\n      await db.collection(\"customers\").doc(uid).set({\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        step: 4,\n        customerAddres: {\n          doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n          addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n          addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n          city: customerAddres.city ? customerAddres.city : '',\n          postcode: customerAddres.postcode ? customerAddres.postcode : '',\n          mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n        },\n        MPANDetails: {\n          mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n          supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n          company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n        },\n        dataGas: {\n          current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n          meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n          company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n        },\n        useGas: {\n          gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n        },\n        fuel: {\n          dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n        },\n        fuel_description: {\n          dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n          elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n          gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n          same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n        },\n        supplierInformation: {\n          electricity_supplier: {\n            company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n            meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n            mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n            supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n          },\n          gas_supplier: {\n            company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n            current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n            meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n            mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n          }\n        },\n        electricityPaymentType: {\n          electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n          electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n        },\n        gasPaymentType: {\n          gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n          gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n        }\n      });\n    })();\n  }, [FormE7]); // Go back\n\n  const goBack = e => {\n    e.preventDefault(); // Update Progressbar\n\n    updateProgressBar({ ...progressBar,\n      step: 4\n    }); // Delete economy7_apply from economy7\n\n    const copy_economy7 = { ...economy7\n    };\n    delete copy_economy7['economy7']; // Update economy7\n\n    updateEconomy7({ ...copy_economy7\n    }); // Delete economy7, supplierInformation and electricityPaymentType from Customer Information\n\n    const copy_customerInformation = { ...customerInformation\n    };\n    delete copy_customerInformation['economy7'];\n    delete copy_customerInformation['supplierInformation'];\n    delete copy_customerInformation['electricityPaymentType'];\n    delete copy_customerInformation['gasPaymentType']; // Update Customer Information\n\n    updateCustomerInformation({ ...copy_customerInformation\n    }); // Update ElectricityPaymentType\n\n    const copy_electricityPaymentType = { ...electricityPaymentType.delete\n    };\n    updateElectricityPaymentType({ ...copy_electricityPaymentType\n    }); // Update gasPaymentType\n\n    const copy_gasPaymentType = { ...gasPaymentType.delete\n    };\n    updateGasPaymentType({ ...copy_gasPaymentType\n    }); // Hidde E7\n\n    updateShowE7(false); // Hidde Error\n\n    updateError(false); // Show Form Supply\n\n    updateShowFormSupply(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-e7-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-e7-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-e7-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-e7\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Do you have an Economy 7 meter?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Economy 7 electricity tariffs work alongside Economy 7 meters to provide a different price per kWh based on your time of use. These tariffs are based around day and night-time usage, with electricity being cheaper at night but more expensive than normal during the day.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-e7-btn-selection-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-cy\": \"e7-yes\",\n              className: \"form-e7-blocks-dual\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: active_rb_yes ? \"form-e7-btn-selection-content isDual active\" : \"form-e7-btn-selection-content isDual\",\n                id: \"yes_selected\",\n                onClick: () => handleClickRB_yes(),\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"d-none\",\n                  type: \"radio\",\n                  name: \"dual-type\",\n                  id: \"dual_yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-e7-cb-container\",\n                  children: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                    value: {\n                      color: '#31145B',\n                      size: '30px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FaCheckSquare, {\n                      className: \"form-e7-cb\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 741,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 740,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-e7-btn-selection-dual\",\n                  children: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                    value: {\n                      color: '#31145B',\n                      size: '35px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FaRegThumbsUp, {\n                      className: \"fuel-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 747,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 746,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 745,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-e7-blocks-dual\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-cy\": \"e7-no\",\n                className: active_rb_no ? \"form-e7-btn-selection-content isDual active\" : \"form-e7-btn-selection-content isDual\",\n                id: \"no_selected\",\n                onClick: () => handleClickRB_no(),\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"d-none\",\n                  type: \"radio\",\n                  name: \"dual-type\",\n                  id: \"dual_no\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-e7-cb-container\",\n                  children: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                    value: {\n                      color: '#31145B',\n                      size: '30px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FaCheckSquare, {\n                      className: \"form-e7-cb\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 759,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 758,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-e7-btn-selection-dual\",\n                  children: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                    value: {\n                      color: '#31145B',\n                      size: '35px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FaRegThumbsDown, {\n                      className: \"fuel-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 765,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 768,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 13\n          }, this), error === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-center\",\n            children: /*#__PURE__*/_jsxDEV(Error, {\n              message: 'Please select above'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 17\n          }, this) : null, e7_split ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-e7-split-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"e7-split\",\n                children: \"What is your Economy 7 split?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-e7-input-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    \"data-cy\": \"e7-input\",\n                    className: \"form-e7split-input\",\n                    ype: \"text\",\n                    maxLength: \"3\",\n                    id: \"e7-split\",\n                    onChange: e => handleChange(e)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 790,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 19\n            }, this)\n          }, void 0, false) : null, error_e7_split ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-e7\",\n            children: /*#__PURE__*/_jsxDEV(Error, {\n              message: 'Please check your Economy 7 split'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 17\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-e7-btn-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-e7-btn btn-back\",\n              onClick: e => goBack(e),\n              children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#D338AE',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                  className: \"icon-back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 823,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 17\n              }, this), \"Go back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"e7-continue\",\n              className: \"form-e7-btn btn-next\",\n              onClick: e => sendE7(e),\n              children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#FFF',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                  className: \"icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helper-e7\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"script-e7\",\n            children: /*#__PURE__*/_jsxDEV(FormScript, {\n              step: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-e7-custom\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-e7\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormE7, \"f3kM4A0V5cNA1xgjxL+9R1YADbw=\");\n\n_c = FormE7;\nexport default FormE7;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormE7\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormE7/FormE7.jsx"],"names":["React","useState","useEffect","db","firebase","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FaCheckSquare","FaRegThumbsUp","FaRegThumbsDown","FormScript","FormAssistant","Error","FormE7","economy7","customerInformation","electricityPaymentType","gasPaymentType","electricityInformation","gasInformation","supplierInformation","progressBar","showScript","updateEconomy7","updateCustomerInformation","updateShowFormSupply","updateShowE7","updateShowFormTariffs","updateElectricityPaymentType","updateGasPaymentType","updateProgressBar","updateShowOverlay","updateSupplierInformation","updateGasInformation","updateElectricityInformation","updateShowFormUsageKWH","updateShowFormUsageGAS","radioActive","updateRadioActive","e7_yes","e7_no","e7_split","update_e7_split","error","updateError","error_e7_split","update_error_e7_split","elec_only","fuel_description","gas_only","same_supplier","dual_active","postcode_formatted","customerAddres","postcode","replace","trim","toLowerCase","doornumber_formatted","doornumber","uid","window","scrollTo","top","behavior","scroll_to","element","document","querySelector","scrollIntoView","block","inline","active_rb_yes","active_rb_no","handleClickRB_yes","economy7_apply","handleClickRB_no","economy7_split","handleChange","e","e7_split_value","parseFloat","getElementById","value","isNaN","general_unit_rate_elec","unit_rate","general_unit_rate_gas","unitRateElecRef","collection","doc","unitRateElec","get","then","exists","data","catch","console","log","unitRateGasRef","unitRateGas","unit_rate_svt_elec","unit_rate_svt_gas","tariff_description","unit_rate_elec","unit_rate_gas","tariff_description_elec","elec_tariff","tariff_description_gas","gas_tariff","sendE7","preventDefault","step","useGas","fuel","set","created","firestore","FieldValue","serverTimestamp","addressline1","addressline2","city","mpan","MPANDetails","mpan_core","mprn","dataGas","meter_type","supplier_mpid","company_name","current_supplier_id","meter_mechanism_code","gas_apply","dual_fuel_apply","electricity_supplier","gas_supplier","electricity_payment_type_id","electricity_payment_type_method","gas_payment_type_id","gas_payment_type_method","goBack","copy_economy7","copy_customerInformation","copy_electricityPaymentType","delete","copy_gasPaymentType","color","size","display","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FormE7.css\";\n// Firebase\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\";\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\nimport { FaCheckSquare, FaRegThumbsUp, FaRegThumbsDown } from 'react-icons/fa';\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\n\nfunction FormE7({ economy7, customerInformation, electricityPaymentType, gasPaymentType, electricityInformation, gasInformation, supplierInformation, progressBar, showScript, updateEconomy7, updateCustomerInformation, updateShowFormSupply, updateShowE7, updateShowFormTariffs, updateElectricityPaymentType, updateGasPaymentType, updateProgressBar, updateShowOverlay, updateSupplierInformation, updateGasInformation, updateElectricityInformation, updateShowFormUsageKWH, updateShowFormUsageGAS }) {\n  /* STATES */\n\n  // Radio button active class\n  const [radioActive, updateRadioActive] = useState({\n    e7_yes: false,\n    e7_no: false\n  });\n\n  // Split for E7\n  const [e7_split, update_e7_split] = useState(false);\n\n  // Error State\n  const [error, updateError] = useState(false);\n  const [error_e7_split, update_error_e7_split] = useState(false);\n\n  /* FUNCTIONS */\n\n  // Variables\n  // elec_only\n  const elec_only = customerInformation.fuel_description.elec_only;\n  // gas_only\n  const gas_only = customerInformation.fuel_description.gas_only;\n  // same_supplier\n  const same_supplier = customerInformation.fuel_description.same_supplier;\n  // dual_active\n  const dual_active = customerInformation.fuel_description.dual_active;\n  // postcode_formatted\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase();\n  // doornumber_formatted\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n  // uid\n  const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n  // Scroll to top & asign data to 'IDK' supplier\n  useEffect(() => {\n    // Scroll to top\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n      }\n\n      scroll_to()\n    }\n\n    if (error_e7_split) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n      }\n\n      scroll_to();\n    }\n  }, [error, error_e7_split]);\n\n  const active_rb_yes = radioActive.e7_yes;\n  const active_rb_no = radioActive.e7_no;\n\n  const handleClickRB_yes = () => {\n    // Update error\n    updateError(false);\n    // Update state\n    updateRadioActive({\n      ...radioActive,\n      e7_yes: true,\n      e7_no: false\n    });\n    // Update Economy 7\n    updateEconomy7({\n      ...economy7,\n      economy7: {\n        economy7_apply: true\n      }\n    });\n    // Update Customer Information\n    updateCustomerInformation({\n      ...customerInformation,\n      economy7: {\n        economy7_apply: true\n      }\n    });\n    // Update state\n    update_e7_split(true);\n  }\n\n  const handleClickRB_no = () => {\n    // Update error\n    updateError(false);\n    // Update state\n    updateRadioActive({\n      ...radioActive,\n      e7_yes: false,\n      e7_no: true\n    });\n    // Update Economy 7\n    updateEconomy7({\n      ...economy7,\n      economy7: {\n        economy7_apply: false,\n        economy7_split: false\n      }\n    });\n    // Update Customer Information\n    updateCustomerInformation({\n      ...customerInformation,\n      economy7: {\n        economy7_apply: false,\n        economy7_split: false\n      }\n    });\n    // Update state\n    update_e7_split(false);\n    // Update Error\n    update_error_e7_split(false);\n  }\n\n  const handleChange = (e) => {\n    const e7_split_value = parseFloat(document.getElementById('e7-split').value.trim().replace(/[^\\w\\s]/gi, ''));\n\n    if (isNaN(e7_split_value) || e7_split_value < 1 || e7_split_value > 100) {\n      // Update error\n      update_error_e7_split(true);\n      return;\n    } else {\n      // Update error\n      update_error_e7_split(false);\n    }\n\n    // Update Customer Inforation \n    updateCustomerInformation({\n      ...customerInformation,\n      economy7: {\n        economy7_apply: true,\n        economy7_split: e7_split_value\n      }\n    });\n\n    // Update Economy 7\n    updateEconomy7({\n      economy7: {\n        economy7_apply: true,\n        economy7_split: e7_split_value\n      }\n    });\n  }\n\n  // Default unit rate for electricity\n  const general_unit_rate_elec = { unit_rate: 19 };\n\n  // Default unit rate for gas\n  const general_unit_rate_gas = { unit_rate: 3 };\n\n  // useEffect to assign the svt for the supplier selected\n  useEffect(() => {\n\n    (async () => {\n\n      /**-- Unit rate for electricity --*/\n\n      // DocRef Unit Rate Elec\n      let unitRateElecRef = await db.collection(\"unitRates\").doc('unit_rate_svt_elec');\n\n      let unitRateElec = await unitRateElecRef.get().then((doc) => {\n        if (doc.exists) {\n\n          return doc.data();\n\n        } else {\n\n          // console.log(general_unit_rate_elec);\n\n          return general_unit_rate_elec;\n        }\n      }).catch((error) => {\n\n        console.log(\"Error getting document:\", error);\n        // console.log(general_unit_rate_elec);\n\n        return general_unit_rate_elec;\n      });\n\n      /**-- Unit rate for gas --*/\n\n      // DocRef Unit Rate gas\n      let unitRateGasRef = await db.collection(\"unitRates\").doc('unit_rate_svt_gas');\n\n      let unitRateGas = await unitRateGasRef.get().then((doc) => {\n        if (doc.exists) {\n\n          return doc.data();\n\n        } else {\n\n          // console.log(general_unit_rate_elec);\n\n          return general_unit_rate_gas;\n        }\n      }).catch((error) => {\n\n        console.log(\"Error getting document:\", error);\n        // console.log(general_unit_rate_elec);\n\n        return general_unit_rate_gas;\n      });\n\n      // Market cap unit rates\n      let unit_rate_svt_elec = unitRateElec.unit_rate;\n      let unit_rate_svt_gas = unitRateGas.unit_rate;\n\n      if (elec_only) {\n        console.log('elec_only');\n\n        // Update customer information\n        updateCustomerInformation({\n          ...customerInformation,\n          tariff_description: {\n            unit_rate: unit_rate_svt_elec\n          }\n        });\n      }\n\n      if (gas_only) {\n        console.log('gas_only');\n        // Update customer information\n        updateCustomerInformation({\n          ...customerInformation,\n          tariff_description: {\n            unit_rate: unit_rate_svt_gas\n          }\n        });\n      }\n\n      if (dual_active) {\n        if (same_supplier) {\n          // Update customer information\n          updateCustomerInformation({\n            ...customerInformation,\n            tariff_description: {\n              unit_rate_elec: unit_rate_svt_elec,\n              unit_rate_gas: unit_rate_svt_gas,\n            }\n          });\n        } else {\n          console.log('Same supplier false');\n          // Update customer information\n          updateCustomerInformation({\n            ...customerInformation,\n            tariff_description_elec: {\n              elec_tariff: {\n                unit_rate: unit_rate_svt_elec\n              }\n            },\n            tariff_description_gas: {\n              gas_tariff: {\n                unit_rate: unit_rate_svt_gas\n              }\n            }\n          });\n        }\n      }\n\n    })();\n\n  }, []);\n\n  // sendE7\n  const sendE7 = async (e) => {\n    e.preventDefault();\n\n    /**-- Validation --*/\n    if (error_e7_split) {\n      return;\n    };\n\n    if ((active_rb_yes === false) && (active_rb_no === false)) {\n      // Update error\n      updateError(true);\n      return;\n    };\n\n    if (e7_split) {\n      const e7_split_value = document.getElementById('e7-split').value;\n      if (e7_split_value === '') {\n        update_error_e7_split(true);\n        return;\n      }\n    };\n\n    // Show overlay\n    updateShowOverlay(true);\n    // Hidde Economy 7\n    updateShowE7(false);\n    // Update Progressbar\n    updateProgressBar({ ...progressBar, step: 6 });\n\n    // Conditional to usage section\n    if (gas_only) {\n      // Show Gas\n      updateShowFormUsageGAS(true)\n    } else {\n      // Show KWH\n      updateShowFormUsageKWH(true);\n    }\n\n    /**-- Firebase --*/\n    const { customerAddres, useGas, fuel, fuel_description, tariff_description, tariff_description_elec, tariff_description_gas, economy7 } = customerInformation;\n\n    // elec_only\n    if (elec_only) {\n      // Firebase\n      await db.collection(\"customers\").doc(uid).set({\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        step: 5,\n        customerAddres: {\n          doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n          addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n          addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n          city: customerAddres.city ? customerAddres.city : '',\n          postcode: customerAddres.postcode ? customerAddres.postcode : '',\n          mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n        },\n        MPANDetails: {\n          mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n          supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n          company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n        },\n        dataGas: {\n          current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n          meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n          company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n        },\n        useGas: {\n          gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n        },\n        fuel: {\n          dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n        },\n        fuel_description: {\n          dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n          elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n          gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n          same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n        },\n        supplierInformation: {\n          electricity_supplier: {\n            company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n            meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n            mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n            supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n          },\n          gas_supplier: {\n            company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n            current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n            meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n            mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n          }\n        },\n        electricityPaymentType: {\n          electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n          electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n        },\n        gasPaymentType: {\n          gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n          gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n        },\n        tariff_description: {\n          unit_rate: tariff_description.unit_rate ? tariff_description.unit_rate : general_unit_rate_elec\n        },\n        economy7: {\n          economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n          economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n        }\n      });\n    }\n\n    // gas_only\n    if (gas_only) {\n      // Firebase\n      await db.collection(\"customers\").doc(uid).set({\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        step: 5,\n        customerAddres: {\n          doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n          addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n          addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n          city: customerAddres.city ? customerAddres.city : '',\n          postcode: customerAddres.postcode ? customerAddres.postcode : '',\n          mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n        },\n        MPANDetails: {\n          mpan_core: electricityInformation.MPANDetails.mpan_core,\n          meter_type: electricityInformation.MPANDetails.meter_type,\n          supplier_mpid: electricityInformation.MPANDetails.supplier_mpid,\n          company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n        },\n        dataGas: {\n          current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n          meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n          company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n        },\n        useGas: {\n          gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n        },\n        fuel: {\n          dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n        },\n        fuel_description: {\n          dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n          elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n          gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n          same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n        },\n        supplierInformation: {\n          electricity_supplier: {\n            company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n            meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n            mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n            supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n          },\n          gas_supplier: {\n            company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n            current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n            meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n            mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n          }\n        },\n        electricityPaymentType: {\n          electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n          electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n        },\n        gasPaymentType: {\n          gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n          gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n        },\n        tariff_description: {\n          unit_rate: tariff_description.unit_rate ? tariff_description.unit_rate : general_unit_rate_gas\n        },\n        economy7: {\n          economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n          economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n        }\n      });\n    }\n\n    // dual_active\n    if (dual_active) {\n      // same_supplier\n      if (same_supplier) {\n        // Firebase\n        await db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 5,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          tariff_description: {\n            unit_rate_elec: tariff_description.unit_rate_elec ? tariff_description.unit_rate_elec : general_unit_rate_elec,\n            unit_rate_gas: tariff_description.unit_rate_gas ? tariff_description.unit_rate_gas : general_unit_rate_gas\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          }\n        });\n      } else {\n        // Firebase\n        await db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 5,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          tariff_description_elec: {\n            elec_tariff: {\n              unit_rate: tariff_description_elec.elec_tariff.unit_rate ? tariff_description_elec.elec_tariff.unit_rate : general_unit_rate_elec\n            }\n          },\n          tariff_description_gas: {\n            gas_tariff: {\n              unit_rate: tariff_description_gas.gas_tariff.unit_rate ? tariff_description_gas.gas_tariff.unit_rate : general_unit_rate_gas\n            }\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          }\n        });\n      }\n    }\n  };\n\n  // Adding initial customer data to firebase (Coming from Supply cc)\n  useEffect(() => {\n    (async () => {\n      /**-- Firebase --*/\n      const { customerAddres, useGas, fuel, fuel_description } = customerInformation;\n      // Firebase\n      await db.collection(\"customers\").doc(uid).set({\n        created: firebase.firestore.FieldValue.serverTimestamp(),\n        step: 4,\n        customerAddres: {\n          doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n          addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n          addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n          city: customerAddres.city ? customerAddres.city : '',\n          postcode: customerAddres.postcode ? customerAddres.postcode : '',\n          mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n        },\n        MPANDetails: {\n          mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n          meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n          supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n          company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n        },\n        dataGas: {\n          current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n          meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n          mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n          company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n        },\n        useGas: {\n          gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n        },\n        fuel: {\n          dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n        },\n        fuel_description: {\n          dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n          elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n          gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n          same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n        },\n        supplierInformation: {\n          electricity_supplier: {\n            company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n            meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n            mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n            supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n          },\n          gas_supplier: {\n            company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n            current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n            meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n            mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n          }\n        },\n        electricityPaymentType: {\n          electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n          electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n        },\n        gasPaymentType: {\n          gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n          gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n        },\n      });\n    })();\n\n  }, [FormE7]);\n\n  // Go back\n  const goBack = (e) => {\n    e.preventDefault();\n    // Update Progressbar\n    updateProgressBar({ ...progressBar, step: 4 });\n\n    // Delete economy7_apply from economy7\n    const copy_economy7 = { ...economy7 };\n    delete copy_economy7['economy7'];\n    // Update economy7\n    updateEconomy7({ ...copy_economy7 });\n    // Delete economy7, supplierInformation and electricityPaymentType from Customer Information\n    const copy_customerInformation = { ...customerInformation };\n    delete copy_customerInformation['economy7'];\n    delete copy_customerInformation['supplierInformation'];\n    delete copy_customerInformation['electricityPaymentType'];\n    delete copy_customerInformation['gasPaymentType'];\n    // Update Customer Information\n    updateCustomerInformation({ ...copy_customerInformation });\n    // Update ElectricityPaymentType\n    const copy_electricityPaymentType = { ...electricityPaymentType.delete };\n    updateElectricityPaymentType({ ...copy_electricityPaymentType });\n    // Update gasPaymentType\n    const copy_gasPaymentType = { ...gasPaymentType.delete };\n    updateGasPaymentType({ ...copy_gasPaymentType });\n    // Hidde E7\n    updateShowE7(false);\n    // Hidde Error\n    updateError(false);\n    // Show Form Supply\n    updateShowFormSupply(true);\n  };\n\n  return (\n    <>\n      <section className=\"form-e7-section\">\n        <div className=\"form-e7-container\">\n          <div className=\"form-e7-content\">\n            <div className=\"form-e7\">\n              <h1>Do you have an Economy 7 meter?</h1>\n              <p>Economy 7 electricity tariffs work alongside Economy 7 meters to provide a different price per kWh based on your time of use. These tariffs are based around day and night-time usage, with electricity being cheaper at night but more expensive than normal during the day.</p>\n            </div>\n\n            <form className=\"form-e7-btn-selection-container\">\n              <div data-cy=\"e7-yes\" className=\"form-e7-blocks-dual\">\n                <div className={active_rb_yes ? \"form-e7-btn-selection-content isDual active\" : \"form-e7-btn-selection-content isDual\"} id=\"yes_selected\" onClick={() => handleClickRB_yes()}>\n                  <input className=\"d-none\" type=\"radio\" name=\"dual-type\" id=\"dual_yes\" />\n                  <div className=\"form-e7-cb-container\">\n                    <IconContext.Provider value={{ color: '#31145B', size: '30px' }}>\n                      <FaCheckSquare className=\"form-e7-cb\" />\n                    </IconContext.Provider>\n                  </div>\n\n                  <div className=\"form-e7-btn-selection-dual\">\n                    <IconContext.Provider value={{ color: '#31145B', size: '35px' }}>\n                      <FaRegThumbsUp className=\"fuel-icon\" />\n                    </IconContext.Provider>\n                  </div>\n                  <p>Yes</p>\n                </div>\n              </div>\n\n              <div className=\"form-e7-blocks-dual\">\n                <div data-cy=\"e7-no\" className={active_rb_no ? \"form-e7-btn-selection-content isDual active\" : \"form-e7-btn-selection-content isDual\"} id=\"no_selected\" onClick={() => handleClickRB_no()}>\n                  <input className=\"d-none\" type=\"radio\" name=\"dual-type\" id=\"dual_no\" />\n                  <div className=\"form-e7-cb-container\">\n                    <IconContext.Provider value={{ color: '#31145B', size: '30px' }}>\n                      <FaCheckSquare className=\"form-e7-cb\" />\n                    </IconContext.Provider>\n                  </div>\n\n                  <div className=\"form-e7-btn-selection-dual\">\n                    <IconContext.Provider value={{ color: '#31145B', size: '35px' }}>\n                      <FaRegThumbsDown className=\"fuel-icon\" />\n                    </IconContext.Provider>\n                  </div>\n                  <p>No</p>\n                </div>\n              </div>\n            </form>\n\n            {/* Error */}\n            {error === true ?\n              (\n                <div className=\"error-center\">\n                  <Error message={'Please select above'} />\n                </div>\n              )\n              :\n              null}\n\n            {e7_split ?\n              (\n                <>\n                  <div className=\"form-e7-split-container\">\n                    <label htmlFor=\"e7-split\">What is your Economy 7 split?</label>\n                    <div style={{ display: 'flex' }}>\n                      <div className=\"form-e7-input-content\" >\n                        <input data-cy=\"e7-input\" className=\"form-e7split-input\" ype=\"text\" maxLength=\"3\" id=\"e7-split\" onChange={(e) => handleChange(e)} />\n                        <span>%</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* <div className=\"form-e7-input-container\">\n                    <div className=\"form-e7-input-content\">\n                      <label htmlFor=\"e7-split\">What is your Economy 7 split?</label>\n                      <input className=\"form-e7-input\" type=\"text\" maxLength=\"3\" id=\"e7-split\" onChange={(e) => handleChange(e)} />\n                    </div>\n                  </div> */}\n                </>\n              )\n\n              :\n              null\n            }\n\n            {error_e7_split ?\n              (\n                <div className=\"error-e7\">\n                  <Error message={'Please check your Economy 7 split'} />\n                </div>\n              )\n              :\n              null\n            }\n\n            {/* Buttons */}\n            <div className=\"form-e7-btn-container\">\n              <button className=\"form-e7-btn btn-back\" onClick={(e) => goBack(e)}>\n                <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                  <IoMdArrowDropleft className=\"icon-back\" />\n                </IconContext.Provider>\n                Go back\n              </button>\n\n              <button data-cy=\"e7-continue\" className=\"form-e7-btn btn-next\" onClick={(e) => sendE7(e)}>\n                Continue\n\n                <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                  <IoMdArrowDropright className=\"icon-next\" />\n                </IconContext.Provider>\n              </button>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"helper-e7\">\n                <div className=\"script-e7\">\n                  <FormScript step={6} />\n                </div>\n\n                <div className=\"assistant-e7-custom\">\n                  <FormAssistant tips={5} />\n                </div>\n              </div>\n            )\n            :\n            <div style={{ width: '100%' }}>\n              <div className=\"assistant-e7\">\n                <FormAssistant tips={5} />\n              </div>\n            </div>\n          }\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default FormE7;\n"]},"metadata":{},"sourceType":"module"}