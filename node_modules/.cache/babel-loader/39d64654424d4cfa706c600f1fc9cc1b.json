{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormDetails/FormDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // CSS\n\nimport \"./FormDetails.css\";\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropright, IoMdArrowDropleft } from 'react-icons/io'; // Utils\n\nimport { validateEmail } from '../../../utils/utils'; // Phone Number Validation\n\nimport { isValidPhoneNumber, parsePhoneNumber } from 'libphonenumber-js'; // Components\n\nimport Error from '../../Error/Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FormDetails = ({\n  customerInformation,\n  progressBar,\n  updateCustomerInformation,\n  updateShowFormCompare,\n  updateShowFormDetails,\n  updateShowFormBankDetails,\n  updateProgressBar,\n  updateShowOverlay\n}) => {\n  _s();\n\n  /** STATES */\n  // disableInput\n  const [disableInput, updateDisableInput] = useState(true); // Scroll to top\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // Error State\n\n  const [error, updateError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({\n    message: ''\n  }); // Variables\n\n  const {\n    doornumber,\n    addressline1,\n    addressline2,\n    city,\n    postcode\n  } = customerInformation.customerAddres;\n  const {\n    tariff_name,\n    exit_fees,\n    monthly_cost\n  } = customerInformation.switching_details.supplier_selected;\n  const {\n    debt_apply,\n    debt_amount\n  } = customerInformation.debt;\n  /** FUNCTIONS */\n  // Error smooth scroll\n\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"end\"\n        });\n      };\n\n      scroll_to();\n    }\n  }, [error]); // Function that runs every time the user writes to the input\n\n  const handleChange = e => {\n    // Hidde error\n    updateError(false); // Update Customer details\n\n    updateCustomerInformation({ ...customerInformation,\n      customerDetails: { ...customerInformation.customerDetails,\n        [e.target.name]: e.target.value\n      }\n    });\n  }; // Verify button\n\n\n  const verifyCustomer = async e => {\n    e.preventDefault(); // Show Overlay\n\n    updateShowOverlay(true);\n    let phone = {\n      'phone': customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g, '').trim().toString()\n    };\n    await fetch('https://cors-anywhere.herokuapp.com/https://zohosdkfunction.azurewebsites.net/api/httptrigger1?method=verify', {\n      method: 'POST',\n      body: JSON.stringify(phone),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.status !== 200) {\n        return Promise.reject(response.json());\n      }\n\n      return response.json();\n    }).then(response => {\n      console.log(response); // Update Customer details\n\n      updateCustomerInformation({ ...customerInformation,\n        customerDetails: { ...customerInformation.customerDetails,\n          first_name: response.first_name ? response.first_name : '',\n          last_name: response.last_name ? response.last_name : '',\n          email: response.email ? response.email : '',\n          phone: response.phone ? response.phone : ''\n        },\n        bankDetails: {\n          account_holder: '',\n          account_number: '',\n          sort_code: ''\n        }\n      }); // Disable input\n\n      updateDisableInput(true);\n    }).catch(error => {\n      console.error('Error: ', error); // Update Customer details\n\n      updateCustomerInformation({ ...customerInformation,\n        customerDetails: { ...customerInformation.customerDetails,\n          first_name: '',\n          last_name: '',\n          email: '',\n          phone: phone.phone\n        },\n        bankDetails: {\n          account_holder: '',\n          account_number: '',\n          sort_code: ''\n        }\n      });\n    }); // Hide Overlay\n\n    updateShowOverlay(false);\n  }; // Edit button\n\n\n  const editCustomer = e => {\n    e.preventDefault(); // Update disable input\n\n    updateDisableInput(false);\n  }; // goToBankDetails\n\n\n  const goToBankDetails = async e => {\n    e.preventDefault(); // Customer Details\n\n    const {\n      first_name,\n      last_name,\n      email,\n      phone\n    } = customerInformation.customerDetails; // Validated details\n\n    const first_name_validated = first_name.replace(/[^a-zA-Z ]/g, \"\").trim();\n    const last_name_validated = last_name.replace(/[^a-zA-Z ]/g, \"\").trim();\n    const email_validated = email.replace(/[^A-Za-z0-9|@.-]/g, \"\").trim();\n    const phone_validated = phone.replace(/[^0-9\\.]+/g, '').trim().toString(); // Validate email\n\n    if (!validateEmail(email_validated)) {\n      // Set error message\n      setErrorMessage({ ...errorMessage,\n        message: 'Please introduce a valid email address'\n      }); // Show error\n\n      updateError(true);\n      return;\n    }\n\n    ; // Validate phone number length\n\n    if (phone_validated.length <= 10 || phone_validated.length > 12) {\n      // Set error message\n      setErrorMessage({ ...errorMessage,\n        message: 'Please introduce a valid phone number'\n      }); // Show Error\n\n      updateError(true);\n      return;\n    }\n\n    ; // Phone number parsed\n\n    const parsedPhoneNumber = parsePhoneNumber(phone_validated, 'GB'); // Phone number\n\n    const phoneNumber = parsedPhoneNumber.number; // Phone number validation\n\n    if (!isValidPhoneNumber(phoneNumber, 'GB')) {\n      // Set error message\n      setErrorMessage({ ...errorMessage,\n        message: 'Please introduce a valid phone number'\n      }); // Show Error\n\n      updateError(true);\n      return;\n    } // Validation\n\n\n    if (!first_name_validated || !last_name_validated || !email_validated || !phone_validated) {\n      // Set error message\n      setErrorMessage({ ...errorMessage,\n        message: 'All fields are required'\n      }); // Show Error\n\n      updateError(true);\n      return;\n    }\n\n    ;\n\n    if (!disableInput) {\n      // Show Overlay\n      updateShowOverlay(true); // Customer Object\n\n      const customerObj = {\n        \"fullname\": `${first_name_validated} ${last_name_validated}`,\n        \"email\": email_validated,\n        \"phone\": phoneNumber,\n        \"authorised_by\": customerInformation.agent.email\n      }; // Endpoint\n\n      const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=createContact'; // Fetch\n\n      await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(customerObj),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        console.log(response);\n        return response.json();\n      }).then(function (response) {\n        console.log(response);\n        return response;\n      }).catch(function (error) {\n        console.error(`Catch an error fetching to postcoder ${error}`);\n      }); // Hide Overlay\n\n      updateShowOverlay(false);\n    } // Update Customer details\n\n\n    updateCustomerInformation({ ...customerInformation,\n      customerDetails: { ...customerInformation.customerDetails,\n        first_name: first_name_validated,\n        last_name: last_name_validated,\n        email: email_validated,\n        phone: phoneNumber.replace(/[^0-9\\.]+/g, '')\n      },\n      bankDetails: {\n        account_holder: '',\n        account_number: '',\n        sort_code: ''\n      }\n    }); // Update Error\n\n    updateError(false); // Hide Form Customer details\n\n    updateShowFormDetails(false); // Update Progress Bar\n\n    updateProgressBar({ ...progressBar,\n      step: 9\n    }); // Show Bank Details\n\n    updateShowFormBankDetails(true);\n  }; // goToCompareSection\n\n\n  const goToCompareSection = e => {\n    e.preventDefault(); // Delete Switching details\n\n    const copy_customer_switching = { ...customerInformation\n    };\n    delete copy_customer_switching['switching_details'];\n    delete copy_customer_switching['customerDetails']; // Update customer information\n\n    updateCustomerInformation({ ...copy_customer_switching\n    }); // Update Error\n\n    updateError(false); // Hide Customer details\n\n    updateShowFormDetails(false); // Update Progress Bar\n\n    updateProgressBar({ ...progressBar,\n      step: 7\n    }); // Show compare section \n\n    updateShowFormCompare(true);\n  }; // UseEffect - conditional disable state\n\n\n  useEffect(() => {\n    if (!customerInformation.customerDetails.first_name || !customerInformation.customerDetails.last_name || !customerInformation.customerDetails.email || !customerInformation.customerDetails.phone) {\n      // Update disable input\n      updateDisableInput(false);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-details-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-details-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-details-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Customer Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum dicta libero tenetur commodi id? Eius aperiam illo voluptatem fuga nobis nulla vitae obcaecati. Rerum doloribus veniam accusamus ad quibusdam sequi!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-details-input-container\",\n            onSubmit: e => goToBankDetails(e),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-details-input-content-custom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-details-input-element-custom\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"firstName\",\n                  children: [\"First Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 74\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"firstName\",\n                  name: \"first_name\",\n                  onChange: handleChange,\n                  value: customerInformation.customerDetails.first_name.replace(/[^a-zA-Z ]/g, \"\") || '',\n                  disabled: disableInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-details-input-element-custom\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"lastName\",\n                  children: [\"Last Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 72\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"lastName\",\n                  name: \"last_name\",\n                  onChange: handleChange,\n                  value: customerInformation.customerDetails.last_name.replace(/[^a-zA-Z ]/g, \"\") || '',\n                  disabled: disableInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-details-input-element\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"emailAddress\",\n                children: [\"Email address\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 76\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"emailAddress\",\n                name: \"email\",\n                onChange: handleChange,\n                value: customerInformation.customerDetails.email.replace(/[^A-Za-z0-9|@.-]/g, \"\") || '',\n                disabled: disableInput,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-details-input-content-custom\",\n              style: error ? {\n                marginBottom: '1.9rem'\n              } : null,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-details-input-element-custom\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"phoneNumber\",\n                  children: [\"Phone Number\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 78\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"phoneNumber\",\n                  name: \"phone\",\n                  onChange: handleChange,\n                  value: customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g, '') || '',\n                  disabled: disableInput,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-details-btn-container-custom\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"form-details-btn-custom\",\n                    type: \"button\",\n                    disabled: disableInput,\n                    onClick: e => verifyCustomer(e),\n                    children: \"Verify\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"form-details-btn-custom\",\n                    type: \"button\",\n                    onClick: e => editCustomer(e),\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 29\n            }, this), error ?\n            /*#__PURE__*/\n            // <Error message={ errorEmail ? 'Please introduce a valid email address' : 'All fields are required, please check'} />\n            _jsxDEV(Error, {\n              message: errorMessage.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 37\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-details-btn-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-details-btn btn-back\",\n                onClick: e => goToCompareSection(e),\n                children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#D338AE',\n                    size: '35px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                    className: \"icon-back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 37\n                }, this), \"Go back\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                \"data-cy\": \"addrtyped-continue\",\n                className: \"form-details-btn btn-next\",\n                children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#FFF',\n                    size: '35px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                    className: \"icon-next\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-summary-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-summary-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Customer Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-summary-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Door number:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: doornumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Address line 1:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: addressline1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Address line 2:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: addressline2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"City:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Postcode:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: postcode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-summary-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"About your chosen plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-summary-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Plan name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: tariff_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Annual saving:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 61\n                  }, this), 148]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Early exit fee:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 61\n                  }, this), exit_fees]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Contract length:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: [24, \" months\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Monthly direct debit:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 61\n                  }, this), monthly_cost]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-summary-element\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Existing debt:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 40\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 61\n                  }, this), debt_apply ? debt_amount : 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(FormDetails, \"bDlli1X09SGHB0Ls0NBxiloVFfM=\");\n\n_c = FormDetails;\nexport default FormDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormDetails\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormDetails/FormDetails.jsx"],"names":["React","useState","useEffect","IconContext","IoMdArrowDropright","IoMdArrowDropleft","validateEmail","isValidPhoneNumber","parsePhoneNumber","Error","FormDetails","customerInformation","progressBar","updateCustomerInformation","updateShowFormCompare","updateShowFormDetails","updateShowFormBankDetails","updateProgressBar","updateShowOverlay","disableInput","updateDisableInput","window","scrollTo","top","behavior","error","updateError","errorMessage","setErrorMessage","message","doornumber","addressline1","addressline2","city","postcode","customerAddres","tariff_name","exit_fees","monthly_cost","switching_details","supplier_selected","debt_apply","debt_amount","debt","scroll_to","element","document","querySelector","scrollIntoView","block","inline","handleChange","e","customerDetails","target","name","value","verifyCustomer","preventDefault","phone","replace","trim","toString","fetch","method","body","JSON","stringify","headers","then","response","status","Promise","reject","json","console","log","first_name","last_name","email","bankDetails","account_holder","account_number","sort_code","catch","editCustomer","goToBankDetails","first_name_validated","last_name_validated","email_validated","phone_validated","length","parsedPhoneNumber","phoneNumber","number","customerObj","agent","url","step","goToCompareSection","copy_customer_switching","marginBottom","color","size"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// CSS\nimport \"./FormDetails.css\";\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropright, IoMdArrowDropleft } from 'react-icons/io';\n// Utils\nimport { validateEmail } from '../../../utils/utils';\n// Phone Number Validation\nimport { isValidPhoneNumber, parsePhoneNumber } from 'libphonenumber-js';\n// Components\nimport Error from '../../Error/Error';\n\nconst FormDetails = ({ customerInformation, progressBar, updateCustomerInformation, updateShowFormCompare, updateShowFormDetails, updateShowFormBankDetails, updateProgressBar, updateShowOverlay }) => {\n\n    /** STATES */\n    // disableInput\n    const [disableInput, updateDisableInput] = useState(true);\n\n    // Scroll to top\n    useEffect(() => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    }, []);\n\n    // Error State\n    const [error, updateError] = useState(false);\n    const [errorMessage, setErrorMessage] = useState({\n        message: ''\n    });\n\n    // Variables\n    const { doornumber, addressline1, addressline2, city, postcode } = customerInformation.customerAddres;\n    const { tariff_name, exit_fees, monthly_cost } = customerInformation.switching_details.supplier_selected;\n    const { debt_apply, debt_amount } = customerInformation.debt;\n\n    /** FUNCTIONS */\n\n    // Error smooth scroll\n    useEffect(() => {\n        if (error) {\n            const scroll_to = () => {\n                var element = document.querySelector(\"#error\");\n                // smooth scroll to element and align it at the bottom\n                element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n            }\n\n            scroll_to();\n        }\n    }, [error]);\n\n    // Function that runs every time the user writes to the input\n    const handleChange = (e) => {\n        // Hidde error\n        updateError(false);\n        // Update Customer details\n        updateCustomerInformation({\n            ...customerInformation,\n            customerDetails: {\n                ...customerInformation.customerDetails,\n                [e.target.name]: e.target.value\n            }\n        });\n    };\n\n    // Verify button\n    const verifyCustomer = async (e) => {\n        e.preventDefault();\n\n        // Show Overlay\n        updateShowOverlay(true);\n\n        let phone = { 'phone': customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g, '').trim().toString() };\n\n        await fetch('https://cors-anywhere.herokuapp.com/https://zohosdkfunction.azurewebsites.net/api/httptrigger1?method=verify', {\n            method: 'POST',\n            body: JSON.stringify(phone),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then(response => {\n            if (response.status !== 200) {\n                return Promise.reject(response.json());\n            }\n\n            return response.json();\n\n        }).then(response => {\n            console.log(response);\n            // Update Customer details\n            updateCustomerInformation({\n                ...customerInformation,\n                customerDetails: {\n                    ...customerInformation.customerDetails,\n                    first_name: response.first_name ? response.first_name : '',\n                    last_name: response.last_name ? response.last_name : '',\n                    email: response.email ? response.email : '',\n                    phone: response.phone ? response.phone : ''\n                },\n                bankDetails: {\n                    account_holder: '',\n                    account_number: '',\n                    sort_code: ''\n                }\n            });\n\n            // Disable input\n            updateDisableInput(true);\n\n        }).catch(error => {\n            console.error('Error: ', error);\n            // Update Customer details\n            updateCustomerInformation({\n                ...customerInformation,\n                customerDetails: {\n                    ...customerInformation.customerDetails,\n                    first_name: '',\n                    last_name: '',\n                    email: '',\n                    phone: phone.phone\n                },\n                bankDetails: {\n                    account_holder: '',\n                    account_number: '',\n                    sort_code: ''\n                }\n            });\n        });\n\n        // Hide Overlay\n        updateShowOverlay(false);\n    }\n\n    // Edit button\n    const editCustomer = (e) => {\n        e.preventDefault();\n\n        // Update disable input\n        updateDisableInput(false);\n    }\n\n    // goToBankDetails\n    const goToBankDetails = async (e) => {\n        e.preventDefault();\n\n        // Customer Details\n        const { first_name, last_name, email, phone } = customerInformation.customerDetails;\n        // Validated details\n        const first_name_validated = first_name.replace(/[^a-zA-Z ]/g, \"\").trim();\n        const last_name_validated = last_name.replace(/[^a-zA-Z ]/g, \"\").trim();\n        const email_validated = email.replace(/[^A-Za-z0-9|@.-]/g, \"\").trim();\n        const phone_validated = phone.replace(/[^0-9\\.]+/g, '').trim().toString();\n\n        // Validate email\n        if (!validateEmail(email_validated)) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'Please introduce a valid email address'\n            });\n            // Show error\n            updateError(true);\n            return;\n        };\n\n        // Validate phone number length\n        if (phone_validated.length <= 10 || phone_validated.length > 12) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'Please introduce a valid phone number'\n            });\n            // Show Error\n            updateError(true);\n            return;\n        };\n\n        // Phone number parsed\n        const parsedPhoneNumber = parsePhoneNumber(phone_validated, 'GB');\n        // Phone number\n        const phoneNumber = parsedPhoneNumber.number;\n\n        // Phone number validation\n        if (!isValidPhoneNumber(phoneNumber, 'GB')) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'Please introduce a valid phone number'\n            });\n            // Show Error\n            updateError(true);\n            return;\n        }\n\n        // Validation\n        if (!first_name_validated || !last_name_validated || !email_validated || !phone_validated) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'All fields are required'\n            });\n            // Show Error\n            updateError(true);\n            return;\n        };\n\n        if (!disableInput) {\n            // Show Overlay\n            updateShowOverlay(true);\n\n            // Customer Object\n            const customerObj = {\n                \"fullname\": `${first_name_validated} ${last_name_validated}`,\n                \"email\": email_validated,\n                \"phone\": phoneNumber,\n                \"authorised_by\": customerInformation.agent.email\n            }\n\n            // Endpoint\n            const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=createContact';\n            // Fetch\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(customerObj),\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n            }).then(function (response) {\n                console.log(response);\n                return response.json();\n\n            }).then(function (response) {\n                console.log(response);\n                return response;\n            }).catch(function (error) {\n                console.error(`Catch an error fetching to postcoder ${error}`);\n            });\n\n            // Hide Overlay\n            updateShowOverlay(false);\n        }\n\n        // Update Customer details\n        updateCustomerInformation({\n            ...customerInformation,\n            customerDetails: {\n                ...customerInformation.customerDetails,\n                first_name: first_name_validated,\n                last_name: last_name_validated,\n                email: email_validated,\n                phone: phoneNumber.replace(/[^0-9\\.]+/g, '')\n            },\n            bankDetails: {\n                account_holder: '',\n                account_number: '',\n                sort_code: ''\n            }\n        });\n\n        // Update Error\n        updateError(false);\n        // Hide Form Customer details\n        updateShowFormDetails(false);\n        // Update Progress Bar\n        updateProgressBar({ ...progressBar, step: 9 });\n        // Show Bank Details\n        updateShowFormBankDetails(true);\n    }\n\n    // goToCompareSection\n    const goToCompareSection = (e) => {\n        e.preventDefault();\n\n        // Delete Switching details\n        const copy_customer_switching = { ...customerInformation };\n        delete copy_customer_switching['switching_details'];\n        delete copy_customer_switching['customerDetails'];\n        // Update customer information\n        updateCustomerInformation({ ...copy_customer_switching });\n        // Update Error\n        updateError(false);\n        // Hide Customer details\n        updateShowFormDetails(false);\n        // Update Progress Bar\n        updateProgressBar({ ...progressBar, step: 7 });\n        // Show compare section \n        updateShowFormCompare(true);\n    }\n\n    // UseEffect - conditional disable state\n    useEffect(() => {\n        if ((!customerInformation.customerDetails.first_name) || (!customerInformation.customerDetails.last_name) || (!customerInformation.customerDetails.email) || (!customerInformation.customerDetails.phone)) {\n            // Update disable input\n            updateDisableInput(false)\n        }\n    }, []);\n\n    return (\n        <>\n            <section className=\"form-details-section\">\n                <div className=\"form-details-container\">\n\n                    {/* Content */}\n                    <div className=\"form-details-content\">\n                        <div className=\"form-details\">\n                            <h1>Customer Details</h1>\n                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum dicta libero tenetur commodi id? Eius aperiam illo voluptatem fuga nobis nulla vitae obcaecati. Rerum doloribus veniam accusamus ad quibusdam sequi!</p>\n                        </div>\n\n                        {/* Inputs */}\n                        <form className=\"form-details-input-container\" onSubmit={(e) => goToBankDetails(e)}>\n                            <div className=\"form-details-input-content-custom\">\n                                <div className=\"form-details-input-element-custom\">\n                                    <label htmlFor=\"firstName\">First Name<span>*</span></label>\n                                    <input type=\"text\" id=\"firstName\" name='first_name' onChange={handleChange} value={customerInformation.customerDetails.first_name.replace(/[^a-zA-Z ]/g, \"\") || ''} disabled={disableInput} />\n                                </div>\n\n                                <div className=\"form-details-input-element-custom\">\n                                    <label htmlFor=\"lastName\">Last Name<span>*</span></label>\n                                    <input type=\"text\" id=\"lastName\" name='last_name' onChange={handleChange} value={customerInformation.customerDetails.last_name.replace(/[^a-zA-Z ]/g, \"\") || ''} disabled={disableInput} />\n                                </div>\n                            </div>\n\n                            <div className=\"form-details-input-element\">\n                                <label htmlFor=\"emailAddress\">Email address<span>*</span></label>\n                                <input type=\"text\" id=\"emailAddress\" name='email' onChange={handleChange} value={customerInformation.customerDetails.email.replace(/[^A-Za-z0-9|@.-]/g, \"\") || ''} disabled={disableInput} required={true} />\n                            </div>\n\n                            <div className=\"form-details-input-content-custom\" style={error ? { marginBottom: '1.9rem' } : null} >\n                                <div className=\"form-details-input-element-custom\">\n                                    <label htmlFor=\"phoneNumber\">Phone Number<span>*</span></label>\n                                    <input type=\"text\" id=\"phoneNumber\" name='phone' onChange={handleChange} value={customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g, '') || ''} disabled={disableInput} required={true} />\n                                </div>\n\n                                {/* Verify and Edit buttons */}\n                                <div className=\"form-details-btn-container-custom\">\n                                    <div>\n                                        <button className=\"form-details-btn-custom\" type=\"button\" disabled={disableInput} onClick={(e) => verifyCustomer(e)}>Verify</button>\n                                        \n                                        <button className=\"form-details-btn-custom\" type=\"button\" onClick={(e) => editCustomer(e)}>Edit</button>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {error ?\n                                (\n                                    // <Error message={ errorEmail ? 'Please introduce a valid email address' : 'All fields are required, please check'} />\n                                    <Error message={errorMessage.message} />\n                                )\n                                :\n                                null\n                            }\n\n                            {/* Buttons */}\n                            <div className=\"form-details-btn-container\">\n                                <button className=\"form-details-btn btn-back\" onClick={(e) => goToCompareSection(e)}>\n                                    <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                                        <IoMdArrowDropleft className=\"icon-back\" />\n                                    </IconContext.Provider>\n                                    Go back\n                                </button>\n\n                                <button data-cy=\"addrtyped-continue\" className=\"form-details-btn btn-next\">\n                                    Continue\n\n                                    <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                                        <IoMdArrowDropright className=\"icon-next\" />\n                                    </IconContext.Provider>\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n\n                    {/* Summary */}\n                    <div className=\"form-summary-container\">\n                        <h1>Summary</h1>\n\n                        <div className=\"form-summary-section\">\n                            <h2>Customer Information</h2>\n\n                            <div className=\"form-summary-content\">\n                                <div className=\"form-summary-element\">\n                                    <p><span>Door number:</span></p>\n                                    <p className=\"text-end\">{doornumber}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Address line 1:</span></p>\n                                    <p className=\"text-end\">{addressline1}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Address line 2:</span></p>\n                                    <p className=\"text-end\">{addressline2}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>City:</span></p>\n                                    <p className=\"text-end\">{city}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Postcode:</span></p>\n                                    <p className=\"text-end\">{postcode}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <hr />\n\n                        <div className=\"form-summary-section\">\n                            <h2>About your chosen plan</h2>\n\n                            <div className=\"form-summary-content\">\n                                <div className=\"form-summary-element\">\n                                    <p><span>Plan name:</span></p>\n                                    <p className=\"text-end\">{tariff_name}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Annual saving:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{148}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Early exit fee:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{exit_fees}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Contract length:</span></p>\n                                    <p className=\"text-end\">{24} months</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Monthly direct debit:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{monthly_cost}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Existing debt:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{debt_apply ? debt_amount : 'N/A'}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n};\n\nexport default FormDetails;\n"]},"metadata":{},"sourceType":"module"}