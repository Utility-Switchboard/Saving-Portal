{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormCompare/FormCompare.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // Styles\n\nimport \"./FormCompare.css\"; // Firebase\n\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\"; // Data\n\nimport data_electricity_tariffs from '../../../utilities/data_tariffs/data_tariffs_es/data_electricity_tariffs';\nimport data_gas_tariffs from '../../../utilities/data_tariffs/data_tariff_gs/data_gas_tariffs';\nimport data_dual_tariffs from '../../../utilities/data_tariffs/data_tariff_dual/data_dual_tariffs'; // Swal\n\nimport swal from '@sweetalert/with-react'; // Phone Number Validation\n\nimport { parsePhoneNumber } from 'libphonenumber-js'; // Icons\n\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io'; // Components\n\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\nimport ReviewStars from '../../ReviewStars/ReviewStars';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormCompare({\n  customerInformation,\n  user,\n  electricityInformation,\n  gasInformation,\n  avgElec,\n  avgGas,\n  showScript,\n  progressBar,\n  updateCustomerInformation,\n  updateShowOverlay,\n  updateShowFormCompare,\n  updateShowFormUsageKWH,\n  updateShowFormUsageGBP_es,\n  updateShowFormUsageAVG,\n  updateShowFormUsageGAS,\n  updateShowFormUsageGBP_gs,\n  updateShowFormDetails,\n  updateShowFormDebt,\n  updateProgressBar\n}) {\n  _s();\n\n  /** STATES */\n  // Content Loaded state\n  const [contentLoaded, updateContentLoaded] = useState(false);\n  const [content, updateContent] = useState({});\n  const [array_to, update_array_to] = useState(5);\n  const [usage_expended, update_usage_expended] = useState({});\n  const [usage_expended_elec, update_usage_expended_elec] = useState({});\n  const [usage_expended_gas, update_usage_expended_gas] = useState({}); // Error State\n\n  const [error, updateError] = useState(false);\n  /** FUNCTIONS */\n\n  /**---- */\n  // Function to create a new array without the same supplier\n  // Sorted data\n  // const sorted_data = sorted_data_desc.filter(function (obj) {\n  //   return obj.supplier_code !== 'EDF';\n  // });\n\n  /**---- */\n  // Scroll to top\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // Error smooth scroll\n\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"center\"\n        });\n      };\n\n      scroll_to();\n    }\n  }, [error]); // Data\n\n  const elec_data = data_electricity_tariffs.tariffs;\n  const gas_data = data_gas_tariffs.tariffs;\n  const dual_data = data_dual_tariffs.tariffs;\n  /** Variables */\n  // same_supplier\n\n  const same_supplier = customerInformation.fuel_description.same_supplier; // dual_active\n\n  const dual_active = customerInformation.fuel_description.dual_active; // gas_only\n\n  const gas_only = customerInformation.fuel_description.gas_only; // elec_only\n\n  const elec_only = customerInformation.fuel_description.elec_only; // postcode_formatted\n\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase(); // doornumber_formatted\n\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase(); // uid\n\n  const uid = `${postcode_formatted}-${doornumber_formatted}`; // Show more button\n\n  let up_to = 0;\n\n  const load_more = e => {\n    e.preventDefault();\n\n    if (up_to === up_to) {\n      up_to = array_to + 5;\n      return update_array_to(up_to);\n    }\n  }; // Execute Overlay\n\n\n  useEffect(() => {\n    // Show Overlay\n    updateShowOverlay(true);\n  }, [FormCompare]); // Function to sort the JSON by property\n\n  const sortByProperty = property => {\n    return function (a, b) {\n      if (a[property] > b[property]) return 1;else if (a[property] < b[property]) return -1;\n      return 0;\n    };\n  }; // Information for elec_only\n\n\n  useEffect(() => {\n    // Elec_only\n    if (elec_only) {\n      // console.log('elec_only');\n      if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Period introduced\n\n        const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n        let usage_by_period = 0;\n\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = parseFloat(usage_kwh_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n        }\n\n        console.log(customerInformation.tariff_description);\n        console.log(usage_by_period); // Unit rate of tariff selected\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n        // const usage = ((usage_by_period * tariff_unit_rate) / 100);\n\n        const usage = usage_by_period * (tariff_unit_rate / 100); // Sorted data desc\n\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n        /**------ */\n        // Sorted data\n        // const sorted_data = sorted_data_desc.filter(function (obj) {\n        //   return obj.supplier_code !== 'EDF';\n        // });\n\n        /**------ */\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended; // Period introduced\n\n        const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n        let usage_by_period = 0;\n\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = parseFloat(usage_gbp_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n        } // Sorted data\n\n\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage_by_period\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n        // Usage introduced\n        const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended; // Unit rate of tariff selected\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n\n        const usage = usage_size_expended * tariff_unit_rate / 100; // Sorted data\n\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n    }\n  }, [elec_only]); // Information for gas_only\n\n  useEffect(() => {\n    // Gas_only\n    if (gas_only) {\n      // console.log('gas_only');\n      if (customerInformation.hasOwnProperty('usage_gas_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended; // Period introduced\n\n        const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period; // Usage by period\n\n        let usage_by_period = 0;\n\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = parseFloat(usage_kwh_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n        } // Unit rate of tariff selected\n\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n\n        const usage = usage_by_period * tariff_unit_rate / 100; // Sorted data\n\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended; // Period introduced\n\n        const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n        let usage_by_period = 0;\n\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = parseFloat(usage_gbp_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n        } // Sorted data\n\n\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage_by_period\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n        // Usage introduced\n        const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended); // Usage introduced for gas\n\n        let usage_size_expended_gas; // 1 bedroom\n\n        if (usage_size_expended === 1800) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 8000;\n        } // 2 to 3 bedrooms\n\n\n        if (usage_size_expended === 2900) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 12000;\n        } // 4+ bedrooms\n\n\n        if (usage_size_expended === 4300) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 17000;\n        } // Unit rate of tariff selected\n\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n\n        const usage = usage_size_expended_gas * tariff_unit_rate / 100; // Sorted data\n\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n    }\n  }, [gas_only]); // Information for dual_active\n\n  useEffect(() => {\n    // Dual active\n    if (dual_active) {\n      // Sorted data\n      const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n      // Add content\n\n      updateContent({ ...content,\n        sorted_data\n      });\n\n      if (same_supplier) {\n        // Sorted data\n        // console.log('Same supplier === true');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec; // console.log(tariff_unit_rate);\n          // Usage by period\n\n          const usage_elec = usage_by_period * tariff_unit_rate / 100; // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_elec\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // KWH - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas; // console.log(tariff_unit_rate);\n          // Usage by period\n\n          const usage_gas = usage_by_period * tariff_unit_rate / 100; // console.log(usage_gas);\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_gas\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- GBP SECTION */\n        // GBP - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // GBP - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended; // Unit rate of tariff selected\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec; // Usage by period\n\n          const usage = usage_size_expended * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY SIZE - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // console.log(usage_size_expended_gas);\n          // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas; // Usage by period\n\n          const usage = usage_size_expended_gas * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY_SIZE_DUAL\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // Unit rate of tariff selected elec\n\n\n          const tariff_unit_rate_elec = customerInformation.tariff_description.unit_rate_elec; // Unit rate of tariff selected gas\n\n          const tariff_unit_rate_gas = customerInformation.tariff_description.unit_rate_gas; // Usage by period\n\n          const usage_elec = usage_size_expended_elec * tariff_unit_rate_elec / 100;\n          const usage_gas = usage_size_expended_gas * tariff_unit_rate_gas / 100;\n          const usage = usage_elec + usage_gas; // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended({ ...usage_expended,\n            usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n      } else {\n        // console.log('Same supplier === false');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate; // Usage by period\n\n          const usage_elec = usage_by_period * tariff_unit_rate_elec / 100; // console.log(usage_elec);\n          // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_elec\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // KWH - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate; // Usage by period\n\n          const usage_gas = usage_by_period * tariff_unit_rate_gas / 100; // console.log(usage_gas);\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_gas\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- GBP SECTION */\n        // GBP - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // GBP - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended; // Unit rate of tariff selected\n\n          const tariff_unit_rate = customerInformation.tariff_description_elec.elec_tariff.unit_rate; // Usage by period\n\n          const usage = usage_size_expended * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY SIZE - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // console.log(usage_size_expended_gas);\n          // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description_gas.gas_tariff.unit_rate; // Usage by period\n\n          const usage = usage_size_expended_gas * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY_SIZE_DUAL\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // Unit rate of tariff selected elec\n\n\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate; // Unit rate of tariff selected gas\n\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate; // Usage by period\n\n          const usage_elec = usage_size_expended_elec * tariff_unit_rate_elec / 100;\n          const usage_gas = usage_size_expended_gas * tariff_unit_rate_gas / 100;\n          const usage = usage_elec + usage_gas; // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended({ ...usage_expended,\n            usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n      }\n    }\n  }, [dual_active]); // Sorted data\n\n  let sorted_data = content.sorted_data; // usage\n\n  let usage = usage_expended.usage; // const usage_gas\n\n  const usage_gas = usage_expended_gas.usage; // const usage_elec\n\n  const usage_elec = usage_expended_elec.usage;\n\n  if (dual_active) {\n    if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n      usage = usage_expended.usage;\n    } else {\n      usage = usage_elec + usage_gas;\n    }\n  } // console.log(usage);\n  // console.log(usage_elec);\n  // console.log(usage_gas);\n  // Tariff info button - function to show modal\n\n\n  const tariff_info = (e, data) => {\n    e.preventDefault();\n    swal({\n      className: 'swal-modal_custom',\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-compare-details-info-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-compare-details-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-info-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: data.supplier_img,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Tariff details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Supplier: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.supplier_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 963,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 963,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Plan name: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.tariff_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 967,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 967,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(ReviewStars, {\n                  stars: data.review_rating,\n                  customClass: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 971,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Early exit fee: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.exit_fees]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 975,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Estimated annual cost: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.annual_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 979,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 979,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 978,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Monthly direct debit: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.monthly_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 983,\n                    columnNumber: 44\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 983,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 982,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)\n    });\n  }; // choosePlan button\n\n\n  const choosePlan = (e, data) => {\n    e.preventDefault(); // Update Error\n\n    updateError(false); // ID of card selected\n\n    const card_id = e.target.id; // Selected card\n\n    const card_content = document.getElementById(card_id); // Add class active\n\n    card_content.classList.add('active-card'); // Add and remove class\n\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n    card_content.className = \"form-compare-card-content active-card\"; // Supplier selected\n\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id); // Switching details\n\n    const switching_details = {\n      supplier_selected\n    }; // Update customer information\n\n    updateCustomerInformation({ ...customerInformation,\n      switching_details\n    }); // SWAL\n\n    swal({\n      className: 'swal-modal_custom',\n      buttons: {\n        cancel: \"Go back\",\n        confirm: \"Choose plan\"\n      },\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-compare-details-info-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-compare-details-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-info-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: data.supplier_img,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1042,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-card-estimated-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-card-estimated\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Estimated cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"form-compare-card-estimated-amount\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1048,\n                    columnNumber: 69\n                  }, this), (usage - data.annual_cost).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1048,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"(\\xA3\", ((usage - data.annual_cost) / 12).toFixed(2), \" pm)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1049,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-card-btn-signup-container\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-card-btn-custom btn-signup\",\n                children: \"Choose plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Tariff details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1057,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Supplier: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.supplier_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1061,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1061,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Plan name: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.tariff_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1065,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1065,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(ReviewStars, {\n                  stars: data.review_rating,\n                  customClass: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1069,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Early exit fee: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.exit_fees]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1073,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1073,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1072,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Estimated annual cost: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.annual_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1077,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1076,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Monthly direct debit: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.monthly_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1081,\n                    columnNumber: 44\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1081,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1059,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1040,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)\n    }).then(async result => {\n      if (result !== true) {\n        return;\n      }\n\n      if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n        // Update Error\n        updateError(true);\n        return;\n      } //Show Overlay\n\n\n      updateShowOverlay(true); // Email agent\n      // const agentEmail = {\"email\": user.email};\n\n      const agentEmail = {\n        \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com'\n      }; // Endpoint\n\n      const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact'; // Fetch customer data\n\n      await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(agentEmail),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        return response.json();\n      }).then(response => {\n        // console.log(response);\n        // Update Customer informatin\n        updateCustomerInformation({ ...customerInformation,\n          agent: {\n            email: user.email\n          },\n          customerDetails: {\n            first_name: response.first_name ? response.first_name : '',\n            last_name: response.last_name ? response.last_name : '',\n            email: response.email ? response.email : '',\n            phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n          }\n        });\n        return response;\n      }).catch(error => {\n        // Error\n        console.error(`Catch an error fetching to postcoder ${error}`); // Update Customer informatin\n\n        updateCustomerInformation({ ...customerInformation,\n          agent: {\n            email: user.email\n          },\n          customerDetails: {\n            first_name: '',\n            last_name: '',\n            email: '',\n            phone: ''\n          }\n        });\n      }); // Hide Overlay\n\n      updateShowOverlay(false); // Update Error\n\n      updateError(false); // Hide Form Compare\n\n      updateShowFormCompare(false); // Update Progress Bar\n\n      updateProgressBar({ ...progressBar,\n        step: 8\n      }); // Show Details\n\n      updateShowFormDetails(true);\n      console.log('perra');\n    });\n  }; // cardSelected\n\n\n  const cardSelected = (e, id) => {\n    e.preventDefault(); // Update Error\n\n    updateError(false);\n    /**-- Adding active state to the card selected --*/\n    // ID of card selected\n\n    const card_id = id; // Selected card\n\n    const card_content = document.getElementById(card_id); // Add class active\n\n    card_content.classList.add('active-card'); // Add and remove class\n\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n    card_content.className = \"form-compare-card-content active-card\"; // Supplier selected\n\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id); // Switching details\n\n    const switching_details = {\n      supplier_selected\n    }; // Update customer information\n\n    updateCustomerInformation({ ...customerInformation,\n      switching_details\n    });\n  }; // Adding initial customer data to firebase (Coming from Supply cc)\n\n\n  useEffect(() => {\n    /**-- Firebase --*/\n    (async () => {\n      const {\n        customerAddres,\n        useGas,\n        fuel,\n        fuel_description,\n        supplierInformation,\n        electricityPaymentType,\n        gasPaymentType,\n        economy7,\n        tariff_description,\n        tariff_description_elec,\n        tariff_description_gas,\n        usage_property_size_dual,\n        usage_property_size_es,\n        usage_property_size_gs,\n        usage_gas_description,\n        usage_gbp_description_gs,\n        usage_kwh_description,\n        usage_gbp_description_es,\n        debt\n      } = customerInformation;\n      console.log('Aqui aqui');\n      console.log(debt); // elec_only || gas_only\n\n      if (elec_only || gas_only) {\n        db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 6,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          },\n          tariff_description,\n          // AVG\n          usage_property_size_dual: {\n            usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n          },\n          usage_property_size_es: {\n            usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false\n          },\n          usage_property_size_gs: {\n            usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n          },\n          // GAS\n          usage_gas_description: {\n            usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n          },\n          usage_gbp_description_gs: {\n            usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n          },\n          // Elec\n          usage_kwh_description: {\n            usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n          },\n          usage_gbp_description_es: {\n            usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n          },\n          // AVG ELEC\n          avgElec: avgElec,\n          // AVG Gas\n          avgGas: avgGas,\n          debt\n        });\n      } // dual_active\n\n\n      if (dual_active) {\n        // same_supplier\n        if (same_supplier) {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 6,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        } else {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 6,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description_elec,\n            tariff_description_gas,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        }\n      }\n    })();\n  }, [FormCompare]); // goToCustomerDetails\n\n  const goToCustomerDetails = async e => {\n    e.preventDefault();\n\n    if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n      // Update Error\n      updateError(true);\n      return;\n    } //Show Overlay\n\n\n    updateShowOverlay(true); // Email agent\n    // const agentEmail = {\"email\": user.email};\n\n    const agentEmail = {\n      \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com'\n    }; // Endpoint\n\n    const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact'; // Fetch customer data\n\n    await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(agentEmail),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(response => {\n      // console.log(response);\n      // Update Customer informatin\n      updateCustomerInformation({ ...customerInformation,\n        agent: {\n          email: user.email\n        },\n        customerDetails: {\n          first_name: response.first_name ? response.first_name : '',\n          last_name: response.last_name ? response.last_name : '',\n          email: response.email ? response.email : '',\n          phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n        }\n      });\n      return response;\n    }).catch(error => {\n      // Error\n      console.error(`Catch an error fetching to postcoder ${error}`); // Update Customer informatin\n\n      updateCustomerInformation({ ...customerInformation,\n        agent: {\n          email: user.email\n        },\n        customerDetails: {\n          first_name: '',\n          last_name: '',\n          email: '',\n          phone: ''\n        }\n      });\n    }); // Hide Overlay\n\n    updateShowOverlay(false); // Update Error\n\n    updateError(false); // Hide Form Compare\n\n    updateShowFormCompare(false); // Update Progress Bar\n\n    updateProgressBar({ ...progressBar,\n      step: 8\n    }); // Show Details\n\n    updateShowFormDetails(true);\n  }; // Go Back\n\n\n  const goBack = e => {\n    e.preventDefault(); // Update Error\n\n    updateError(false); // Hide Form Compare\n\n    updateShowFormCompare(false); // Delete Customer Usage\n\n    const copy_customer_usage = { ...customerInformation\n    };\n    delete copy_customer_usage['debt']; // Update customer information\n\n    updateCustomerInformation({ ...copy_customer_usage\n    }); // Show Form Debt\n\n    updateShowFormDebt(true); // Update Progress Bar\n\n    updateProgressBar({ ...progressBar,\n      step: 6\n    });\n  }; // Filterby\n\n\n  const filterBy = e => {\n    let target = e.target.value;\n    console.log(sorted_data);\n\n    if (target === 'monthly_cost') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"monthly_cost\"))\n      });\n    }\n\n    ;\n\n    if (target === 'exit_fees') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"exit_fees\"))\n      });\n    }\n\n    ;\n\n    if (target === 'review_rating') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"review_rating\")).reverse()\n      });\n    }\n\n    ;\n\n    if (target === 'supplier_code') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"supplier_code\"))\n      });\n    }\n\n    ;\n  };\n\n  useEffect(() => {\n    console.log('object');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: contentLoaded ? /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-compare-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-compare-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-compare-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1676,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Thank you for answering my questions, I can see that if you switch to the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT TARIFF NAME*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1677,\n                  columnNumber: 98\n                }, this), \" with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT PROVIDER* \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1677,\n                  columnNumber: 141\n                }, this), \" you will save \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT SAVINGS*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1677,\n                  columnNumber: 191\n                }, this), \" per year! So it will be only \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT PROJECTED MONTHLY PRICE*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1677,\n                  columnNumber: 254\n                }, this), \" per month. This tariff also comes with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT TARIFF BENEFIT*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1677,\n                  columnNumber: 343\n                }, this), \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1677,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1675,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filterBy-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"filterPlan\",\n                children: \"Filter By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1681,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"plan\",\n                id: \"filterPlan\",\n                onChange: e => filterBy(e),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2015\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1684,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"saving\",\n                  children: \"Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1685,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"renewal\",\n                  children: \"Renewal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1686,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly_cost\",\n                  children: \"Monthly cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1687,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"exit_fees\",\n                  children: \"Exit fees\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1688,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"review_rating\",\n                  children: \"Reviews\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1689,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"supplier_code\",\n                  children: \"Supplier\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1690,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1683,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1680,\n              columnNumber: 19\n            }, this), sorted_data.slice(0, array_to).map(data => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-card-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-compare-card-content\",\n                  id: data.tariff_id,\n                  onClick: e => cardSelected(e, data.tariff_id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-card-column\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-compare-card-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-supplier\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-compare-card-image\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: data.supplier_img\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1702,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1701,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-compare-card-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                            children: data.tariff_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1706,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(ReviewStars, {\n                            stars: data.review_rating\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1707,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1705,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1700,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1699,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                      className: \"hr-custom\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1712,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-compare-card-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-fees\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Exit fees\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1716,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [\"\\xA3\", data.exit_fees]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1717,\n                            columnNumber: 36\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1717,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1715,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-fixed\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Fixed period\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1721,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [data.fixed_period, \" months\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1722,\n                            columnNumber: 36\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1722,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1720,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-cost\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Monthly cost\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1726,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [\"\\xA3\", data.monthly_cost]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1727,\n                            columnNumber: 36\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1727,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1725,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1714,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1698,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-card-column\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-compare-card-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-btn-container\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"form-compare-card-btn btn-signup\",\n                          type: \"submit\",\n                          id: data.tariff_id,\n                          onClick: e => choosePlan(e, data),\n                          children: \"Choose plan\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1735,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"form-compare-card-btn btn-tariff\",\n                          onClick: e => {\n                            tariff_info(e, data);\n                          },\n                          children: \"Tariff info\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1736,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-compare-card-btn-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Savings\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1738,\n                              columnNumber: 38\n                            }, this), \" - \\xA3\", (usage - data.annual_cost).toFixed(2), \" now\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1738,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: \"or \\xA3231 at renewal\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1739,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1737,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1734,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1733,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1732,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1697,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1696,\n                columnNumber: 23\n              }, this)\n            }, data.tariff_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1695,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-loadmore-btn-container\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-loadmore-btn\",\n                onClick: e => load_more(e),\n                children: \"Show more results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1750,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1749,\n              columnNumber: 19\n            }, this), error === true ? /*#__PURE__*/_jsxDEV(Error, {\n              message: 'Please selected a tariff to sign up'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1754,\n              columnNumber: 37\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-btn-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-btn btn-back\",\n                onClick: e => goBack(e),\n                children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#D338AE',\n                    size: '35px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                    className: \"icon-back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1760,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1759,\n                  columnNumber: 23\n                }, this), \"Go back\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1758,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-btn btn-next\",\n                onClick: e => goToCustomerDetails(e),\n                children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#FFF',\n                    size: '35px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                    className: \"icon-next\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1769,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1768,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1765,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1757,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1674,\n            columnNumber: 17\n          }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"helper-compare\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"script-compare\",\n              children: /*#__PURE__*/_jsxDEV(FormScript, {\n                step: 8\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1779,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1778,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assistant-compare-custom\",\n              children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n                tips: 7\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1783,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1782,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1777,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assistant-compare\",\n              children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n                tips: 7\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1790,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1789,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1788,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1673,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1672,\n        columnNumber: 13\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1669,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormCompare, \"zdCgTsEPBYh6TDSbBmk5xniTyM8=\");\n\n_c = FormCompare;\nexport default FormCompare;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCompare\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormCompare/FormCompare.jsx"],"names":["React","useState","useEffect","db","firebase","data_electricity_tariffs","data_gas_tariffs","data_dual_tariffs","swal","parsePhoneNumber","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FormScript","FormAssistant","Error","ReviewStars","FormCompare","customerInformation","user","electricityInformation","gasInformation","avgElec","avgGas","showScript","progressBar","updateCustomerInformation","updateShowOverlay","updateShowFormCompare","updateShowFormUsageKWH","updateShowFormUsageGBP_es","updateShowFormUsageAVG","updateShowFormUsageGAS","updateShowFormUsageGBP_gs","updateShowFormDetails","updateShowFormDebt","updateProgressBar","contentLoaded","updateContentLoaded","content","updateContent","array_to","update_array_to","usage_expended","update_usage_expended","usage_expended_elec","update_usage_expended_elec","usage_expended_gas","update_usage_expended_gas","error","updateError","window","scrollTo","top","behavior","scroll_to","element","document","querySelector","scrollIntoView","block","inline","elec_data","tariffs","gas_data","dual_data","same_supplier","fuel_description","dual_active","gas_only","elec_only","postcode_formatted","customerAddres","postcode","replace","trim","toLowerCase","doornumber_formatted","doornumber","uid","up_to","load_more","e","preventDefault","sortByProperty","property","a","b","hasOwnProperty","usage_kwh_expended","usage_kwh_description","usage_kwh_period","usage_by_period","parseFloat","Math","round","console","log","tariff_description","tariff_unit_rate","unit_rate","usage","sorted_data","sort","usage_gbp_expended","usage_gbp_description_es","usage_gbp_period","usage_size_expended","usage_property_size_es","usage_gas_description","usage_gbp_description_gs","usage_property_size_gs","usage_size_expended_gas","unit_rate_elec","usage_elec","unit_rate_gas","usage_gas","usage_size_expended_elec","usage_property_size_dual","tariff_unit_rate_elec","tariff_unit_rate_gas","tariff_description_elec","elec_tariff","tariff_description_gas","gas_tariff","tariff_info","data","className","supplier_img","supplier_name","tariff_name","review_rating","exit_fees","annual_cost","monthly_cost","choosePlan","card_id","target","id","card_content","getElementById","classList","add","active_class","querySelectorAll","forEach","call","el","remove","supplier_selected","find","tariff_id","switching_details","buttons","cancel","confirm","toFixed","then","result","agentEmail","url","fetch","method","body","JSON","stringify","headers","response","json","agent","email","customerDetails","first_name","last_name","phone","number","catch","step","cardSelected","useGas","fuel","supplierInformation","electricityPaymentType","gasPaymentType","economy7","debt","collection","doc","set","created","firestore","FieldValue","serverTimestamp","addressline1","addressline2","city","mpan","MPANDetails","mpan_core","mprn","dataGas","meter_type","supplier_mpid","company_name","current_supplier_id","meter_mechanism_code","gas_apply","dual_fuel_apply","electricity_supplier","gas_supplier","electricity_payment_type_id","electricity_payment_type_method","gas_payment_type_id","gas_payment_type_method","economy7_apply","economy7_split","usage_size_entered","usage_kwh_entered","usage_gbp_entered","goToCustomerDetails","goBack","copy_customer_usage","filterBy","value","reverse","slice","map","fixed_period","color","size","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// Styles\nimport \"./FormCompare.css\";\n// Firebase\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\";\n// Data\nimport data_electricity_tariffs from '../../../utilities/data_tariffs/data_tariffs_es/data_electricity_tariffs';\nimport data_gas_tariffs from '../../../utilities/data_tariffs/data_tariff_gs/data_gas_tariffs';\nimport data_dual_tariffs from '../../../utilities/data_tariffs/data_tariff_dual/data_dual_tariffs';\n// Swal\nimport swal from '@sweetalert/with-react';\n// Phone Number Validation\nimport { parsePhoneNumber } from 'libphonenumber-js';\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\nimport ReviewStars from '../../ReviewStars/ReviewStars';\n\nfunction FormCompare({ customerInformation, user, electricityInformation, gasInformation, avgElec, avgGas, showScript, progressBar, updateCustomerInformation, updateShowOverlay, updateShowFormCompare, updateShowFormUsageKWH, updateShowFormUsageGBP_es, updateShowFormUsageAVG, updateShowFormUsageGAS, updateShowFormUsageGBP_gs, updateShowFormDetails, updateShowFormDebt, updateProgressBar }) {\n  /** STATES */\n  // Content Loaded state\n  const [contentLoaded, updateContentLoaded] = useState(false);\n  const [content, updateContent] = useState({});\n  const [array_to, update_array_to] = useState(5);\n  const [usage_expended, update_usage_expended] = useState({});\n  const [usage_expended_elec, update_usage_expended_elec] = useState({});\n  const [usage_expended_gas, update_usage_expended_gas] = useState({});\n\n  // Error State\n  const [error, updateError] = useState(false);\n\n  /** FUNCTIONS */\n\n  /**---- */\n  // Function to create a new array without the same supplier\n  // Sorted data\n  // const sorted_data = sorted_data_desc.filter(function (obj) {\n  //   return obj.supplier_code !== 'EDF';\n  // });\n  /**---- */\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"center\" });\n      }\n\n      scroll_to()\n    }\n  }, [error]);\n\n  // Data\n  const elec_data = data_electricity_tariffs.tariffs;\n  const gas_data = data_gas_tariffs.tariffs;\n  const dual_data = data_dual_tariffs.tariffs;\n\n  /** Variables */\n  // same_supplier\n  const same_supplier = customerInformation.fuel_description.same_supplier;\n  // dual_active\n  const dual_active = customerInformation.fuel_description.dual_active;\n  // gas_only\n  const gas_only = customerInformation.fuel_description.gas_only;\n  // elec_only\n  const elec_only = customerInformation.fuel_description.elec_only;\n  // postcode_formatted\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase();\n  // doornumber_formatted\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n  // uid\n  const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n  // Show more button\n  let up_to = 0;\n  const load_more = (e) => {\n    e.preventDefault();\n    if (up_to === up_to) {\n      up_to = array_to + 5;\n      return update_array_to(up_to);\n    }\n  }\n\n  // Execute Overlay\n  useEffect(() => {\n    // Show Overlay\n    updateShowOverlay(true);\n  }, [FormCompare]);\n\n  // Function to sort the JSON by property\n  const sortByProperty = (property) => {\n    return function (a, b) {\n      if (a[property] > b[property])\n        return 1;\n      else if (a[property] < b[property])\n        return -1;\n\n      return 0;\n    }\n  }\n\n  // Information for elec_only\n  useEffect(() => {\n    // Elec_only\n    if (elec_only) {\n      // console.log('elec_only');\n      if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n        // Period introduced\n        const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n\n        let usage_by_period = 0;\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n        }\n\n        console.log(customerInformation.tariff_description);  \n        console.log(usage_by_period);\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        // const usage = ((usage_by_period * tariff_unit_rate) / 100);\n        const usage = (usage_by_period  * ((tariff_unit_rate) / 100));\n\n        // Sorted data desc\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n        /**------ */\n        // Sorted data\n        // const sorted_data = sorted_data_desc.filter(function (obj) {\n        //   return obj.supplier_code !== 'EDF';\n        // });\n        /**------ */\n\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n        // Period introduced\n        const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n        let usage_by_period = 0;\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n        }\n\n        // Sorted data\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage_by_period\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n        // Usage introduced\n        const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n    }\n  }, [elec_only]);\n\n  // Information for gas_only\n  useEffect(() => {\n    // Gas_only\n    if (gas_only) {\n      // console.log('gas_only');\n      if (customerInformation.hasOwnProperty('usage_gas_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n        // Period introduced\n        const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n        // Usage by period\n        let usage_by_period = 0;\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n        }\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_by_period * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n        // Period introduced\n        const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n        let usage_by_period = 0;\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n        }\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage_by_period\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n        // Usage introduced\n        const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n\n        // Usage introduced for gas\n        let usage_size_expended_gas;\n\n        // 1 bedroom\n        if (usage_size_expended === 1800) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 8000;\n        }\n\n        // 2 to 3 bedrooms\n        if (usage_size_expended === 2900) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 12000;\n        }\n\n        // 4+ bedrooms\n        if (usage_size_expended === 4300) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 17000;\n        }\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n    }\n  }, [gas_only]);\n\n  // Information for dual_active\n  useEffect(() => {\n    // Dual active\n    if (dual_active) {\n\n      // Sorted data\n      const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n      // Add content\n      updateContent({\n        ...content,\n        sorted_data\n      });\n\n      if (same_supplier) {\n        // Sorted data\n        // console.log('Same supplier === true');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec;\n          // console.log(tariff_unit_rate);\n          // Usage by period\n          const usage_elec = ((usage_by_period * tariff_unit_rate) / 100);\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_elec\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // KWH - GAS\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas;\n          // console.log(tariff_unit_rate);\n          // Usage by period\n          const usage_gas = ((usage_by_period * tariff_unit_rate) / 100);\n\n          // console.log(usage_gas);\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_gas\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- GBP SECTION */\n        // GBP - ELEC\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // GBP - GAS\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec;\n          // Usage by period\n          const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY SIZE - GAS\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // console.log(usage_size_expended_gas);\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas;\n          // Usage by period\n          const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY_SIZE_DUAL\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // Unit rate of tariff selected elec\n          const tariff_unit_rate_elec = customerInformation.tariff_description.unit_rate_elec;\n          // Unit rate of tariff selected gas\n          const tariff_unit_rate_gas = customerInformation.tariff_description.unit_rate_gas;\n\n          // Usage by period\n          const usage_elec = ((usage_size_expended_elec * tariff_unit_rate_elec) / 100);\n          const usage_gas = ((usage_size_expended_gas * tariff_unit_rate_gas) / 100);\n\n          const usage = usage_elec + usage_gas;\n\n          // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended({\n            ...usage_expended,\n            usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n      } else {\n        // console.log('Same supplier === false');\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Usage by period\n          const usage_elec = ((usage_by_period * tariff_unit_rate_elec) / 100);\n\n          // console.log(usage_elec);\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_elec\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // KWH - GAS\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n          // Usage by period\n          const usage_gas = ((usage_by_period * tariff_unit_rate_gas) / 100);\n\n          // console.log(usage_gas);\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_gas\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- GBP SECTION */\n        // GBP - ELEC\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // GBP - GAS\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Usage by period\n          const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY SIZE - GAS\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // console.log(usage_size_expended_gas);\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n          // Usage by period\n          const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY_SIZE_DUAL\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // Unit rate of tariff selected elec\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Unit rate of tariff selected gas\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n\n          // Usage by period\n          const usage_elec = ((usage_size_expended_elec * tariff_unit_rate_elec) / 100);\n          const usage_gas = ((usage_size_expended_gas * tariff_unit_rate_gas) / 100);\n\n          const usage = usage_elec + usage_gas;\n\n          // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended({\n            ...usage_expended,\n            usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n      }\n    }\n  }, [dual_active]);\n\n  // Sorted data\n  let sorted_data = content.sorted_data;\n\n  // usage\n  let usage = usage_expended.usage;\n\n  // const usage_gas\n  const usage_gas = usage_expended_gas.usage;\n\n  // const usage_elec\n  const usage_elec = usage_expended_elec.usage;\n\n  if ((dual_active)) {\n    if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n      usage = usage_expended.usage;\n    } else {\n      usage = (usage_elec + usage_gas);\n    }\n  }\n\n  // console.log(usage);\n  // console.log(usage_elec);\n  // console.log(usage_gas);\n\n  // Tariff info button - function to show modal\n  const tariff_info = (e, data) => {\n    e.preventDefault();\n\n    swal({\n      className: 'swal-modal_custom',\n      content: (\n        <>\n          <div className=\"form-compare-details-info-container\">\n            <div className=\"form-compare-details-info\">\n              <div className=\"form-compare-details-info-img\">\n                <img src={data.supplier_img} alt=\"\" />\n              </div>\n\n              <h3>Tariff details</h3>\n\n              <div className=\"form-compare-details-container\">\n                <div className=\"form-compare-single-details\">\n                  <p>Supplier: <span>{data.supplier_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Plan name: <span>{data.tariff_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <ReviewStars stars={data.review_rating} customClass={true} />\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Early exit fee: <span>£{data.exit_fees}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Estimated annual cost: <span>£{data.annual_cost}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Monthly direct debit: <span>£{data.monthly_cost}</span></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )\n    });\n  };\n\n  // choosePlan button\n  const choosePlan = (e, data) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n\n    // ID of card selected\n    const card_id = e.target.id;\n    // Selected card\n    const card_content = document.getElementById(card_id);\n\n    // Add class active\n    card_content.classList.add('active-card');\n\n    // Add and remove class\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    card_content.className = \"form-compare-card-content active-card\";\n\n    // Supplier selected\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id);\n\n    // Switching details\n    const switching_details = {\n      supplier_selected\n    };\n\n    // Update customer information\n    updateCustomerInformation({\n      ...customerInformation,\n      switching_details\n    });\n\n    // SWAL\n    swal({\n      className: 'swal-modal_custom',\n      buttons: {\n        cancel: \"Go back\",\n        confirm: \"Choose plan\"\n      },\n      content: (\n        <>\n          <div className=\"form-compare-details-info-container\">\n            <div className=\"form-compare-details-info\">\n              <div className=\"form-compare-details-info-img\">\n                <img src={data.supplier_img} alt=\"\" />\n              </div>\n\n              <div className=\"form-compare-card-estimated-container\">\n                <div className=\"form-compare-card-estimated\">\n                  <p>Estimated cost</p>\n                  <p className=\"form-compare-card-estimated-amount\"><span>£</span>{(usage - data.annual_cost).toFixed(2)}</p>\n                  <p>(£{((usage - data.annual_cost) / 12).toFixed(2)} pm)</p>\n                </div>\n              </div>\n\n              <div className=\"form-compare-card-btn-signup-container\">\n                <button className=\"form-compare-card-btn-custom btn-signup\">Choose plan</button>\n              </div>\n\n              <h3>Tariff details</h3>\n\n              <div className=\"form-compare-details-container\">\n                <div className=\"form-compare-single-details\">\n                  <p>Supplier: <span>{data.supplier_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Plan name: <span>{data.tariff_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <ReviewStars stars={data.review_rating} customClass={true} />\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Early exit fee: <span>£{data.exit_fees}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Estimated annual cost: <span>£{data.annual_cost}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Monthly direct debit: <span>£{data.monthly_cost}</span></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )\n    }).then(async (result) => {\n      if (result !== true) {\n        return;\n      }\n\n      if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n        // Update Error\n        updateError(true);\n        return;\n      }\n\n      //Show Overlay\n      updateShowOverlay(true);\n\n      // Email agent\n      // const agentEmail = {\"email\": user.email};\n      const agentEmail = { \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com' };\n\n      // Endpoint\n      const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';\n      // Fetch customer data\n      await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(agentEmail),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n      }).then((response) => {\n        return response.json();\n      }).then((response) => {\n        // console.log(response);\n        // Update Customer informatin\n        updateCustomerInformation({\n          ...customerInformation,\n          agent: { email: user.email },\n          customerDetails: {\n            first_name: response.first_name ? response.first_name : '',\n            last_name: response.last_name ? response.last_name : '',\n            email: response.email ? response.email : '',\n            phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n          }\n        });\n\n        return response;\n      }).catch((error) => {\n        // Error\n        console.error(`Catch an error fetching to postcoder ${error}`);\n        // Update Customer informatin\n        updateCustomerInformation({\n          ...customerInformation,\n          agent: { email: user.email },\n          customerDetails: {\n            first_name: '',\n            last_name: '',\n            email: '',\n            phone: ''\n          }\n        });\n      });\n\n      // Hide Overlay\n      updateShowOverlay(false);\n      // Update Error\n      updateError(false);\n      // Hide Form Compare\n      updateShowFormCompare(false);\n      // Update Progress Bar\n      updateProgressBar({ ...progressBar, step: 8 });\n      // Show Details\n      updateShowFormDetails(true);\n\n      console.log('perra');\n    });\n  };\n\n  // cardSelected\n  const cardSelected = (e, id) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n\n    /**-- Adding active state to the card selected --*/\n    // ID of card selected\n    const card_id = id;\n    // Selected card\n    const card_content = document.getElementById(card_id);\n\n    // Add class active\n    card_content.classList.add('active-card');\n\n    // Add and remove class\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    card_content.className = \"form-compare-card-content active-card\";\n\n    // Supplier selected\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id);\n\n    // Switching details\n    const switching_details = {\n      supplier_selected\n    }\n\n    // Update customer information\n    updateCustomerInformation({\n      ...customerInformation,\n      switching_details\n    });\n\n  };\n\n  // Adding initial customer data to firebase (Coming from Supply cc)\n  useEffect(() => {\n    /**-- Firebase --*/\n    (async () => {\n      const { customerAddres, useGas, fuel, fuel_description, supplierInformation, electricityPaymentType, gasPaymentType, economy7, tariff_description, tariff_description_elec, tariff_description_gas, usage_property_size_dual, usage_property_size_es, usage_property_size_gs, usage_gas_description, usage_gbp_description_gs, usage_kwh_description, usage_gbp_description_es, debt } = customerInformation;\n\n      console.log('Aqui aqui');\n      console.log(debt);\n\n      // elec_only || gas_only\n      if (elec_only || gas_only) {\n        db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 6,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          },\n          tariff_description,\n          // AVG\n          usage_property_size_dual: {\n            usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n          },\n          usage_property_size_es: {\n            usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n          },\n          usage_property_size_gs: {\n            usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n          },\n          // GAS\n          usage_gas_description: {\n            usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n          },\n          usage_gbp_description_gs: {\n            usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n          },\n          // Elec\n          usage_kwh_description: {\n            usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n          },\n          usage_gbp_description_es: {\n            usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n          },\n          // AVG ELEC\n          avgElec: avgElec,\n          // AVG Gas\n          avgGas: avgGas,\n          debt\n        });\n      }\n\n      // dual_active\n      if (dual_active) {\n        // same_supplier\n        if (same_supplier) {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 6,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        } else {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 6,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description_elec,\n            tariff_description_gas,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        }\n      }\n    })();\n\n  }, [FormCompare]);\n\n  // goToCustomerDetails\n  const goToCustomerDetails = async (e) => {\n    e.preventDefault();\n\n    if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n      // Update Error\n      updateError(true);\n      return;\n    }\n\n    //Show Overlay\n    updateShowOverlay(true);\n\n    // Email agent\n    // const agentEmail = {\"email\": user.email};\n    const agentEmail = { \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com' };\n\n    // Endpoint\n    const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';\n    // Fetch customer data\n    await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(agentEmail),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    }).then((response) => {\n      return response.json();\n    }).then((response) => {\n      // console.log(response);\n      // Update Customer informatin\n      updateCustomerInformation({\n        ...customerInformation,\n        agent: { email: user.email },\n        customerDetails: {\n          first_name: response.first_name ? response.first_name : '',\n          last_name: response.last_name ? response.last_name : '',\n          email: response.email ? response.email : '',\n          phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n        }\n      });\n\n      return response;\n    }).catch((error) => {\n      // Error\n      console.error(`Catch an error fetching to postcoder ${error}`);\n      // Update Customer informatin\n      updateCustomerInformation({\n        ...customerInformation,\n        agent: { email: user.email },\n        customerDetails: {\n          first_name: '',\n          last_name: '',\n          email: '',\n          phone: ''\n        }\n      });\n    });\n\n    // Hide Overlay\n    updateShowOverlay(false);\n    // Update Error\n    updateError(false);\n    // Hide Form Compare\n    updateShowFormCompare(false);\n    // Update Progress Bar\n    updateProgressBar({ ...progressBar, step: 8 });\n    // Show Details\n    updateShowFormDetails(true);\n  }\n\n  // Go Back\n  const goBack = (e) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n    // Hide Form Compare\n    updateShowFormCompare(false);\n    // Delete Customer Usage\n    const copy_customer_usage = { ...customerInformation };\n    delete copy_customer_usage['debt'];\n    // Update customer information\n    updateCustomerInformation({ ...copy_customer_usage });\n    // Show Form Debt\n    updateShowFormDebt(true)\n    // Update Progress Bar\n    updateProgressBar({ ...progressBar, step: 6 });\n  }\n\n  // Filterby\n  const filterBy = (e) => {\n    let target = e.target.value;\n\n    console.log(sorted_data);\n\n    if (target === 'monthly_cost') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"monthly_cost\"))\n      });\n    };\n\n    if (target === 'exit_fees') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"exit_fees\"))\n      });\n    };\n\n    if (target === 'review_rating') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"review_rating\")).reverse()\n      });\n    };\n\n    if (target === 'supplier_code') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"supplier_code\"))\n      });\n    };\n  }\n\n  useEffect(() => {\n    console.log('object');\n  }, [])\n\n  return (\n    <>\n      <form>\n        {contentLoaded ?\n          (\n            <section className=\"form-compare-section\">\n              <div className=\"form-compare-container\">\n                <div className=\"form-compare-content\">\n                  <div className=\"form-compare\">\n                    <h1>Results</h1>\n                    <p>Thank you for answering my questions, I can see that if you switch to the <strong>*INSERT TARIFF NAME*</strong> with <strong>*INSERT PROVIDER* </strong> you will save <strong>*INSERT SAVINGS*</strong> per year! So it will be only <strong>*INSERT PROJECTED MONTHLY PRICE*</strong> per month. This tariff also comes with <strong>*INSERT TARIFF BENEFIT*</strong>.</p>\n                  </div>\n\n                  <div className=\"filterBy-container\">\n                    <label htmlFor=\"filterPlan\">Filter By</label>\n\n                    <select name=\"plan\" id=\"filterPlan\" onChange={(e) => filterBy(e)}>\n                      <option value=\"\">―</option>\n                      <option value=\"saving\">Savings</option>\n                      <option value=\"renewal\">Renewal</option>\n                      <option value=\"monthly_cost\">Monthly cost</option>\n                      <option value=\"exit_fees\">Exit fees</option>\n                      <option value=\"review_rating\">Reviews</option>\n                      <option value=\"supplier_code\">Supplier</option>\n                    </select>\n                  </div>\n\n                  {sorted_data.slice(0, array_to).map((data) => (\n                    <div key={data.tariff_id}>\n                      <div className=\"form-compare-card-container\">\n                        <div className=\"form-compare-card-content\" id={data.tariff_id} onClick={(e) => cardSelected(e, data.tariff_id)}>\n                          <div className=\"form-compare-card-column\">\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-supplier\">\n                                <div className=\"form-compare-card-image\">\n                                  <img src={data.supplier_img} />\n                                </div>\n\n                                <div className=\"form-compare-card-info\">\n                                  <h2>{data.tariff_name}</h2>\n                                  <ReviewStars stars={data.review_rating} />\n                                </div>\n                              </div>\n                            </div>\n\n                            <hr className=\"hr-custom\" />\n\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-fees\">\n                                <p>Exit fees</p>\n                                <p><span>£{data.exit_fees}</span></p>\n                              </div>\n\n                              <div className=\"form-compare-card-fixed\">\n                                <p>Fixed period</p>\n                                <p><span>{data.fixed_period} months</span></p>\n                              </div>\n\n                              <div className=\"form-compare-card-cost\">\n                                <p>Monthly cost</p>\n                                <p><span>£{data.monthly_cost}</span></p>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"form-compare-card-column\">\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-btn-container\">\n                                <button className=\"form-compare-card-btn btn-signup\" type=\"submit\" id={data.tariff_id} onClick={(e) => choosePlan(e, data)}>Choose plan</button>\n                                <button type=\"button\" className=\"form-compare-card-btn btn-tariff\" onClick={(e) => { tariff_info(e, data) }}>Tariff info</button>\n                                <div className=\"form-compare-card-btn-info\">\n                                  <p><span>Savings</span> - £{(usage - data.annual_cost).toFixed(2)} now</p>\n                                  <p>or £231 at renewal</p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n\n                  <div className=\"form-compare-loadmore-btn-container\">\n                    <button className=\"form-compare-loadmore-btn\" onClick={(e) => load_more(e)}>Show more results</button>\n                  </div>\n\n                  {/* Error */}\n                  {error === true ? <Error message={'Please selected a tariff to sign up'} /> : null}\n\n                  {/* Buttons */}\n                  <div className=\"form-compare-btn-container\">\n                    <button className=\"form-compare-btn btn-back\" onClick={(e) => goBack(e)}>\n                      <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                        <IoMdArrowDropleft className=\"icon-back\" />\n                      </IconContext.Provider>\n                      Go back\n                    </button>\n\n                    <button className=\"form-compare-btn btn-next\" onClick={(e) => goToCustomerDetails(e)}>\n                      Continue\n\n                      <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                        <IoMdArrowDropright className=\"icon-next\" />\n                      </IconContext.Provider>\n                    </button>\n                  </div>\n                </div>\n\n                {showScript ?\n                  (\n                    <div className=\"helper-compare\">\n                      <div className=\"script-compare\">\n                        <FormScript step={8} />\n                      </div>\n\n                      <div className=\"assistant-compare-custom\">\n                        <FormAssistant tips={7} />\n                      </div>\n                    </div>\n                  )\n                  :\n                  <div style={{ width: '100%' }}>\n                    <div className=\"assistant-compare\">\n                      <FormAssistant tips={7} />\n                    </div>\n                  </div>\n                }\n              </div>\n            </section>\n          )\n          :\n          null\n        }\n      </form>\n    </>\n  );\n}\n\nexport default FormCompare;\n"]},"metadata":{},"sourceType":"module"}