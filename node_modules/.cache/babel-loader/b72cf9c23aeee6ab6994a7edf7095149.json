{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormCompare/FormCompare.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // Styles\n\nimport \"./FormCompare.css\"; // Firebase\n\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\"; // Data\n\nimport data_electricity_tariffs from '../../../utilities/data_tariffs/data_tariffs_es/data_electricity_tariffs';\nimport data_gas_tariffs from '../../../utilities/data_tariffs/data_tariff_gs/data_gas_tariffs';\nimport data_dual_tariffs from '../../../utilities/data_tariffs/data_tariff_dual/data_dual_tariffs'; // Swal\n\nimport swal from '@sweetalert/with-react'; // Phone Number Validation\n\nimport { parsePhoneNumber } from 'libphonenumber-js'; // Icons\n\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io'; // Components\n\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\nimport ReviewStars from '../../ReviewStars/ReviewStars';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormCompare({\n  customerInformation,\n  user,\n  electricityInformation,\n  gasInformation,\n  avgElec,\n  avgGas,\n  showScript,\n  progressBar,\n  updateCustomerInformation,\n  updateShowOverlay,\n  updateShowFormCompare,\n  updateShowFormUsageKWH,\n  updateShowFormUsageGBP_es,\n  updateShowFormUsageAVG,\n  updateShowFormUsageGAS,\n  updateShowFormUsageGBP_gs,\n  updateShowFormDetails,\n  updateShowFormDebt,\n  updateProgressBar\n}) {\n  _s();\n\n  /** STATES */\n  // Content Loaded state\n  const [contentLoaded, updateContentLoaded] = useState(false);\n  const [content, updateContent] = useState({});\n  const [array_to, update_array_to] = useState(3);\n  const [bestMatch, setBestMatch] = useState({});\n  const [usage_expended, update_usage_expended] = useState({});\n  const [usage_expended_elec, update_usage_expended_elec] = useState({});\n  const [usage_expended_gas, update_usage_expended_gas] = useState({}); // Error State\n\n  const [error, updateError] = useState(false);\n  /** FUNCTIONS */\n\n  /**---- */\n  // Function to create a new array without the same supplier\n  // Sorted data\n  // const sorted_data = sorted_data_desc.filter(function (obj) {\n  //   return obj.supplier_code !== 'EDF';\n  // });\n\n  /**---- */\n  // Scroll to top\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // Error smooth scroll\n\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\"); // smooth scroll to element and align it at the bottom\n\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"center\"\n        });\n      };\n\n      scroll_to();\n    }\n  }, [error]); // Data\n\n  const elec_data = data_electricity_tariffs.tariffs;\n  const gas_data = data_gas_tariffs.tariffs;\n  const dual_data = data_dual_tariffs.tariffs;\n  /** Variables */\n  // same_supplier\n\n  const same_supplier = customerInformation.fuel_description.same_supplier; // dual_active\n\n  const dual_active = customerInformation.fuel_description.dual_active; // gas_only\n\n  const gas_only = customerInformation.fuel_description.gas_only; // elec_only\n\n  const elec_only = customerInformation.fuel_description.elec_only; // postcode_formatted\n\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase(); // doornumber_formatted\n\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase(); // uid\n\n  const uid = `${postcode_formatted}-${doornumber_formatted}`; // Show more button\n\n  let up_to = 0;\n\n  const load_more = e => {\n    e.preventDefault();\n\n    if (up_to === up_to) {\n      up_to = array_to + 3;\n      return update_array_to(up_to);\n    }\n  }; // Execute Overlay\n\n\n  useEffect(() => {\n    // Show Overlay\n    updateShowOverlay(true);\n  }, [FormCompare]); // Function to sort the JSON by property\n\n  const sortByProperty = property => {\n    return function (a, b) {\n      if (a[property] > b[property]) return 1;else if (a[property] < b[property]) return -1;\n      return 0;\n    };\n  }; // Information for elec_only\n\n\n  useEffect(() => {\n    // Elec_only\n    if (elec_only) {\n      // console.log('elec_only');\n      if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Period introduced\n\n        const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n        let usage_by_period = 0;\n\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = parseFloat(usage_kwh_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n        } // console.log(customerInformation.tariff_description);\n        // console.log(usage_by_period);\n        // Unit rate of tariff selected\n\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n        // const usage = ((usage_by_period * tariff_unit_rate) / 100);\n\n        const usage = usage_by_period * (tariff_unit_rate / 100); // Sorted data desc\n\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n        /**------ */\n        // Sorted data\n        // const sorted_data = sorted_data_desc.filter(function (obj) {\n        //   return obj.supplier_code !== 'EDF';\n        // });\n\n        /**------ */\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended; // Period introduced\n\n        const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n        let usage_by_period = 0;\n\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = parseFloat(usage_gbp_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n        } // Sorted data\n\n\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage_by_period\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n        // Usage introduced\n        const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended; // Unit rate of tariff selected\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n\n        const usage = usage_size_expended * tariff_unit_rate / 100;\n        console.log(usage_size_expended);\n        console.log(tariff_unit_rate);\n        console.log(usage / 12); // Sorted data\n\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n    }\n  }, [elec_only]); // Information for gas_only\n\n  useEffect(() => {\n    // Gas_only\n    if (gas_only) {\n      // console.log('gas_only');\n      if (customerInformation.hasOwnProperty('usage_gas_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended; // Period introduced\n\n        const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period; // Usage by period\n\n        let usage_by_period = 0;\n\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = parseFloat(usage_kwh_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n        } // Unit rate of tariff selected\n\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n\n        const usage = usage_by_period * tariff_unit_rate / 100; // Sorted data\n\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended; // Period introduced\n\n        const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n        let usage_by_period = 0;\n\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = parseFloat(usage_gbp_expended) * 1;\n        } else {\n          usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n        } // Sorted data\n\n\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage_by_period\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n        // Usage introduced\n        const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended); // Usage introduced for gas\n\n        let usage_size_expended_gas; // 1 bedroom\n\n        if (usage_size_expended === 1800) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 8000;\n        } // 2 to 3 bedrooms\n\n\n        if (usage_size_expended === 2900) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 12000;\n        } // 4+ bedrooms\n\n\n        if (usage_size_expended === 4300) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 17000;\n        } // Unit rate of tariff selected\n\n\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate; // Usage by period\n\n        const usage = usage_size_expended_gas * tariff_unit_rate / 100; // Sorted data\n\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n\n        updateContent({ ...content,\n          sorted_data\n        }); // Update state\n\n        update_usage_expended({ ...usage_expended,\n          usage: usage\n        }); // Show content;\n\n        updateContentLoaded(true); // Hidde Overlay\n\n        updateShowOverlay(false);\n      }\n    }\n  }, [gas_only]); // Information for dual_active\n\n  useEffect(() => {\n    // Dual active\n    if (dual_active) {\n      // Sorted data\n      const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n      // Add content\n\n      updateContent({ ...content,\n        sorted_data\n      });\n\n      if (same_supplier) {\n        // Sorted data\n        // console.log('Same supplier === true');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec; // console.log(tariff_unit_rate);\n          // Usage by period\n\n          const usage_elec = usage_by_period * tariff_unit_rate / 100; // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_elec\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // KWH - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas; // console.log(tariff_unit_rate);\n          // Usage by period\n\n          const usage_gas = usage_by_period * tariff_unit_rate / 100; // console.log(usage_gas);\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_gas\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- GBP SECTION */\n        // GBP - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // GBP - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended; // Unit rate of tariff selected\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec; // Usage by period\n\n          const usage = usage_size_expended * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY SIZE - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // console.log(usage_size_expended_gas);\n          // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas; // Usage by period\n\n          const usage = usage_size_expended_gas * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY_SIZE_DUAL\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // Unit rate of tariff selected elec\n\n\n          const tariff_unit_rate_elec = customerInformation.tariff_description.unit_rate_elec; // Unit rate of tariff selected gas\n\n          const tariff_unit_rate_gas = customerInformation.tariff_description.unit_rate_gas; // Usage by period\n\n          const usage_elec = usage_size_expended_elec * tariff_unit_rate_elec / 100;\n          const usage_gas = usage_size_expended_gas * tariff_unit_rate_gas / 100;\n          const usage = usage_elec + usage_gas; // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended({ ...usage_expended,\n            usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n      } else {\n        // console.log('Same supplier === false');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate; // Usage by period\n\n          const usage_elec = usage_by_period * tariff_unit_rate_elec / 100; // console.log(usage_elec);\n          // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_elec\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // KWH - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended; // Period introduced\n\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = parseFloat(usage_kwh_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_kwh_expended) * 12);\n          } // Unit rate of tariff selected\n\n\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate; // Usage by period\n\n          const usage_gas = usage_by_period * tariff_unit_rate_gas / 100; // console.log(usage_gas);\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_gas\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- GBP SECTION */\n        // GBP - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // GBP - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended; // Period introduced\n\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = parseFloat(usage_gbp_expended) * 1;\n          } else {\n            usage_by_period = Math.round(parseFloat(usage_gbp_expended) * 12);\n          } // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage_by_period\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended; // Unit rate of tariff selected\n\n          const tariff_unit_rate = customerInformation.tariff_description_elec.elec_tariff.unit_rate; // Usage by period\n\n          const usage = usage_size_expended * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_elec({ ...usage_expended_elec,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY SIZE - GAS\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // console.log(usage_size_expended_gas);\n          // Unit rate of tariff selected\n\n\n          const tariff_unit_rate = customerInformation.tariff_description_gas.gas_tariff.unit_rate; // Usage by period\n\n          const usage = usage_size_expended_gas * tariff_unit_rate / 100; // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended_gas({ ...usage_expended_gas,\n            usage: usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        } // PROPERTY_SIZE_DUAL\n\n\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended); // Usage introduced for gas\n\n          let usage_size_expended_gas; // 1 bedroom\n\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          } // 2 to 3 bedrooms\n\n\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          } // 4+ bedrooms\n\n\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          } // Unit rate of tariff selected elec\n\n\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate; // Unit rate of tariff selected gas\n\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate; // Usage by period\n\n          const usage_elec = usage_size_expended_elec * tariff_unit_rate_elec / 100;\n          const usage_gas = usage_size_expended_gas * tariff_unit_rate_gas / 100;\n          const usage = usage_elec + usage_gas; // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n          // Update state\n\n          update_usage_expended({ ...usage_expended,\n            usage\n          }); // Show content;\n\n          updateContentLoaded(true); // Hidde Overlay\n\n          updateShowOverlay(false);\n        }\n      }\n    }\n  }, [dual_active]); // Sorted data\n\n  let sorted_data = content.sorted_data; // usage\n\n  let usage = usage_expended.usage; // const usage_gas\n\n  const usage_gas = usage_expended_gas.usage; // const usage_elec\n\n  const usage_elec = usage_expended_elec.usage;\n\n  if (dual_active) {\n    if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n      usage = usage_expended.usage;\n    } else {\n      usage = usage_elec + usage_gas;\n    }\n  } // console.log(usage);\n  // console.log(usage_elec);\n  // console.log(usage_gas);\n  // Tariff info button - function to show modal\n\n\n  const tariff_info = (e, data) => {\n    e.preventDefault();\n    swal({\n      className: 'swal-modal_custom',\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-compare-details-info-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-compare-details-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-info-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: data.supplier_img,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Tariff details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Supplier: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.supplier_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 968,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 968,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 967,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Plan name: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.tariff_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 972,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 972,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(ReviewStars, {\n                  stars: data.review_rating,\n                  customClass: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 976,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Early exit fee: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.exit_fees]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 979,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Estimated annual cost: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.annual_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 984,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 984,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 983,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Monthly direct debit: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.monthly_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 988,\n                    columnNumber: 44\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 988,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 987,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 958,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)\n    });\n  }; // choosePlan button\n\n\n  const choosePlan = async (e, data) => {\n    e.preventDefault(); // Update Error\n\n    updateError(false); // ID of card selected\n\n    const card_id = e.target.id; // Selected card\n\n    const card_content = document.getElementById(card_id); // Add class active\n\n    card_content.classList.add('active-card'); // Add and remove class\n\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    if (card_id === sorted_data[0].tariff_id) {\n      card_content.className = \"form-compare-card-content active-card bestMatch-card\";\n    } else {\n      card_content.className = \"form-compare-card-content active-card\";\n    } // SWAL\n\n\n    await swal({\n      className: 'swal-modal_address',\n      buttons: {\n        cancel: \"Go back\",\n        confirm: \"Choose plan\"\n      },\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-compare-details-info-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-compare-details-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-info-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: data.supplier_img,\n                alt: \"Energy provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-card-estimated-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-card-estimated\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Estimated cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1041,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"form-compare-card-estimated-amount\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1042,\n                    columnNumber: 69\n                  }, this), (usage - data.annual_cost).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1042,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"(\\xA3\", ((usage - data.annual_cost) / 12).toFixed(2), \" pm)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1043,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Tariff details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1051,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-details-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Supplier: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.supplier_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1055,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1055,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Plan name: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: data.tariff_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1059,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1059,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1058,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(ReviewStars, {\n                  stars: data.review_rating,\n                  customClass: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1063,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1062,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Early exit fee: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.exit_fees]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1067,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1067,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1066,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Estimated annual cost: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.annual_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1071,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1071,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1070,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-single-details\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Monthly direct debit: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xA3\", data.monthly_cost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1075,\n                    columnNumber: 44\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1075,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)\n    }).then(async result => {\n      if (result !== true) {\n        // Hide Overlay\n        updateShowOverlay(false);\n        return;\n      }\n\n      ; //Show Overlay\n\n      updateShowOverlay(true); // Supplier selected\n\n      const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id); // Switching details\n\n      const switching_details = {\n        supplier_selected\n      }; // Updating best match content\n\n      const {\n        tariff_name,\n        supplier_name\n      } = supplier_selected;\n      setBestMatch({ ...bestMatch,\n        tariff_name,\n        supplier_name\n      }); // Email agent\n\n      const agentEmail = {\n        \"email\": user.email\n      }; // Endpoint\n\n      const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact'; // Fetch customer data\n\n      await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(agentEmail),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status !== 200) {\n          return Promise.reject(response.json());\n        }\n\n        return response.json();\n      }).then(response => {\n        // console.log(response);\n        // Update Customer informatin\n        updateCustomerInformation({ ...customerInformation,\n          agent: {\n            email: user.email\n          },\n          customerDetails: {\n            first_name: response.first_name ? response.first_name : '',\n            last_name: response.last_name ? response.last_name : '',\n            email: response.email ? response.email : '',\n            phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n          },\n          switching_details\n        }); // Hide Overlay\n\n        updateShowOverlay(false); // Update Error\n\n        updateError(false); // Hide Form Compare\n\n        updateShowFormCompare(false); // Update Progress Bar\n\n        updateProgressBar({ ...progressBar,\n          step: 8\n        }); // Show Details\n\n        updateShowFormDetails(true);\n        return response;\n      }).catch(error => {\n        // Error\n        console.error(`Catch an error fetching to postcoder ${error}`); // Update Customer informatin\n\n        updateCustomerInformation({ ...customerInformation,\n          agent: {\n            email: user.email\n          },\n          customerDetails: {\n            first_name: '',\n            last_name: '',\n            email: '',\n            phone: ''\n          },\n          switching_details\n        }); // Hide Overlay\n\n        updateShowOverlay(false); // Update Error\n\n        updateError(false); // Hide Form Compare\n\n        updateShowFormCompare(false); // Update Progress Bar\n\n        updateProgressBar({ ...progressBar,\n          step: 8\n        }); // Show Details\n\n        updateShowFormDetails(true);\n      });\n    });\n  }; // cardSelected\n\n\n  const cardSelected = (e, id) => {\n    e.preventDefault(); // Update Error\n\n    updateError(false);\n    /**-- Adding active state to the card selected --*/\n    // ID of card selected\n\n    const card_id = id; // Selected card\n\n    const card_content = document.getElementById(card_id); // Add class active\n\n    card_content.classList.add('active-card'); // Add and remove class\n\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    if (card_id === sorted_data[0].tariff_id) {\n      card_content.className = \"form-compare-card-content active-card bestMatch-card\";\n    } else {\n      card_content.className = \"form-compare-card-content active-card\";\n    } // Supplier selected\n\n\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id); // Switching details\n\n    const switching_details = {\n      supplier_selected\n    }; // Update customer information\n\n    updateCustomerInformation({ ...customerInformation,\n      switching_details\n    }); // Updating best match content\n\n    const {\n      tariff_name,\n      supplier_name\n    } = supplier_selected;\n    setBestMatch({ ...bestMatch,\n      tariff_name,\n      supplier_name\n    });\n  }; // Adding initial customer data to firebase (Coming from Supply cc)\n\n\n  useEffect(() => {\n    /**-- Firebase --*/\n    (async () => {\n      const {\n        customerAddres,\n        useGas,\n        fuel,\n        fuel_description,\n        supplierInformation,\n        electricityPaymentType,\n        gasPaymentType,\n        economy7,\n        tariff_description,\n        tariff_description_elec,\n        tariff_description_gas,\n        usage_property_size_dual,\n        usage_property_size_es,\n        usage_property_size_gs,\n        usage_gas_description,\n        usage_gbp_description_gs,\n        usage_kwh_description,\n        usage_gbp_description_es,\n        debt\n      } = customerInformation; // elec_only || gas_only\n\n      if (elec_only || gas_only) {\n        db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 7,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          },\n          tariff_description,\n          // AVG\n          usage_property_size_dual: {\n            usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n          },\n          usage_property_size_es: {\n            usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false\n          },\n          usage_property_size_gs: {\n            usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n          },\n          // GAS\n          usage_gas_description: {\n            usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n          },\n          usage_gbp_description_gs: {\n            usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n          },\n          // Elec\n          usage_kwh_description: {\n            usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n          },\n          usage_gbp_description_es: {\n            usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n          },\n          // AVG ELEC\n          avgElec: avgElec,\n          // AVG Gas\n          avgGas: avgGas,\n          debt\n        });\n      } // dual_active\n\n\n      if (dual_active) {\n        // same_supplier\n        if (same_supplier) {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 7,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        } else {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 7,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description_elec,\n            tariff_description_gas,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        }\n      }\n    })();\n  }, [FormCompare]); // goToCustomerDetails\n\n  const goToCustomerDetails = async e => {\n    e.preventDefault();\n\n    if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n      // Update Error\n      updateError(true);\n      return;\n    } //Show Overlay\n\n\n    updateShowOverlay(true); // Email agent\n\n    const agentEmail = {\n      \"email\": user.email\n    }; // Endpoint\n\n    const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact'; // Fetch customer data\n\n    await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(agentEmail),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(response => {\n      // console.log(response);\n      // Update Customer informatin\n      updateCustomerInformation({ ...customerInformation,\n        agent: {\n          email: user.email\n        },\n        customerDetails: {\n          first_name: response.first_name ? response.first_name : '',\n          last_name: response.last_name ? response.last_name : '',\n          email: response.email ? response.email : '',\n          phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n        }\n      });\n      return response;\n    }).catch(error => {\n      // Error\n      console.error(`Catch an error fetching to postcoder ${error}`); // Update Customer informatin\n\n      updateCustomerInformation({ ...customerInformation,\n        agent: {\n          email: user.email\n        },\n        customerDetails: {\n          first_name: '',\n          last_name: '',\n          email: '',\n          phone: ''\n        }\n      });\n    }); // Hide Overlay\n\n    updateShowOverlay(false); // Update Error\n\n    updateError(false); // Hide Form Compare\n\n    updateShowFormCompare(false); // Update Progress Bar\n\n    updateProgressBar({ ...progressBar,\n      step: 9\n    }); // Show Details\n\n    updateShowFormDetails(true);\n  }; // Go Back\n\n\n  const goBack = e => {\n    e.preventDefault(); // Update Error\n\n    updateError(false); // Hide Form Compare\n\n    updateShowFormCompare(false); // Delete Customer Usage\n\n    const copy_customer_usage = { ...customerInformation\n    };\n    delete copy_customer_usage['debt'];\n    delete copy_customer_usage['switching_details'];\n    delete copy_customer_usage['customerDetails']; // Update customer information\n\n    updateCustomerInformation({ ...copy_customer_usage\n    }); // Show Form Debt\n\n    updateShowFormDebt(true); // Update Progress Bar\n\n    updateProgressBar({ ...progressBar,\n      step: 7\n    });\n  }; // Filterby\n\n\n  const filterBy = e => {\n    let target = e.target.value; // Hide error\n\n    updateError(false);\n\n    if (target === 'monthly_cost') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"monthly_cost\"))\n      });\n    }\n\n    ;\n\n    if (target === 'exit_fees') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"exit_fees\"))\n      });\n    }\n\n    ;\n\n    if (target === 'review_rating') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"review_rating\")).reverse()\n      });\n    }\n\n    ;\n\n    if (target === 'supplier_code') {\n      updateContent({ ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"supplier_code\"))\n      });\n    }\n\n    ; // Delete Customer Usage\n\n    const copy_customer_usage = { ...customerInformation\n    };\n    delete copy_customer_usage['switching_details']; // Update customer information\n\n    updateCustomerInformation({ ...copy_customer_usage\n    });\n    let activeCard_el = document.getElementsByClassName('active-card');\n\n    if (activeCard_el.length > 0) {\n      let activeCard_id = activeCard_el[0].id;\n      let activeCard = document.getElementById(activeCard_id);\n      activeCard.classList.remove('active-card');\n    }\n  }; // Use Effect to select the best tariff (Monthly cost) in the first render\n\n\n  useEffect(() => {\n    if (content.hasOwnProperty('sorted_data')) {\n      // Select best match\n      let bestMatch = content.sorted_data[0]; // Best match id\n\n      let bestMatch_id = bestMatch.tariff_id; // Add active card to best match\n\n      document.getElementById(bestMatch_id).classList.add('bestMatch-card'); // Box deal Best Match\n\n      let bestMatchBox = document.getElementById(`best_match${bestMatch_id}`);\n      let select = document.getElementById('filterPlan');\n      var selectedText = select.options[select.selectedIndex].text; // Adding text\n\n      bestMatchBox.innerText = `Best match - By ${selectedText.toLowerCase()}`;\n      bestMatchBox.style.padding = '.5rem 1rem';\n      const {\n        tariff_name,\n        supplier_name\n      } = bestMatch;\n      setBestMatch({ ...bestMatch,\n        tariff_name,\n        supplier_name\n      });\n    }\n  }, [content]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: contentLoaded ? /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-compare-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-compare-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-compare-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1747,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Thank you for answering my questions, I can see that if you switch to the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: bestMatch.tariff_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 98\n                }, this), \" with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: bestMatch.supplier_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 144\n                }, this), \" you will save \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT SAVINGS*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 201\n                }, this), \" per year! So it will be only \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"\\xA3\", bestMatch.monthly_cost]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 264\n                }, this), \" per month. This tariff also comes with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"*INSERT TARIFF BENEFIT*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 346\n                }, this), \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1748,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1746,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filterBy-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"filterPlan\",\n                children: \"Filter By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1752,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"plan\",\n                id: \"filterPlan\",\n                defaultValue: \"monthly_cost\",\n                onChange: e => filterBy(e),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2015\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1755,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"saving\",\n                  children: \"Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1756,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"renewal\",\n                  children: \"Renewal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1757,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly_cost\",\n                  children: \"Monthly cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1758,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"exit_fees\",\n                  children: \"Exit fees\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1759,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"review_rating\",\n                  children: \"Reviews\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1760,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"supplier_code\",\n                  children: \"Supplier\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1761,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1754,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1751,\n              columnNumber: 19\n            }, this), sorted_data.slice(0, array_to).map(data => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sticky\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: `best_match${data.tariff_id}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1767,\n                  columnNumber: 47\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1767,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-compare-card-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-compare-card-content\",\n                  id: data.tariff_id,\n                  onClick: e => cardSelected(e, data.tariff_id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-card-column\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-compare-card-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-supplier\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-compare-card-image\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: data.supplier_img\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1774,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1773,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-compare-card-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                            children: data.tariff_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1778,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(ReviewStars, {\n                            stars: data.review_rating\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1779,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1777,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1772,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1771,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                      className: \"hr-custom\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1784,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-compare-card-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-fees\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Exit fees\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1788,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [\"\\xA3\", data.exit_fees]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1789,\n                            columnNumber: 36\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1789,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1787,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-fixed\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Fixed period\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1793,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [data.fixed_period, \" months\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1794,\n                            columnNumber: 36\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1794,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1792,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-cost\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Monthly cost\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1798,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [\"\\xA3\", data.monthly_cost]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1799,\n                            columnNumber: 36\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1799,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1797,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1786,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1770,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-compare-card-column\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-compare-card-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-compare-card-btn-container\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"form-compare-card-btn btn-signup\",\n                          type: \"submit\",\n                          id: data.tariff_id,\n                          onClick: e => choosePlan(e, data),\n                          children: \"Choose plan\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1807,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"form-compare-card-btn btn-tariff\",\n                          onClick: e => {\n                            tariff_info(e, data);\n                          },\n                          children: \"Tariff info\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1808,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-compare-card-btn-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Savings\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1810,\n                              columnNumber: 38\n                            }, this), \" - \\xA3\", Math.signn((usage - data.annual_cost).toFixed(2)), \" now\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1810,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: \"or \\xA3231 at renewal\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1811,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1809,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1806,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1805,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1804,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1769,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1768,\n                columnNumber: 23\n              }, this)]\n            }, data.tariff_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1766,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-loadmore-btn-container\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-loadmore-btn\",\n                onClick: e => load_more(e),\n                children: \"Show more results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1822,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1821,\n              columnNumber: 19\n            }, this), error === true ? /*#__PURE__*/_jsxDEV(Error, {\n              message: 'Please selected a tariff to sign up'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1826,\n              columnNumber: 37\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-compare-btn-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-btn btn-back\",\n                onClick: e => goBack(e),\n                children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#D338AE',\n                    size: '35px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                    className: \"icon-back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1832,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1831,\n                  columnNumber: 23\n                }, this), \"Go back\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1830,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-compare-btn btn-next\",\n                onClick: e => goToCustomerDetails(e),\n                children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                  value: {\n                    color: '#FFF',\n                    size: '35px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                    className: \"icon-next\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1841,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1840,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1837,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1829,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1745,\n            columnNumber: 17\n          }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"helper-compare\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"script-compare\",\n              children: /*#__PURE__*/_jsxDEV(FormScript, {\n                step: 9\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1851,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1850,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assistant-compare-custom\",\n              children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n                tips: 9\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1855,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1854,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1849,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assistant-compare\",\n              children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n                tips: 9\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1862,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1861,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1860,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1744,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1743,\n        columnNumber: 13\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1740,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormCompare, \"mUPyCihag+yi2DsFlJcXZVEUYs8=\");\n\n_c = FormCompare;\nexport default FormCompare;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCompare\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormCompare/FormCompare.jsx"],"names":["React","useState","useEffect","db","firebase","data_electricity_tariffs","data_gas_tariffs","data_dual_tariffs","swal","parsePhoneNumber","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FormScript","FormAssistant","Error","ReviewStars","FormCompare","customerInformation","user","electricityInformation","gasInformation","avgElec","avgGas","showScript","progressBar","updateCustomerInformation","updateShowOverlay","updateShowFormCompare","updateShowFormUsageKWH","updateShowFormUsageGBP_es","updateShowFormUsageAVG","updateShowFormUsageGAS","updateShowFormUsageGBP_gs","updateShowFormDetails","updateShowFormDebt","updateProgressBar","contentLoaded","updateContentLoaded","content","updateContent","array_to","update_array_to","bestMatch","setBestMatch","usage_expended","update_usage_expended","usage_expended_elec","update_usage_expended_elec","usage_expended_gas","update_usage_expended_gas","error","updateError","window","scrollTo","top","behavior","scroll_to","element","document","querySelector","scrollIntoView","block","inline","elec_data","tariffs","gas_data","dual_data","same_supplier","fuel_description","dual_active","gas_only","elec_only","postcode_formatted","customerAddres","postcode","replace","trim","toLowerCase","doornumber_formatted","doornumber","uid","up_to","load_more","e","preventDefault","sortByProperty","property","a","b","hasOwnProperty","usage_kwh_expended","usage_kwh_description","usage_kwh_period","usage_by_period","parseFloat","Math","round","tariff_unit_rate","tariff_description","unit_rate","usage","sorted_data","sort","usage_gbp_expended","usage_gbp_description_es","usage_gbp_period","usage_size_expended","usage_property_size_es","console","log","usage_gas_description","usage_gbp_description_gs","usage_property_size_gs","usage_size_expended_gas","unit_rate_elec","usage_elec","unit_rate_gas","usage_gas","usage_size_expended_elec","usage_property_size_dual","tariff_unit_rate_elec","tariff_unit_rate_gas","tariff_description_elec","elec_tariff","tariff_description_gas","gas_tariff","tariff_info","data","className","supplier_img","supplier_name","tariff_name","review_rating","exit_fees","annual_cost","monthly_cost","choosePlan","card_id","target","id","card_content","getElementById","classList","add","active_class","querySelectorAll","forEach","call","el","remove","tariff_id","buttons","cancel","confirm","toFixed","then","result","supplier_selected","find","switching_details","agentEmail","email","url","fetch","method","body","JSON","stringify","headers","response","status","Promise","reject","json","agent","customerDetails","first_name","last_name","phone","number","step","catch","cardSelected","useGas","fuel","supplierInformation","electricityPaymentType","gasPaymentType","economy7","debt","collection","doc","set","created","firestore","FieldValue","serverTimestamp","addressline1","addressline2","city","mpan","MPANDetails","mpan_core","mprn","dataGas","meter_type","supplier_mpid","company_name","current_supplier_id","meter_mechanism_code","gas_apply","dual_fuel_apply","electricity_supplier","gas_supplier","electricity_payment_type_id","electricity_payment_type_method","gas_payment_type_id","gas_payment_type_method","economy7_apply","economy7_split","usage_size_entered","usage_kwh_entered","usage_gbp_entered","goToCustomerDetails","goBack","copy_customer_usage","filterBy","value","reverse","activeCard_el","getElementsByClassName","length","activeCard_id","activeCard","bestMatch_id","bestMatchBox","select","selectedText","options","selectedIndex","text","innerText","style","padding","slice","map","fixed_period","signn","color","size","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// Styles\nimport \"./FormCompare.css\";\n// Firebase\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\";\n// Data\nimport data_electricity_tariffs from '../../../utilities/data_tariffs/data_tariffs_es/data_electricity_tariffs';\nimport data_gas_tariffs from '../../../utilities/data_tariffs/data_tariff_gs/data_gas_tariffs';\nimport data_dual_tariffs from '../../../utilities/data_tariffs/data_tariff_dual/data_dual_tariffs';\n// Swal\nimport swal from '@sweetalert/with-react';\n// Phone Number Validation\nimport { parsePhoneNumber } from 'libphonenumber-js';\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\nimport ReviewStars from '../../ReviewStars/ReviewStars';\n\nfunction FormCompare({ customerInformation, user, electricityInformation, gasInformation, avgElec, avgGas, showScript, progressBar, updateCustomerInformation, updateShowOverlay, updateShowFormCompare, updateShowFormUsageKWH, updateShowFormUsageGBP_es, updateShowFormUsageAVG, updateShowFormUsageGAS, updateShowFormUsageGBP_gs, updateShowFormDetails, updateShowFormDebt, updateProgressBar }) {\n  /** STATES */\n  // Content Loaded state\n  const [contentLoaded, updateContentLoaded] = useState(false);\n  const [content, updateContent] = useState({});\n  const [array_to, update_array_to] = useState(3);\n  const [bestMatch, setBestMatch] = useState({});\n  const [usage_expended, update_usage_expended] = useState({});\n  const [usage_expended_elec, update_usage_expended_elec] = useState({});\n  const [usage_expended_gas, update_usage_expended_gas] = useState({});\n\n  // Error State\n  const [error, updateError] = useState(false);\n\n  /** FUNCTIONS */\n\n  /**---- */\n  // Function to create a new array without the same supplier\n  // Sorted data\n  // const sorted_data = sorted_data_desc.filter(function (obj) {\n  //   return obj.supplier_code !== 'EDF';\n  // });\n  /**---- */\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"center\" });\n      }\n\n      scroll_to()\n    }\n  }, [error]);\n\n  // Data\n  const elec_data = data_electricity_tariffs.tariffs;\n  const gas_data = data_gas_tariffs.tariffs;\n  const dual_data = data_dual_tariffs.tariffs;\n\n  /** Variables */\n  // same_supplier\n  const same_supplier = customerInformation.fuel_description.same_supplier;\n  // dual_active\n  const dual_active = customerInformation.fuel_description.dual_active;\n  // gas_only\n  const gas_only = customerInformation.fuel_description.gas_only;\n  // elec_only\n  const elec_only = customerInformation.fuel_description.elec_only;\n  // postcode_formatted\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase();\n  // doornumber_formatted\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n  // uid\n  const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n  // Show more button\n  let up_to = 0;\n  const load_more = (e) => {\n    e.preventDefault();\n    if (up_to === up_to) {\n      up_to = array_to + 3;\n      return update_array_to(up_to);\n    }\n  }\n\n  // Execute Overlay\n  useEffect(() => {\n    // Show Overlay\n    updateShowOverlay(true);\n  }, [FormCompare]);\n\n  // Function to sort the JSON by property\n  const sortByProperty = (property) => {\n    return function (a, b) {\n      if (a[property] > b[property])\n        return 1;\n      else if (a[property] < b[property])\n        return -1;\n\n      return 0;\n    }\n  }\n\n  // Information for elec_only\n  useEffect(() => {\n    // Elec_only\n    if (elec_only) {\n      // console.log('elec_only');\n      if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n        // Period introduced\n        const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n\n        let usage_by_period = 0;\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n        }\n\n        // console.log(customerInformation.tariff_description);\n        // console.log(usage_by_period);\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        // const usage = ((usage_by_period * tariff_unit_rate) / 100);\n        const usage = (usage_by_period * ((tariff_unit_rate) / 100));\n\n        // Sorted data desc\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n        /**------ */\n        // Sorted data\n        // const sorted_data = sorted_data_desc.filter(function (obj) {\n        //   return obj.supplier_code !== 'EDF';\n        // });\n        /**------ */\n\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n        // Period introduced\n        const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n        let usage_by_period = 0;\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n        }\n\n        // Sorted data\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage_by_period\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n        // Usage introduced\n        const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n        \n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n\n        console.log(usage_size_expended);\n        console.log(tariff_unit_rate);\n        console.log(usage / 12)\n\n        // Sorted data\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n    }\n  }, [elec_only]);\n\n  // Information for gas_only\n  useEffect(() => {\n    // Gas_only\n    if (gas_only) {\n      // console.log('gas_only');\n      if (customerInformation.hasOwnProperty('usage_gas_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n        // Period introduced\n        const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n        // Usage by period\n        let usage_by_period = 0;\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n        }\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_by_period * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n        // Period introduced\n        const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n        let usage_by_period = 0;\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n        }\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage_by_period\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n        // Usage introduced\n        const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n\n        // Usage introduced for gas\n        let usage_size_expended_gas;\n\n        // 1 bedroom\n        if (usage_size_expended === 1800) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 8000;\n        }\n\n        // 2 to 3 bedrooms\n        if (usage_size_expended === 2900) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 12000;\n        }\n\n        // 4+ bedrooms\n        if (usage_size_expended === 4300) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 17000;\n        }\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n    }\n  }, [gas_only]);\n\n  // Information for dual_active\n  useEffect(() => {\n    // Dual active\n    if (dual_active) {\n\n      // Sorted data\n      const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n      // Add content\n      updateContent({\n        ...content,\n        sorted_data\n      });\n\n      if (same_supplier) {\n        // Sorted data\n        // console.log('Same supplier === true');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec;\n          // console.log(tariff_unit_rate);\n          // Usage by period\n          const usage_elec = ((usage_by_period * tariff_unit_rate) / 100);\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_elec\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // KWH - GAS\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas;\n          // console.log(tariff_unit_rate);\n          // Usage by period\n          const usage_gas = ((usage_by_period * tariff_unit_rate) / 100);\n\n          // console.log(usage_gas);\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_gas\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- GBP SECTION */\n        // GBP - ELEC\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // GBP - GAS\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec;\n          // Usage by period\n          const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY SIZE - GAS\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // console.log(usage_size_expended_gas);\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas;\n          // Usage by period\n          const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY_SIZE_DUAL\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // Unit rate of tariff selected elec\n          const tariff_unit_rate_elec = customerInformation.tariff_description.unit_rate_elec;\n          // Unit rate of tariff selected gas\n          const tariff_unit_rate_gas = customerInformation.tariff_description.unit_rate_gas;\n\n          // Usage by period\n          const usage_elec = ((usage_size_expended_elec * tariff_unit_rate_elec) / 100);\n          const usage_gas = ((usage_size_expended_gas * tariff_unit_rate_gas) / 100);\n\n          const usage = usage_elec + usage_gas;\n\n          // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended({\n            ...usage_expended,\n            usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n      } else {\n        // console.log('Same supplier === false');\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Usage by period\n          const usage_elec = ((usage_by_period * tariff_unit_rate_elec) / 100);\n\n          // console.log(usage_elec);\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_elec\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // KWH - GAS\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n          // Usage by period\n          const usage_gas = ((usage_by_period * tariff_unit_rate_gas) / 100);\n\n          // console.log(usage_gas);\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_gas\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- GBP SECTION */\n        // GBP - ELEC\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // GBP - GAS\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Usage by period\n          const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY SIZE - GAS\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // console.log(usage_size_expended_gas);\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n          // Usage by period\n          const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY_SIZE_DUAL\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // Unit rate of tariff selected elec\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Unit rate of tariff selected gas\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n\n          // Usage by period\n          const usage_elec = ((usage_size_expended_elec * tariff_unit_rate_elec) / 100);\n          const usage_gas = ((usage_size_expended_gas * tariff_unit_rate_gas) / 100);\n\n          const usage = usage_elec + usage_gas;\n\n          // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended({\n            ...usage_expended,\n            usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n      }\n    }\n  }, [dual_active]);\n\n  // Sorted data\n  let sorted_data = content.sorted_data;\n\n  // usage\n  let usage = usage_expended.usage;\n\n  // const usage_gas\n  const usage_gas = usage_expended_gas.usage;\n\n  // const usage_elec\n  const usage_elec = usage_expended_elec.usage;\n\n  if ((dual_active)) {\n    if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n      usage = usage_expended.usage;\n    } else {\n      usage = (usage_elec + usage_gas);\n    }\n  }\n\n  // console.log(usage);\n  // console.log(usage_elec);\n  // console.log(usage_gas);\n\n  // Tariff info button - function to show modal\n  const tariff_info = (e, data) => {\n    e.preventDefault();\n\n    swal({\n      className: 'swal-modal_custom',\n      content: (\n        <>\n          <div className=\"form-compare-details-info-container\">\n            <div className=\"form-compare-details-info\">\n              <div className=\"form-compare-details-info-img\">\n                <img src={data.supplier_img} alt=\"\" />\n              </div>\n\n              <h3>Tariff details</h3>\n\n              <div className=\"form-compare-details-container\">\n                <div className=\"form-compare-single-details\">\n                  <p>Supplier: <span>{data.supplier_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Plan name: <span>{data.tariff_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <ReviewStars stars={data.review_rating} customClass={true} />\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Early exit fee: <span>£{data.exit_fees}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Estimated annual cost: <span>£{data.annual_cost}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Monthly direct debit: <span>£{data.monthly_cost}</span></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )\n    });\n  };\n\n  // choosePlan button\n  const choosePlan = async (e, data) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n\n    // ID of card selected\n    const card_id = e.target.id;\n    // Selected card\n    const card_content = document.getElementById(card_id);\n\n    // Add class active\n    card_content.classList.add('active-card');\n\n    // Add and remove class\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    if (card_id === sorted_data[0].tariff_id) {\n      card_content.className = \"form-compare-card-content active-card bestMatch-card\";\n    } else {\n      card_content.className = \"form-compare-card-content active-card\";\n    }\n\n    // SWAL\n    await swal({\n      className: 'swal-modal_address',\n      buttons: {\n        cancel: \"Go back\",\n        confirm: \"Choose plan\"\n      },\n      content: (\n        <>\n          <div className=\"form-compare-details-info-container\">\n            <div className=\"form-compare-details-info\">\n              <div className=\"form-compare-details-info-img\">\n                <img src={data.supplier_img} alt=\"Energy provider\" />\n              </div>\n              <div className=\"form-compare-card-estimated-container\">\n                <div className=\"form-compare-card-estimated\">\n                  <p>Estimated cost</p>\n                  <p className=\"form-compare-card-estimated-amount\"><span>£</span>{(usage - data.annual_cost).toFixed(2)}</p>\n                  <p>(£{((usage - data.annual_cost) / 12).toFixed(2)} pm)</p>\n                </div>\n              </div>\n\n              {/* <div className=\"form-compare-card-btn-signup-container\">\n                <button className=\"form-compare-card-btn-custom btn-signup\" onClick={(data) => console.log(data)}>Choose plan</button>\n              </div> */}\n\n              <h3>Tariff details</h3>\n\n              <div className=\"form-compare-details-container\">\n                <div className=\"form-compare-single-details\">\n                  <p>Supplier: <span>{data.supplier_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Plan name: <span>{data.tariff_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <ReviewStars stars={data.review_rating} customClass={true} />\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Early exit fee: <span>£{data.exit_fees}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Estimated annual cost: <span>£{data.annual_cost}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Monthly direct debit: <span>£{data.monthly_cost}</span></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )\n    }).then(async (result) => {\n\n      if (result !== true) {\n        // Hide Overlay\n        updateShowOverlay(false);\n        return;\n      };\n\n      //Show Overlay\n      updateShowOverlay(true);\n\n      // Supplier selected\n      const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id);\n\n      // Switching details\n      const switching_details = {\n        supplier_selected\n      }\n\n      // Updating best match content\n      const { tariff_name, supplier_name } = supplier_selected;\n\n      setBestMatch({\n        ...bestMatch,\n        tariff_name,\n        supplier_name\n      });\n\n      // Email agent\n      const agentEmail = { \"email\": user.email };\n\n      // Endpoint\n      const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';\n      // Fetch customer data\n      await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(agentEmail),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n      }).then((response) => {\n        if (response.status !== 200) {\n          return Promise.reject(response.json());\n        }\n\n        return response.json();\n      }).then((response) => {\n        // console.log(response);\n        // Update Customer informatin\n        updateCustomerInformation({\n          ...customerInformation,\n          agent: { email: user.email },\n          customerDetails: {\n            first_name: response.first_name ? response.first_name : '',\n            last_name: response.last_name ? response.last_name : '',\n            email: response.email ? response.email : '',\n            phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n          },\n          switching_details\n        });\n\n        // Hide Overlay\n        updateShowOverlay(false);\n        // Update Error\n        updateError(false);\n        // Hide Form Compare\n        updateShowFormCompare(false);\n        // Update Progress Bar\n        updateProgressBar({ ...progressBar, step: 8 });\n        // Show Details\n        updateShowFormDetails(true);\n\n        return response;\n\n      }).catch((error) => {\n        // Error\n        console.error(`Catch an error fetching to postcoder ${error}`);\n        // Update Customer informatin\n        updateCustomerInformation({\n          ...customerInformation,\n          agent: { email: user.email },\n          customerDetails: {\n            first_name: '',\n            last_name: '',\n            email: '',\n            phone: ''\n          },\n          switching_details\n        });\n\n        // Hide Overlay\n        updateShowOverlay(false);\n        // Update Error\n        updateError(false);\n        // Hide Form Compare\n        updateShowFormCompare(false);\n        // Update Progress Bar\n        updateProgressBar({ ...progressBar, step: 8 });\n        // Show Details\n        updateShowFormDetails(true);\n      });\n    });\n  };\n\n  // cardSelected\n  const cardSelected = (e, id) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n\n    /**-- Adding active state to the card selected --*/\n    // ID of card selected\n    const card_id = id;\n    // Selected card\n    const card_content = document.getElementById(card_id);\n\n    // Add class active\n    card_content.classList.add('active-card');\n\n    // Add and remove class\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    if (card_id === sorted_data[0].tariff_id) {\n      card_content.className = \"form-compare-card-content active-card bestMatch-card\";\n    } else {\n      card_content.className = \"form-compare-card-content active-card\";\n    }\n\n    // Supplier selected\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id);\n\n    // Switching details\n    const switching_details = {\n      supplier_selected\n    }\n\n    // Update customer information\n    updateCustomerInformation({\n      ...customerInformation,\n      switching_details\n    });\n\n    // Updating best match content\n    const { tariff_name, supplier_name } = supplier_selected;\n\n    setBestMatch({\n      ...bestMatch,\n      tariff_name,\n      supplier_name\n    });\n  };\n\n  // Adding initial customer data to firebase (Coming from Supply cc)\n  useEffect(() => {\n    /**-- Firebase --*/\n    (async () => {\n      const { customerAddres, useGas, fuel, fuel_description, supplierInformation, electricityPaymentType, gasPaymentType, economy7, tariff_description, tariff_description_elec, tariff_description_gas, usage_property_size_dual, usage_property_size_es, usage_property_size_gs, usage_gas_description, usage_gbp_description_gs, usage_kwh_description, usage_gbp_description_es, debt } = customerInformation;\n\n      // elec_only || gas_only\n      if (elec_only || gas_only) {\n        db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 7,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          },\n          tariff_description,\n          // AVG\n          usage_property_size_dual: {\n            usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n          },\n          usage_property_size_es: {\n            usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n          },\n          usage_property_size_gs: {\n            usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n          },\n          // GAS\n          usage_gas_description: {\n            usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n          },\n          usage_gbp_description_gs: {\n            usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n          },\n          // Elec\n          usage_kwh_description: {\n            usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n          },\n          usage_gbp_description_es: {\n            usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n          },\n          // AVG ELEC\n          avgElec: avgElec,\n          // AVG Gas\n          avgGas: avgGas,\n          debt\n        });\n      }\n\n      // dual_active\n      if (dual_active) {\n        // same_supplier\n        if (same_supplier) {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 7,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        } else {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 7,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description_elec,\n            tariff_description_gas,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        }\n      }\n    })();\n\n  }, [FormCompare]);\n\n  // goToCustomerDetails\n  const goToCustomerDetails = async (e) => {\n    e.preventDefault();\n\n    if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n      // Update Error\n      updateError(true);\n      return;\n    }\n\n    //Show Overlay\n    updateShowOverlay(true);\n\n    // Email agent\n    const agentEmail = { \"email\": user.email };\n\n    // Endpoint\n    const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';\n    // Fetch customer data\n    await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(agentEmail),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    }).then((response) => {\n      return response.json();\n    }).then((response) => {\n      // console.log(response);\n      // Update Customer informatin\n      updateCustomerInformation({\n        ...customerInformation,\n        agent: { email: user.email },\n        customerDetails: {\n          first_name: response.first_name ? response.first_name : '',\n          last_name: response.last_name ? response.last_name : '',\n          email: response.email ? response.email : '',\n          phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n        }\n      });\n\n      return response;\n    }).catch((error) => {\n      // Error\n      console.error(`Catch an error fetching to postcoder ${error}`);\n      // Update Customer informatin\n      updateCustomerInformation({\n        ...customerInformation,\n        agent: { email: user.email },\n        customerDetails: {\n          first_name: '',\n          last_name: '',\n          email: '',\n          phone: ''\n        }\n      });\n    });\n\n    // Hide Overlay\n    updateShowOverlay(false);\n    // Update Error\n    updateError(false);\n    // Hide Form Compare\n    updateShowFormCompare(false);\n    // Update Progress Bar\n    updateProgressBar({ ...progressBar, step: 9 });\n    // Show Details\n    updateShowFormDetails(true);\n  }\n\n  // Go Back\n  const goBack = (e) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n    // Hide Form Compare\n    updateShowFormCompare(false);\n    // Delete Customer Usage\n    const copy_customer_usage = { ...customerInformation };\n    delete copy_customer_usage['debt'];\n    delete copy_customer_usage['switching_details'];\n    delete copy_customer_usage['customerDetails'];\n    // Update customer information\n    updateCustomerInformation({ ...copy_customer_usage });\n    // Show Form Debt\n    updateShowFormDebt(true)\n    // Update Progress Bar\n    updateProgressBar({ ...progressBar, step: 7 });\n  }\n\n  // Filterby\n  const filterBy = (e) => {\n    let target = e.target.value;\n\n    // Hide error\n    updateError(false);\n\n    if (target === 'monthly_cost') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"monthly_cost\"))\n      });\n    };\n\n    if (target === 'exit_fees') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"exit_fees\"))\n      });\n    };\n\n    if (target === 'review_rating') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"review_rating\")).reverse()\n      });\n    };\n\n    if (target === 'supplier_code') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"supplier_code\"))\n      });\n    };\n\n    // Delete Customer Usage\n    const copy_customer_usage = { ...customerInformation };\n    delete copy_customer_usage['switching_details'];\n    // Update customer information\n    updateCustomerInformation({ ...copy_customer_usage });\n\n    let activeCard_el = document.getElementsByClassName('active-card');\n    if (activeCard_el.length > 0) {\n      let activeCard_id = activeCard_el[0].id;\n      let activeCard = document.getElementById(activeCard_id);\n      activeCard.classList.remove('active-card');\n    }\n\n  }\n\n  // Use Effect to select the best tariff (Monthly cost) in the first render\n  useEffect(() => {\n    if (content.hasOwnProperty('sorted_data')) {\n      // Select best match\n      let bestMatch = content.sorted_data[0];\n      // Best match id\n      let bestMatch_id = bestMatch.tariff_id;\n      // Add active card to best match\n      document.getElementById(bestMatch_id).classList.add('bestMatch-card');\n      // Box deal Best Match\n      let bestMatchBox = document.getElementById(`best_match${bestMatch_id}`);\n      let select = document.getElementById('filterPlan');\n      var selectedText = select.options[select.selectedIndex].text;\n      // Adding text\n      bestMatchBox.innerText = `Best match - By ${selectedText.toLowerCase()}`;\n      bestMatchBox.style.padding = '.5rem 1rem'\n\n      const { tariff_name, supplier_name } = bestMatch;\n\n      setBestMatch({\n        ...bestMatch,\n        tariff_name,\n        supplier_name\n      });\n    }\n  }, [content]);\n\n  return (\n    <>\n      <form>\n        {contentLoaded ?\n          (\n            <section className=\"form-compare-section\">\n              <div className=\"form-compare-container\">\n                <div className=\"form-compare-content\">\n                  <div className=\"form-compare\">\n                    <h1>Results</h1>\n                    <p>Thank you for answering my questions, I can see that if you switch to the <strong>{bestMatch.tariff_name}</strong> with <strong>{bestMatch.supplier_name}</strong> you will save <strong>*INSERT SAVINGS*</strong> per year! So it will be only <strong>£{bestMatch.monthly_cost}</strong> per month. This tariff also comes with <strong>*INSERT TARIFF BENEFIT*</strong>.</p>\n                  </div>\n\n                  <div className=\"filterBy-container\">\n                    <label htmlFor=\"filterPlan\">Filter By</label>\n\n                    <select name=\"plan\" id=\"filterPlan\" defaultValue=\"monthly_cost\" onChange={(e) => filterBy(e)}>\n                      <option value=\"\">―</option>\n                      <option value=\"saving\">Savings</option>\n                      <option value=\"renewal\">Renewal</option>\n                      <option value=\"monthly_cost\">Monthly cost</option>\n                      <option value=\"exit_fees\">Exit fees</option>\n                      <option value=\"review_rating\">Reviews</option>\n                      <option value=\"supplier_code\">Supplier</option>\n                    </select>\n                  </div>\n\n                  {sorted_data.slice(0, array_to).map((data) => (\n                    <div key={data.tariff_id}>\n                      <div className=\"sticky\"><p id={`best_match${data.tariff_id}`}></p></div>\n                      <div className=\"form-compare-card-container\">\n                        <div className=\"form-compare-card-content\" id={data.tariff_id} onClick={(e) => cardSelected(e, data.tariff_id)}>\n                          <div className=\"form-compare-card-column\">\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-supplier\">\n                                <div className=\"form-compare-card-image\">\n                                  <img src={data.supplier_img} />\n                                </div>\n\n                                <div className=\"form-compare-card-info\">\n                                  <h2>{data.tariff_name}</h2>\n                                  <ReviewStars stars={data.review_rating} />\n                                </div>\n                              </div>\n                            </div>\n\n                            <hr className=\"hr-custom\" />\n\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-fees\">\n                                <p>Exit fees</p>\n                                <p><span>£{data.exit_fees}</span></p>\n                              </div>\n\n                              <div className=\"form-compare-card-fixed\">\n                                <p>Fixed period</p>\n                                <p><span>{data.fixed_period} months</span></p>\n                              </div>\n\n                              <div className=\"form-compare-card-cost\">\n                                <p>Monthly cost</p>\n                                <p><span>£{data.monthly_cost}</span></p>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"form-compare-card-column\">\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-btn-container\">\n                                <button className=\"form-compare-card-btn btn-signup\" type=\"submit\" id={data.tariff_id} onClick={(e) => choosePlan(e, data)}>Choose plan</button>\n                                <button type=\"button\" className=\"form-compare-card-btn btn-tariff\" onClick={(e) => { tariff_info(e, data) }}>Tariff info</button>\n                                <div className=\"form-compare-card-btn-info\">\n                                  <p><span>Savings</span> - £{Math.signn((usage - data.annual_cost).toFixed(2))} now</p>\n                                  <p>or £231 at renewal</p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n\n                  <div className=\"form-compare-loadmore-btn-container\">\n                    <button className=\"form-compare-loadmore-btn\" onClick={(e) => load_more(e)}>Show more results</button>\n                  </div>\n\n                  {/* Error */}\n                  {error === true ? <Error message={'Please selected a tariff to sign up'} /> : null}\n\n                  {/* Buttons */}\n                  <div className=\"form-compare-btn-container\">\n                    <button className=\"form-compare-btn btn-back\" onClick={(e) => goBack(e)}>\n                      <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                        <IoMdArrowDropleft className=\"icon-back\" />\n                      </IconContext.Provider>\n                      Go back\n                    </button>\n\n                    <button className=\"form-compare-btn btn-next\" onClick={(e) => goToCustomerDetails(e)}>\n                      Continue\n\n                      <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                        <IoMdArrowDropright className=\"icon-next\" />\n                      </IconContext.Provider>\n                    </button>\n                  </div>\n                </div>\n\n                {showScript ?\n                  (\n                    <div className=\"helper-compare\">\n                      <div className=\"script-compare\">\n                        <FormScript step={9} />\n                      </div>\n\n                      <div className=\"assistant-compare-custom\">\n                        <FormAssistant tips={9} />\n                      </div>\n                    </div>\n                  )\n                  :\n                  <div style={{ width: '100%' }}>\n                    <div className=\"assistant-compare\">\n                      <FormAssistant tips={9} />\n                    </div>\n                  </div>\n                }\n              </div>\n            </section>\n          )\n          :\n          null\n        }\n      </form>\n    </>\n  );\n}\n\nexport default FormCompare;\n"]},"metadata":{},"sourceType":"module"}