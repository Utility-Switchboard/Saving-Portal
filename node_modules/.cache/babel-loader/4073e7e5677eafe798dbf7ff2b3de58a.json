{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormsUsage/FormUsageKWH/FormUsageKWH.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./FormUsageKWH.css\"; // Icons\n\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io'; // Components\n\nimport FormScript from '../../FormScript/FormScript';\nimport FormAssistant from \"../../FormAssistant/FormAssistant\";\nimport Error from '../../../Error/Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormUsageKWH({\n  customerInformation,\n  progressBar,\n  showScript,\n  updateAvgElec,\n  updateCustomerInformation,\n  updateShowFormUsageKWH,\n  updateShowFormUsageGAS,\n  updateShowFormUsageGBP_es,\n  updateShowFormDebt,\n  updateShowFormTariffs,\n  updateShowE7,\n  updateProgressBar,\n  updateShowOverlay\n}) {\n  _s();\n\n  /* STATES */\n  const [idk_active, update_idk_active] = useState(false); // Error State\n\n  const [error, updateError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({\n    message: ''\n  });\n  /* FUNCTIONS */\n  // Scroll to top & hide overlay\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    }); // Show overlay\n\n    updateShowOverlay(false);\n  }, []); // Variables\n\n  const dual_active = customerInformation.fuel_description.dual_active; // Handle Click - idk\n\n  const handleClick = e => {\n    e.preventDefault(); // Update Error\n\n    updateError(false); // Update state\n\n    update_idk_active(!idk_active);\n    const usage_kwh_description = {\n      usage_kwh_entered: false,\n      usage_kwh_expended: false,\n      usage_kwh_period: false\n    }; // Update state\n\n    updateCustomerInformation({ ...customerInformation,\n      usage_kwh_description\n    });\n  }; // Handle Change - Input\n\n\n  const handleChange = e => {\n    // Update Error\n    updateError(false);\n    const usage_select = document.getElementById('usage_select').value;\n    const usage_kwh_description = {\n      usage_kwh_entered: true,\n      usage_kwh_expended: e.target.value.replace(/[^0-9\\.]+/g, '').trim(),\n      usage_kwh_period: usage_select\n    }; // Update state\n\n    updateCustomerInformation({ ...customerInformation,\n      usage_kwh_description\n    });\n  }; // Initial Values - Inputs\n\n\n  let value_kwh = '';\n\n  if (value_kwh) {\n    value_kwh = customerInformation.usage_kwh_description.usage_kwh_expended;\n  } // Send usage\n\n\n  const sendUsage = e => {\n    e.preventDefault(); // Validation\n\n    const usage_value = document.getElementById('usage_kwh_id').value;\n    const usage_kwh_period = document.getElementById('usage_select').value;\n\n    if (parseFloat(usage_value) > 50000 && usage_kwh_period === 'annu' || parseFloat(usage_value) > 4166.666 && usage_kwh_period === 'mo') {\n      let amount = '';\n      let period = ''; // Amount & period\n\n      if (usage_kwh_period === 'annu') {\n        amount = 50000;\n        period = 'year';\n      } else {\n        amount = 4166.666;\n        period = 'month';\n      } // Set error message\n\n\n      setErrorMessage({ ...errorMessage,\n        message: `Please check how much you use on electricity. If you use more than ${amount.toFixed(2)} kWh per ${period} we can't compare this against domestic consumption tariffs.`\n      }); // Show error\n\n      updateError(true);\n      return;\n    }\n\n    if (usage_value === '') {\n      // Set error message\n      setErrorMessage({ ...errorMessage,\n        message: \"Please select usage\"\n      }); // Update Error\n\n      updateError(true);\n      return;\n    } else {\n      const usage_kwh_entered = customerInformation.usage_kwh_description.usage_kwh_entered;\n      const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended; // Update State\n\n      updateAvgElec(false); // View conditional\n\n      if (usage_kwh_entered === false) {\n        // Hidde Form Usage\n        updateShowFormUsageKWH(false); // Show FormUsageGBP_es\n\n        updateShowFormUsageGBP_es(true);\n        console.log('Show UsageGBP_es');\n      } else {\n        // Update state\n        updateCustomerInformation({ ...customerInformation,\n          usage_kwh_description: {\n            usage_kwh_entered,\n            usage_kwh_expended,\n            usage_kwh_period\n          }\n        }); // Conditional view controller - Form compare / Gas section\n\n        if (dual_active) {\n          // Show Form Usage Gas\n          console.log('Show Form Usage Gas'); // Hidde Form Usage KWH\n\n          updateShowFormUsageKWH(false); // Show Form Usage Gas\n\n          updateShowFormUsageGAS(true);\n        } else {\n          // Hidde Form usage\n          updateShowFormUsageKWH(false); // Show Debt\n\n          updateShowFormDebt(true); // Update Progressbar\n\n          updateProgressBar({ ...progressBar,\n            step: 7\n          });\n          console.log('Send usage');\n        }\n      }\n    } // Update error\n\n\n    updateError(false);\n  }; // Go back\n\n\n  const goBack = e => {\n    e.preventDefault(); // Delete Customer tariff\n\n    const copy_customer_tariff = { ...customerInformation\n    };\n    delete copy_customer_tariff['tariff_description'];\n    delete copy_customer_tariff['tariff_description_elec'];\n    delete copy_customer_tariff['tariff_description_gas'];\n    delete copy_customer_tariff['usage_kwh_description']; //Update Customer Information\n\n    updateCustomerInformation({ ...copy_customer_tariff\n    }); // Hidde Form Usage\n\n    updateShowFormUsageKWH(false); // Show Form E7\n\n    updateShowE7(true); // Update progress bar\n\n    updateProgressBar({ ...progressBar,\n      step: 5\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-usagekwh-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-usagekwh-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-usagekwh-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-usagekwh\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"How much electricity do you use?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat aut sint, possimus suscipit hic obcaecati ad necessitatibus eum asperiores maiores in, inventore quidem quibusdam modi. Veniam recusandae maiores voluptatem voluptates?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), idk_active ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: idk_active ? \"form-usagekwh-input-container customContainer\" : null,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"usage_kwh_id\",\n                  type: \"text\",\n                  name: \"usage_kwh\",\n                  onChange: e => handleChange(e),\n                  className: \"form-usagekwh-input\",\n                  disabled: true,\n                  value: \"I don't know\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: idk_active ? \"customSpan\" : null,\n                  children: \"kWh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-usagekwh-select\",\n                id: \"usage_select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"annu\",\n                  children: \"Annually\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"mo\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-usagekwh-input-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  \"data-cy\": \"kwh-input\",\n                  id: \"usage_kwh_id\",\n                  type: \"number\",\n                  name: \"usage_kwh\",\n                  onChange: e => handleChange(e),\n                  className: \"form-usagekwh-input\",\n                  defaultValue: value_kwh || ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"kWh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-usagekwh-select\",\n                id: \"usage_select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"annu\",\n                  children: \"Annually\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"mo\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this)\n          }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-cy\": \"kwh-idk\",\n            className: \"form-usagekwh-idk\",\n            onClick: e => handleClick(e),\n            children: idk_active ? \"Enable input\" : \"I don't know\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), error === true ? /*#__PURE__*/_jsxDEV(Error, {\n            message: errorMessage.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-usagekwh-btn-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-usagekwh-btn btn-back\",\n              onClick: e => goBack(e),\n              children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#D338AE',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                  className: \"icon-back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), \"Go back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"kwh-continue\",\n              className: \"form-usagekwh-btn btn-next\",\n              onClick: e => sendUsage(e),\n              children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#FFF',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                  className: \"icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helper-usagekwh\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"script-usagekwh\",\n            children: /*#__PURE__*/_jsxDEV(FormScript, {\n              step: 7,\n              use: 'kwh'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-usagekwh-custom\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-usagekwh\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormUsageKWH, \"VOLslZr2czcOrdKQPG4JUO7dZJI=\");\n\n_c = FormUsageKWH;\nexport default FormUsageKWH;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormUsageKWH\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormsUsage/FormUsageKWH/FormUsageKWH.jsx"],"names":["React","useState","useEffect","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FormScript","FormAssistant","Error","FormUsageKWH","customerInformation","progressBar","showScript","updateAvgElec","updateCustomerInformation","updateShowFormUsageKWH","updateShowFormUsageGAS","updateShowFormUsageGBP_es","updateShowFormDebt","updateShowFormTariffs","updateShowE7","updateProgressBar","updateShowOverlay","idk_active","update_idk_active","error","updateError","errorMessage","setErrorMessage","message","window","scrollTo","top","behavior","dual_active","fuel_description","handleClick","e","preventDefault","usage_kwh_description","usage_kwh_entered","usage_kwh_expended","usage_kwh_period","handleChange","usage_select","document","getElementById","value","target","replace","trim","value_kwh","sendUsage","usage_value","parseFloat","amount","period","toFixed","console","log","step","goBack","copy_customer_tariff","display","color","size","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FormUsageKWH.css\";\n\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\n// Components\nimport FormScript from '../../FormScript/FormScript';\nimport FormAssistant from \"../../FormAssistant/FormAssistant\";\nimport Error from '../../../Error/Error'\n\nfunction FormUsageKWH({ customerInformation, progressBar, showScript, updateAvgElec, updateCustomerInformation, updateShowFormUsageKWH, updateShowFormUsageGAS, updateShowFormUsageGBP_es, updateShowFormDebt, updateShowFormTariffs, updateShowE7, updateProgressBar, updateShowOverlay }) {\n  /* STATES */\n  const [idk_active, update_idk_active] = useState(false);\n\n  // Error State\n  const [error, updateError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({\n    message: ''\n  });\n\n  /* FUNCTIONS */\n  // Scroll to top & hide overlay\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n\n    // Show overlay\n    updateShowOverlay(false);\n  }, []);\n\n  // Variables\n  const dual_active = customerInformation.fuel_description.dual_active;\n\n  // Handle Click - idk\n  const handleClick = (e) => {\n    e.preventDefault();\n    // Update Error\n    updateError(false);\n    // Update state\n    update_idk_active(!idk_active);\n    const usage_kwh_description = {\n      usage_kwh_entered: false,\n      usage_kwh_expended: false,\n      usage_kwh_period: false\n    }\n    // Update state\n    updateCustomerInformation({\n      ...customerInformation,\n      usage_kwh_description\n    });\n  }\n\n  // Handle Change - Input\n  const handleChange = (e) => {\n    // Update Error\n    updateError(false);\n    const usage_select = document.getElementById('usage_select').value;\n    const usage_kwh_description = {\n      usage_kwh_entered: true,\n      usage_kwh_expended: e.target.value.replace(/[^0-9\\.]+/g, '').trim(),\n      usage_kwh_period: usage_select\n    }\n    // Update state\n    updateCustomerInformation({\n      ...customerInformation,\n      usage_kwh_description\n    });\n  }\n\n  // Initial Values - Inputs\n  let value_kwh = '';\n  if (value_kwh) {\n    value_kwh = customerInformation.usage_kwh_description.usage_kwh_expended;\n  }\n\n  // Send usage\n  const sendUsage = (e) => {\n    e.preventDefault();\n    // Validation\n    const usage_value = document.getElementById('usage_kwh_id').value;\n    const usage_kwh_period = document.getElementById('usage_select').value;\n\n    if (((parseFloat(usage_value) > 50000) && (usage_kwh_period === 'annu')) || ((parseFloat(usage_value) > 4166.666) && (usage_kwh_period === 'mo'))) {\n      let amount = '';\n      let period = '';\n\n      // Amount & period\n      if (usage_kwh_period === 'annu') {\n        amount = 50000;\n        period = 'year';\n      } else {\n        amount = 4166.666;\n        period = 'month'\n      }\n      // Set error message\n      setErrorMessage({\n        ...errorMessage,\n        message: `Please check how much you use on electricity. If you use more than ${amount.toFixed(2)} kWh per ${period} we can't compare this against domestic consumption tariffs.`\n      });\n      // Show error\n      updateError(true);\n      return;\n    }\n\n    if (usage_value === '') {\n      // Set error message\n      setErrorMessage({\n        ...errorMessage,\n        message: \"Please select usage\"\n      });\n      // Update Error\n      updateError(true);\n      return;\n    } else {\n      const usage_kwh_entered = customerInformation.usage_kwh_description.usage_kwh_entered;\n      const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n      // Update State\n      updateAvgElec(false);\n      // View conditional\n      if (usage_kwh_entered === false) {\n        // Hidde Form Usage\n        updateShowFormUsageKWH(false);\n        // Show FormUsageGBP_es\n        updateShowFormUsageGBP_es(true);\n        console.log('Show UsageGBP_es');\n      } else {\n        // Update state\n        updateCustomerInformation({\n          ...customerInformation,\n          usage_kwh_description: {\n            usage_kwh_entered,\n            usage_kwh_expended,\n            usage_kwh_period\n          }\n        });\n\n        // Conditional view controller - Form compare / Gas section\n        if (dual_active) {\n          // Show Form Usage Gas\n          console.log('Show Form Usage Gas');\n          // Hidde Form Usage KWH\n          updateShowFormUsageKWH(false);\n          // Show Form Usage Gas\n          updateShowFormUsageGAS(true);\n        } else {\n          // Hidde Form usage\n          updateShowFormUsageKWH(false);\n          // Show Debt\n          updateShowFormDebt(true);\n          // Update Progressbar\n          updateProgressBar({ ...progressBar, step: 7 });\n          console.log('Send usage');\n        }\n      }\n    }\n\n    // Update error\n    updateError(false);\n\n  }\n\n  // Go back\n  const goBack = (e) => {\n    e.preventDefault();\n    // Delete Customer tariff\n    const copy_customer_tariff = { ...customerInformation };\n    delete copy_customer_tariff['tariff_description'];\n    delete copy_customer_tariff['tariff_description_elec'];\n    delete copy_customer_tariff['tariff_description_gas'];\n    delete copy_customer_tariff['usage_kwh_description'];\n    //Update Customer Information\n    updateCustomerInformation({ ...copy_customer_tariff });\n    // Hidde Form Usage\n    updateShowFormUsageKWH(false);\n    // Show Form E7\n    updateShowE7(true);\n    // Update progress bar\n    updateProgressBar({ ...progressBar, step: 5 });\n  };\n\n  return (\n    <>\n      <section className=\"form-usagekwh-section\">\n        <div className=\"form-usagekwh-container\">\n          <div className=\"form-usagekwh-content\">\n            <div className=\"form-usagekwh\">\n              <h1>How much electricity do you use?</h1>\n              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat aut sint, possimus suscipit hic obcaecati ad necessitatibus eum asperiores maiores in, inventore quidem quibusdam modi. Veniam recusandae maiores voluptatem voluptates?</p>\n            </div>\n\n            {idk_active ?\n              (\n                <>\n                  <div style={{ display: 'flex' }}>\n                    <div className={idk_active ? \"form-usagekwh-input-container customContainer\" : null} >\n                      <input id=\"usage_kwh_id\" type=\"text\" name=\"usage_kwh\" onChange={(e) => handleChange(e)} className=\"form-usagekwh-input\" disabled={true} value=\"I don't know\" />\n                      <span className={idk_active ? \"customSpan\" : null}>kWh</span>\n                    </div>\n                    <select className=\"form-usagekwh-select\" id=\"usage_select\">\n                      <option value=\"annu\">Annually</option>\n                      <option value=\"mo\">Monthly</option>\n                    </select>\n                  </div>\n                </>\n              )\n              :\n              (\n                <>\n                  <div style={{ display: 'flex' }}>\n                    <div className=\"form-usagekwh-input-container\" >\n                      <input data-cy=\"kwh-input\" id=\"usage_kwh_id\" type=\"number\" name=\"usage_kwh\" onChange={(e) => handleChange(e)} className=\"form-usagekwh-input\" defaultValue={value_kwh || ''} />\n                      <span>kWh</span>\n                    </div>\n                    <select className=\"form-usagekwh-select\" id=\"usage_select\">\n                      <option value=\"annu\">Annually</option>\n                      <option value=\"mo\">Monthly</option>\n                    </select>\n                  </div>\n                </>\n              )\n            }\n\n            <button data-cy=\"kwh-idk\" className=\"form-usagekwh-idk\" onClick={(e) => handleClick(e)}>{idk_active ? \"Enable input\" : \"I don't know\"}</button>\n\n            {/* Error */}\n            {error === true ?\n              (\n                <Error message={errorMessage.message} />\n              )\n              :\n              null}\n\n            {/* Buttons */}\n            <div className=\"form-usagekwh-btn-container\">\n              <button className=\"form-usagekwh-btn btn-back\" onClick={(e) => goBack(e)}>\n                <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                  <IoMdArrowDropleft className=\"icon-back\" />\n                </IconContext.Provider>\n                Go back\n              </button>\n\n              <button data-cy=\"kwh-continue\" className=\"form-usagekwh-btn btn-next\" onClick={(e) => sendUsage(e)}>\n                Continue\n\n                <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                  <IoMdArrowDropright className=\"icon-next\" />\n                </IconContext.Provider>\n              </button>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"helper-usagekwh\">\n                <div className=\"script-usagekwh\">\n                  <FormScript step={7} use={'kwh'} />\n                </div>\n\n                <div className=\"assistant-usagekwh-custom\">\n                  <FormAssistant tips={6} />\n                </div>\n              </div>\n            )\n            :\n            <div style={{ width: '100%' }}>\n              <div className=\"assistant-usagekwh\">\n                <FormAssistant tips={6} />\n              </div>\n            </div>\n          }\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default FormUsageKWH;\n"]},"metadata":{},"sourceType":"module"}