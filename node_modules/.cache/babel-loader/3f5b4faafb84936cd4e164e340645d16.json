{"ast":null,"code":"import _defineProperty from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";// CSS\nimport\"./FormPostCode.css\";// Components\nimport FormScript from'../FormScript/FormScript';import Error from'../../Error/Error';// Images\nimport saving_icon from'../../../assets/img/savings.png';import trustpilot from'../../../assets/img/trustpilot.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FormPostCode=function FormPostCode(_ref){var addPostCodeData=_ref.addPostCodeData,progressBar=_ref.progressBar,showScript=_ref.showScript,updateShowFormPostCode=_ref.updateShowFormPostCode,updateShowFormAddres=_ref.updateShowFormAddres,updateProgressBar=_ref.updateProgressBar,updateShowScript=_ref.updateShowScript;/** STATES */ // Post Code State\nvar _useState=useState({postcode:\"\"}),_useState2=_slicedToArray(_useState,2),postCodeData=_useState2[0],updatePostCodeData=_useState2[1];// Scroll to top\nuseEffect(function(){window.scrollTo({top:0,behavior:'smooth'});},[]);// Error State\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),errorPostcode=_useState4[0],updateErrorPostcode=_useState4[1];/** FUNCTIONS */ // Error smooth scroll\nuseEffect(function(){if(errorPostcode){var scroll_to=function scroll_to(){var element=document.querySelector(\"#error\");// smooth scroll to element and align it at the bottom\nelement.scrollIntoView({behavior:\"smooth\",block:\"end\",inline:\"end\"});};scroll_to();}},[errorPostcode]);// Function that runs every time the user writes to the input\nvar handleChange=function handleChange(e){// Hidde error\nupdateErrorPostcode(false);// Update Postcode\nupdatePostCodeData(_objectSpread(_objectSpread({},postCodeData),{},_defineProperty({},e.target.name,e.target.value.replace(/[^\\w\\s]/gi,'').trim())));};// Extract values\nvar postcode=postCodeData.postcode;// const { search } = searchInput;\n// Submit postcode\nvar submitPostcode=function submitPostcode(e){e.preventDefault();var postcode_raw=postCodeData.postcode;// Error to true\nif(postcode_raw.trim()===\"\"){// Show error\nupdateErrorPostcode(true);// Stop app\nreturn;}else{/**--Postcode structure */ // Postcode unformatted\nvar postcode_unformatted=postcode_raw;// Postcode without spaces\nvar postcode_unformatted_no_space=postcode_unformatted.replace(/ /g,'');// Postcode formated\nvar postcode_formated='';if(postcode_unformatted_no_space.length<5||postcode_unformatted_no_space.length>8){// Show error\nupdateErrorPostcode(true);// Stop app\nreturn;}else{// For a postcode structure AN-NAA\nif(postcode_unformatted_no_space.length===5){// First two chars \nvar first_two=postcode_unformatted_no_space.slice(0,2);// Last three chars\nvar last_three=postcode_unformatted_no_space.slice(2,5);// Formated Postcode\npostcode_formated=first_two+' '+last_three;}// For a postcode structure ANN-NAA, AAN-NAA, ANA-NAA\nif(postcode_unformatted_no_space.length===6){// First three chars \nvar first_three=postcode_unformatted_no_space.slice(0,3);// Last three chars\nvar _last_three=postcode_unformatted_no_space.slice(3,6);// Formated Postcode\npostcode_formated=first_three+' '+_last_three;}// For a postcode structure AANN-NAA, AANA-NAA\nif(postcode_unformatted_no_space.length===7){// First three chars \nvar first_four=postcode_unformatted_no_space.slice(0,4);// Last three chars\nvar _last_three2=postcode_unformatted_no_space.slice(4,7);// Formated Postcode\npostcode_formated=first_four+' '+_last_three2;}// Validation passed - delete message\nupdateErrorPostcode(false);// Add postcode to customerData\naddPostCodeData(postcode_formated);// Hidde Form Post Code\nupdateShowFormPostCode(false);// Show Form Address\nupdateShowFormAddres(true);// Update porgress bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:1}));}}};// Handle click for Show Script\nvar handleClick=function handleClick(e){e.preventDefault();// Update Show Script\nupdateShowScript(!showScript);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"postcode-header-section\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-header animate__animated animate__bounceInLeft\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Utility Switchboard\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Savings Portal\"}),\".\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"postcode-script\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"animate__animated animate__bounceInLeft\",onClick:function onClick(e){return handleClick(e);},children:[\"Start script\",/*#__PURE__*/_jsx(\"span\",{})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"postcode-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"animate__animated animate__zoomIn\",src:saving_icon,alt:\"Saving icon\"})})]}),/*#__PURE__*/_jsx(\"section\",{className:\"postcode-input-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Let's get started\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-input-content\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter postcode here\",name:\"postcode\",onChange:handleChange,value:postcode,required:true,\"data-cy\":\"postcode-input\"}),/*#__PURE__*/_jsx(\"button\",{\"data-cy\":\"postcode-btn\",type:\"button\",onClick:function onClick(e){return submitPostcode(e);},children:\"Find postcode\"})]}),errorPostcode?/*#__PURE__*/_jsx(Error,{message:'Please, enter a valid postcode'}):null,/*#__PURE__*/_jsx(\"div\",{className:\"postcode-trustpilot\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://uk.trustpilot.com/review/utilityswitchboard.com\",target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:trustpilot,alt:\"Trustpilot review\",loading:\"lazy\",width:\"100\"})})})]}),showScript?/*#__PURE__*/_jsx(\"div\",{className:\"script-postcode\",id:\"script-postcode\",children:/*#__PURE__*/_jsx(FormScript,{step:1})}):null]})}),/*#__PURE__*/_jsx(\"section\",{className:\"postcode-panel-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-panel-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-panel-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Our Panel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-panel-images-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-panel-images\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{className:\"d-none\",src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",alt:\"\",loading:\"lazy\",width:\"120\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-panel-images\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",alt:\"\",loading:\"lazy\",width:\"120\"}),/*#__PURE__*/_jsx(\"img\",{className:\"d-none\",src:\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\",alt:\"\",loading:\"lazy\",width:\"120\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcode-information\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Disclaimer\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic\"})]})]})})]});};export default FormPostCode;","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormPostCode/FormPostCode.jsx"],"names":["React","useState","useEffect","FormScript","Error","saving_icon","trustpilot","FormPostCode","addPostCodeData","progressBar","showScript","updateShowFormPostCode","updateShowFormAddres","updateProgressBar","updateShowScript","postcode","postCodeData","updatePostCodeData","window","scrollTo","top","behavior","errorPostcode","updateErrorPostcode","scroll_to","element","document","querySelector","scrollIntoView","block","inline","handleChange","e","target","name","value","replace","trim","submitPostcode","preventDefault","postcode_raw","postcode_unformatted","postcode_unformatted_no_space","postcode_formated","length","first_two","slice","last_three","first_three","first_four","step","handleClick"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// CSS\nimport \"./FormPostCode.css\";\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport Error from '../../Error/Error';\n\n// Images\nimport saving_icon from '../../../assets/img/savings.png';\nimport trustpilot from '../../../assets/img/trustpilot.png';\n\nconst FormPostCode = ({ addPostCodeData, progressBar, showScript, updateShowFormPostCode, updateShowFormAddres, updateProgressBar, updateShowScript }) => {\n  /** STATES */\n\n  // Post Code State\n  const [postCodeData, updatePostCodeData] = useState({\n    postcode: \"\",\n  });\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Error State\n  const [errorPostcode, updateErrorPostcode] = useState(false);\n\n  /** FUNCTIONS */\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (errorPostcode) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n      }\n\n      scroll_to()\n    }\n  }, [errorPostcode]);\n\n  // Function that runs every time the user writes to the input\n  const handleChange = (e) => {\n    // Hidde error\n    updateErrorPostcode(false);\n    // Update Postcode\n    updatePostCodeData({\n      ...postCodeData,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim(),\n    });\n  };\n\n  // Extract values\n  const { postcode } = postCodeData;\n  // const { search } = searchInput;\n\n  // Submit postcode\n  const submitPostcode = (e) => {\n    e.preventDefault();\n\n    const postcode_raw = postCodeData.postcode;\n\n    // Error to true\n    if (postcode_raw.trim() === \"\") {\n      // Show error\n      updateErrorPostcode(true);\n      // Stop app\n      return;\n    } else {\n      /**--Postcode structure */\n      // Postcode unformatted\n      let postcode_unformatted = postcode_raw;\n      // Postcode without spaces\n      let postcode_unformatted_no_space = postcode_unformatted.replace(/ /g, '');\n      // Postcode formated\n      let postcode_formated = '';\n\n      if ((postcode_unformatted_no_space.length < 5) || (postcode_unformatted_no_space.length > 8)) {\n        // Show error\n        updateErrorPostcode(true);\n        // Stop app\n        return;\n      } else {\n        // For a postcode structure AN-NAA\n        if (postcode_unformatted_no_space.length === 5) {\n          // First two chars \n          let first_two = postcode_unformatted_no_space.slice(0, 2);\n          // Last three chars\n          let last_three = postcode_unformatted_no_space.slice(2, 5);\n          // Formated Postcode\n          postcode_formated = first_two + ' ' + last_three;\n        }\n\n        // For a postcode structure ANN-NAA, AAN-NAA, ANA-NAA\n        if (postcode_unformatted_no_space.length === 6) {\n          // First three chars \n          let first_three = postcode_unformatted_no_space.slice(0, 3);\n          // Last three chars\n          let last_three = postcode_unformatted_no_space.slice(3, 6);\n          // Formated Postcode\n          postcode_formated = first_three + ' ' + last_three;\n        }\n\n        // For a postcode structure AANN-NAA, AANA-NAA\n        if (postcode_unformatted_no_space.length === 7) {\n          // First three chars \n          let first_four = postcode_unformatted_no_space.slice(0, 4);\n          // Last three chars\n          let last_three = postcode_unformatted_no_space.slice(4, 7);\n          // Formated Postcode\n          postcode_formated = first_four + ' ' + last_three;\n        }\n\n        // Validation passed - delete message\n        updateErrorPostcode(false);\n        // Add postcode to customerData\n        addPostCodeData(postcode_formated);\n        // Hidde Form Post Code\n        updateShowFormPostCode(false);\n        // Show Form Address\n        updateShowFormAddres(true);\n        // Update porgress bar\n        updateProgressBar({ ...progressBar, step: 1 });\n      }\n    }\n  };\n\n  // Handle click for Show Script\n  const handleClick = (e) => {\n    e.preventDefault();\n    // Update Show Script\n    updateShowScript(!showScript);\n  }\n\n  return (\n    <>\n      <section className=\"postcode-header-section\">\n        <div>\n          <div className=\"postcode-header animate__animated animate__bounceInLeft\">\n            <h1>Utility Switchboard</h1>\n            <h1><span>Savings Portal</span>.</h1>\n          </div>\n\n          <div className=\"postcode-script\">\n            <button className=\"animate__animated animate__bounceInLeft\" onClick={(e) => handleClick(e)}>Start script<span></span></button>\n          </div>\n        </div>\n\n        <div className=\"postcode-img\">\n          <img className=\"animate__animated animate__zoomIn\" src={saving_icon} alt=\"Saving icon\" />\n        </div>\n      </section>\n\n      <section className=\"postcode-input-section\">\n        <div className=\"postcode-input-container\">\n          <div>\n            <h2>Let's get started</h2>\n\n            <div className=\"postcode-input-content\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter postcode here\"\n                name=\"postcode\"\n                onChange={handleChange}\n                value={postcode}\n                required\n                data-cy=\"postcode-input\"\n              />\n              <button data-cy=\"postcode-btn\" type=\"button\" onClick={(e) => submitPostcode(e)}>\n                Find postcode\n              </button>\n            </div>\n\n            {errorPostcode ?\n              (<Error message={'Please, enter a valid postcode'} />)\n              :\n              null\n            }\n\n            <div className=\"postcode-trustpilot\">\n              <a href=\"https://uk.trustpilot.com/review/utilityswitchboard.com\" target=\"_blank\" rel=\"noreferrer\" ><img src={trustpilot} alt=\"Trustpilot review\" loading=\"lazy\" width=\"100\" /></a>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"script-postcode\" id=\"script-postcode\">\n                <FormScript step={1} />\n              </div>\n            )\n            :\n            null\n          }\n        </div>\n      </section>\n\n      <section className=\"postcode-panel-section\">\n        <div className=\"postcode-panel-container\">\n          <div className=\"postcode-panel-content\">\n            <h1>Our Panel</h1>\n\n            <div className=\"postcode-panel-images-content\">\n              <div className=\"postcode-panel-images\">\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img className=\"d-none\" src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n              </div>\n\n              <div className=\"postcode-panel-images\">\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/ovo-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/scottish-power-logo-square-300x300.jpg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/edf-energy-logo-square-300x300.jpeg\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n                <img className=\"d-none\" src=\"https://utilityswitchboard.com/wp-content/uploads/2020/09/orbit-energy-logo-square.png\" alt=\"\" loading=\"lazy\" width=\"120\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"postcode-information\">\n            <h2>Disclaimer</h2>\n            <p>\n              Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic\n            </p>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default FormPostCode;\n"]},"metadata":{},"sourceType":"module"}