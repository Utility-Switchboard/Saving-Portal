{"ast":null,"code":"var _jsxFileName = \"/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormMPN-MPRN/FormMpanMprn.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./FormMpanMprn.css\"; // Firebase\n\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\"; // Images\n\nimport Search from '../../../assets/img/search.png'; // Swal\n\nimport swal from '@sweetalert/with-react'; // Icons\n\nimport { IconContext } from \"react-icons\";\nimport { ImSad } from 'react-icons/im';\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\nimport { FaRegEdit } from \"react-icons/fa\"; // Components\n\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from '../FormAssistant/FormAssistant';\nimport Error from '../../Error/Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FormMpanMprn({\n  customerAddres,\n  electricityInformation,\n  gasInformation,\n  customerInformation,\n  useGas,\n  fuel,\n  progressBar,\n  showScript,\n  updateCustomerAddress,\n  updateElectricityInformation,\n  updateGasInformation,\n  updateCustomerInformation,\n  updateProgressBar,\n  updateShowFormMpanMprn,\n  updateShowFormSupply,\n  updateShowFomrFuelType,\n  updateShowOverlay\n}) {\n  _s();\n\n  /* STATES */\n  // Edit\n  const [editMPAN, updateEditMPAN] = useState(true);\n  const [editMPRN, updateEditMPRN] = useState(true); // Search by MPAN\n\n  const [searchByMPAN, updateSearchByMPAN] = useState(false); // Search by MPRN\n\n  const [serachByMPRN, updateSearchByMPRN] = useState(false); // Error MPAN\n\n  const [error_mpan, updateError_mpan] = useState(false); // Error MPRN\n\n  const [error_mprn, updateError_mprn] = useState(false); // Button focus animation - MPAN\n\n  const [focusAnimationMpan, setFocusAnimationMpan] = useState(false); // Button focus animation - MPRN\n\n  const [focusAnimationMprn, setFocusAnimationMprn] = useState(false);\n  /* FUNCTIONS */\n  // Scroll to top\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []); // Variables\n\n  const mpan = customerAddres.mpan;\n  const mprn = customerAddres.mprn;\n  const supplier_mpid = electricityInformation.MPANDetails.supplier_mpid;\n  const current_supplier_id = gasInformation.dataGas.current_supplier_id;\n  const dual_active = customerInformation.fuel_description.dual_active;\n  const gas_only = customerInformation.fuel_description.gas_only;\n  const elec_only = customerInformation.fuel_description.elec_only;\n  const same_supplier = customerInformation.fuel_description.same_supplier;\n  const postcode_formatted = customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase();\n  const doornumber_formatted = customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n  const uid = `${postcode_formatted}-${doornumber_formatted}`; // Function to check if the first request to the ECOES API comes with data\n\n  useEffect(() => {\n    if (supplier_mpid !== '') {\n      updateSearchByMPAN(false);\n    } else {\n      updateSearchByMPAN(true);\n    }\n  }, []); // Function to check if the first request to the XOSERVE API comes with data\n\n  useEffect(() => {\n    if (current_supplier_id !== '') {\n      updateSearchByMPRN(false);\n    } else {\n      updateSearchByMPRN(true);\n    }\n  }, []); // Function that runs every time the user writes to the input\n\n  const handleChange = e => {\n    // Update valus for MPAN and MPRN\n    updateCustomerAddress({ ...customerAddres,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim()\n    });\n  }; // Go to Supply Information\n\n\n  const goToSupplyInformation = async e => {\n    e.preventDefault(); // Show Overlay\n\n    updateShowOverlay(true);\n    /**-- Swal alert-- */\n\n    const swal_es = () => {\n      swal({\n        closeOnClickOutside: false,\n        buttons: {\n          cancel: {\n            text: \"Go back\",\n            value: false,\n            visible: true\n          }\n        },\n        content: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"swal-text-custom\",\n          children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n            value: {\n              color: '#D338AE',\n              size: '50px'\n            },\n            children: /*#__PURE__*/_jsxDEV(ImSad, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"No results found for electricity supplier...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      });\n    };\n\n    const swal_gs = () => {\n      swal({\n        closeOnClickOutside: false,\n        buttons: {\n          cancel: {\n            text: \"Go back\",\n            value: false,\n            visible: true\n          }\n        },\n        content: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"swal-text-custom\",\n          children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n            value: {\n              color: '#D338AE',\n              size: '50px'\n            },\n            children: /*#__PURE__*/_jsxDEV(ImSad, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"No results found for gas supplier...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      });\n    };\n\n    const swal_es_gs = () => {\n      swal({\n        closeOnClickOutside: false,\n        buttons: {\n          cancel: {\n            text: \"Go back\",\n            value: false,\n            visible: true\n          }\n        },\n        content: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"swal-text-custom\",\n          children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n            value: {\n              color: '#D338AE',\n              size: '50px'\n            },\n            children: /*#__PURE__*/_jsxDEV(ImSad, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"No results found...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      });\n    };\n\n    let dispatch_swal_es;\n    let dispatch_swal_gs; // Conditional Swal ES\n\n    const swal_checker_es = swal_es_dispatch => {\n      dispatch_swal_es = swal_es_dispatch;\n      return swal_es_dispatch;\n    }; // Conditional Swal GS\n\n\n    const swal_checker_gs = swal_gs_dispatch => {\n      dispatch_swal_gs = swal_gs_dispatch;\n      return swal_gs_dispatch;\n    }; // ecoes_api\n\n\n    const ecoes_api = process.env.REACT_APP_ECOES_API; // xoserve_api\n\n    const xoserve_api = process.env.REACT_APP_XOSERVE_API; // Fetch ECOES API\n\n    if (searchByMPAN) {\n      if (mpan !== '') {\n        // MPAN Validation - MinLength = 13 digits\n        if (mpan.length < 13) {\n          if (mpan.length < 13 && mprn.length < 10) {\n            // Show error MPAN\n            updateError_mpan(true); // Show error MPRN\n\n            updateError_mprn(true);\n\n            if (mprn.length === 0) {\n              // Hidde error MPRN\n              updateError_mprn(false);\n            }\n          } else {\n            // Show error MPAN\n            updateError_mpan(true);\n          } // Hidde Overlay\n\n\n          updateShowOverlay(false);\n          return;\n        }\n        /**-- Response ECOES DETAILS by MPAN--  */\n        // Body parameters\n\n\n        const detailsParameters = {\n          \"Authentication\": {\n            \"Key\": ecoes_api\n          },\n          \"ParameterSets\": [{\n            \"Parameters\": [{\n              \"Key\": \"MPAN\",\n              \"Value\": mpan\n            }]\n          }]\n        };\n        const responseECOESDetails = await fetch('https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/GetTechnicalDetailsByMpan', {\n          method: 'POST',\n          body: JSON.stringify(detailsParameters),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            return response.json();\n          } else {\n            return console.error('An error ocurred fetching to GetTechnicalDetailsByMpan');\n          }\n        }).then(function (response) {\n          if (response !== undefined) {\n            // Error response\n            const error_response = response.Results[0].Errors.length; // Check values and return \n\n            if (error_response >= 1) {\n              // Electricity Infomartion values\n              const MPANDetails = {\n                mpan_core: '',\n                meter_serial_number: '',\n                meter_type: '',\n                supplier_mpid: ''\n              }; // Update the state\n\n              updateElectricityInformation({ ...electricityInformation,\n                MPANDetails\n              });\n            } else {\n              // Extract the values from the response\n              const meter_serial_number = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[1].Value;\n              const meter_type = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[2].Value;\n              const supplier_mpid = response.Results[0].UtilityMatches[0].UtilityDetails[11].Value; // Assign values\n\n              const MPANDetails = {\n                mpan_core: mpan,\n                meter_serial_number,\n                meter_type,\n                supplier_mpid\n              }; // Update the state\n\n              updateElectricityInformation({ ...electricityInformation,\n                MPANDetails\n              });\n            }\n          } else {\n            // Show alert\n            swal_checker_es(true); // Electricity Infomartion values\n\n            const MPANDetails = {\n              mpan_core: '',\n              meter_serial_number: '',\n              meter_type: '',\n              supplier_mpid: ''\n            }; // Update the state\n\n            return updateElectricityInformation({ ...electricityInformation,\n              MPANDetails\n            });\n          }\n        }).catch(error => {\n          console.error(error); // Show alert\n\n          swal_checker_es(true);\n        });\n      }\n    } // Fetch XOSERVE API\n\n\n    if (serachByMPRN) {\n      if (mprn !== '') {\n        // MPRN Validation - MinLength = 10 digits\n        if (mprn.length < 10) {\n          if (mprn.length < 10 && mpan.length < 13) {\n            // Show error MPRN\n            updateError_mprn(true); // Show error MPAN\n\n            updateError_mpan(true);\n\n            if (mpan.length === 0) {\n              // Hidde error MPAN\n              updateError_mpan(false);\n            }\n          } else {\n            // Show error MPRN\n            updateError_mprn(true);\n          } // Hidde Overlay\n\n\n          updateShowOverlay(false);\n          return;\n        }\n        /** -- XOSERVE API -- */\n\n\n        const responseXOSERVE = await fetch(`https://cors-anywhere.herokuapp.com/https://xoserve.apimanagement.hana.ondemand.com:443/v1/switchdataTBB.svc?&mprn='${mprn}'`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'APIKey': xoserve_api\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            return response.json();\n          } else {\n            updateGasInformation({ ...gasInformation,\n              dataGas: {\n                mprn: '',\n                meter_mechanism_code: '',\n                current_supplier_id: '',\n                gas_transport_id: ''\n              }\n            });\n            return console.error('An error ocurred fetching to Xoserve switchdataTBB');\n          }\n        }).then(function (response) {\n          // console.log(response);\n          // If exist information about the property \n          const success = response.hasOwnProperty('mprn');\n\n          if (success === true) {\n            const dataGas = response.mprn[0];\n            const mprn_core = response.mprn[0].mprn;\n            updateGasInformation({ ...gasInformation,\n              dataGas\n            });\n            return mprn_core;\n          } else {\n            // Show alert\n            swal_checker_gs(true);\n            return updateGasInformation({ ...gasInformation,\n              dataGas: {\n                mprn: '',\n                meter_mechanism_code: '',\n                current_supplier_id: '',\n                gas_transport_id: ''\n              }\n            });\n          }\n        }).catch(function (error) {\n          // Show alert\n          swal_checker_gs(true);\n          return console.error('Catch an error fetching to Xoserve switchdataTBB:' + ' ' + error);\n        });\n      }\n    }\n\n    if ((dispatch_swal_es && dispatch_swal_gs) === true) {\n      swal_es_gs();\n    } else {\n      if (dispatch_swal_es === true) {\n        swal_es();\n      }\n\n      if (dispatch_swal_gs === true) {\n        swal_gs();\n      }\n    } // Update progress bar\n\n\n    updateProgressBar({ ...progressBar,\n      step: 4\n    }); // Hidde MPAN/MPRN\n\n    updateShowFormMpanMprn(false); // Show Overlay\n\n    updateShowOverlay(false); // Show Form Supply\n\n    updateShowFormSupply(true);\n  };\n\n  const goBack = e => {\n    e.preventDefault(); // Update progress bar\n\n    updateProgressBar({ ...progressBar,\n      step: 2\n    }); // Update state\n\n    const copy_customerInformation = { ...customerInformation\n    };\n    delete copy_customerInformation['fuel_description'];\n    updateCustomerInformation({ ...copy_customerInformation\n    }); // Hidde error \n\n    updateError_mpan(false);\n    updateError_mprn(false); // Hidde MPAN/MPRN\n\n    updateShowFormMpanMprn(false); // Show Fuetl Type\n\n    updateShowFomrFuelType(true);\n    /**-- Firebase --*/\n    // Update customer information in firebase\n\n    db.collection(\"customers\").doc(uid).set({\n      created: firebase.firestore.FieldValue.serverTimestamp(),\n      step: 2,\n      customerAddres: {\n        doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n        addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n        addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n        city: customerAddres.city ? customerAddres.city : '',\n        postcode: customerAddres.postcode ? customerAddres.postcode : '',\n        mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n        mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n      },\n      MPANDetails: {\n        meter_serial_number: electricityInformation.MPANDetails.meter_serial_number ? electricityInformation.MPANDetails.meter_serial_number : '',\n        meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n        mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n        supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : ''\n      },\n      dataGas: {\n        mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n        meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n        current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n        gas_transport_id: gasInformation.dataGas.gas_transport_id ? gasInformation.dataGas.gas_transport_id : ''\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-mpanmprn-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-mpanmprn-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-mpanmprn-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-mpanmprn\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"We need your \", elec_only ? 'MPAN' : null, \" \", gas_only ? 'MPRN' : null, \" \", dual_active ? same_supplier ? \"MPAN\" : 'MPAN & MPRN' : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), elec_only ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Meter Point Administration Number (MPAN)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-mpanmprn-input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-mpanmprn-input\",\n                    name: \"mpan\",\n                    placeholder: mpan === '' ? 'Introduce MPAN' : '',\n                    value: mpan,\n                    onChange: e => handleChange(e),\n                    disabled: editMPAN,\n                    onPointerDown: () => editMPAN ? setFocusAnimationMpan(!focusAnimationMpan) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(FaRegEdit, {\n                    className: focusAnimationMpan ? 'edit-search-icon animate__animated animate__headShake' : 'edit-search-icon',\n                    onClick: () => updateEditMPAN(!editMPAN)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this), error_mpan ? /*#__PURE__*/_jsxDEV(Error, {\n                  message: 'Please, enter a valid MPAN number.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 25\n                }, this) : null]\n              }, void 0, true) : null, gas_only ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Meter Point Reference Number (MPRN)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-mpanmprn-input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-mpanmprn-input\",\n                    name: \"mprn\",\n                    placeholder: mprn === '' ? 'Introduce MPRN' : '',\n                    value: mprn,\n                    onChange: e => handleChange(e),\n                    disabled: editMPRN,\n                    onPointerDown: () => editMPRN ? setFocusAnimationMprn(!focusAnimationMprn) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(FaRegEdit, {\n                    className: focusAnimationMprn ? 'edit-search-icon animate__animated animate__headShake' : 'edit-search-icon',\n                    onClick: () => updateEditMPRN(!editMPRN)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 23\n                }, this), error_mprn ? /*#__PURE__*/_jsxDEV(Error, {\n                  message: 'Please, enter a valid MPRN number.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 25\n                }, this) : null]\n              }, void 0, true) : null, dual_active ? // Same supplier\n              same_supplier ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Meter Point Administration Number (MPAN)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-mpanmprn-input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-mpanmprn-input\",\n                    name: \"mpan\",\n                    placeholder: mpan === '' ? 'Introduce MPAN' : '',\n                    value: mpan,\n                    onChange: e => handleChange(e),\n                    disabled: editMPAN,\n                    onPointerDown: () => editMPAN ? setFocusAnimationMpan(!focusAnimationMpan) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(FaRegEdit, {\n                    className: focusAnimationMpan ? 'edit-search-icon animate__animated animate__headShake' : 'edit-search-icon',\n                    onClick: () => updateEditMPAN(!editMPAN)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 25\n                }, this), error_mpan ? /*#__PURE__*/_jsxDEV(Error, {\n                  message: 'Please, enter a valid MPAN number.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 27\n                }, this) : null]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Meter Point Administration Number (MPAN)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-mpanmprn-input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-mpanmprn-input\",\n                    name: \"mpan\",\n                    placeholder: mpan === '' ? 'Introduce MPAN' : '',\n                    value: mpan,\n                    onChange: e => handleChange(e),\n                    disabled: editMPAN,\n                    onPointerDown: () => editMPAN ? setFocusAnimationMpan(!focusAnimationMpan) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(FaRegEdit, {\n                    className: focusAnimationMpan ? 'edit-search-icon animate__animated animate__headShake' : 'edit-search-icon',\n                    onClick: () => updateEditMPAN(!editMPAN)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 25\n                }, this), error_mpan ? /*#__PURE__*/_jsxDEV(Error, {\n                  message: 'Please, enter a valid MPAN number.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 27\n                }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Meter Point Reference Number (MPRN)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-mpanmprn-input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-mpanmprn-input\",\n                    name: \"mprn\",\n                    placeholder: mprn === '' ? 'Introduce MPRN' : '',\n                    value: mprn,\n                    onChange: e => handleChange(e),\n                    disabled: editMPRN,\n                    onPointerDown: () => editMPRN ? setFocusAnimationMprn(!focusAnimationMprn) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(FaRegEdit, {\n                    className: focusAnimationMprn ? 'edit-search-icon animate__animated animate__headShake' : 'edit-search-icon',\n                    onClick: () => updateEditMPRN(!editMPRN)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 25\n                }, this), error_mprn ? /*#__PURE__*/_jsxDEV(Error, {\n                  message: 'Please, enter a valid MPRN number.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 27\n                }, this) : null]\n              }, void 0, true) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-mpanmprn-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Search,\n                alt: \"\",\n                width: \"80\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-mpanmprn-btn-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-mpanmprn-btn btn-back\",\n              onClick: e => goBack(e),\n              children: [/*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#D338AE',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropleft, {\n                  className: \"icon-back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this), \"Go back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              \"data-cy\": \"mpanmprn-continue\",\n              className: \"form-mpanmprn-btn btn-next\",\n              onClick: e => goToSupplyInformation(e),\n              children: [\"Continue\", /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n                value: {\n                  color: '#FFF',\n                  size: '35px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IoMdArrowDropright, {\n                  className: \"icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), showScript ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helper-mpanmprn\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"script-mpanmprn\",\n            children: /*#__PURE__*/_jsxDEV(FormScript, {\n              step: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-mpanmprn-custom\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assistant-mpanmprn\",\n            children: /*#__PURE__*/_jsxDEV(FormAssistant, {\n              tips: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(FormMpanMprn, \"twbD3yoduoaSqqnTxDDICycS4IM=\");\n\n_c = FormMpanMprn;\nexport default FormMpanMprn;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormMpanMprn\");","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormMPN-MPRN/FormMpanMprn.jsx"],"names":["React","useState","useEffect","db","firebase","Search","swal","IconContext","ImSad","IoMdArrowDropleft","IoMdArrowDropright","FaRegEdit","FormScript","FormAssistant","Error","FormMpanMprn","customerAddres","electricityInformation","gasInformation","customerInformation","useGas","fuel","progressBar","showScript","updateCustomerAddress","updateElectricityInformation","updateGasInformation","updateCustomerInformation","updateProgressBar","updateShowFormMpanMprn","updateShowFormSupply","updateShowFomrFuelType","updateShowOverlay","editMPAN","updateEditMPAN","editMPRN","updateEditMPRN","searchByMPAN","updateSearchByMPAN","serachByMPRN","updateSearchByMPRN","error_mpan","updateError_mpan","error_mprn","updateError_mprn","focusAnimationMpan","setFocusAnimationMpan","focusAnimationMprn","setFocusAnimationMprn","window","scrollTo","top","behavior","mpan","mprn","supplier_mpid","MPANDetails","current_supplier_id","dataGas","dual_active","fuel_description","gas_only","elec_only","same_supplier","postcode_formatted","postcode","replace","trim","toLowerCase","doornumber_formatted","doornumber","uid","handleChange","e","target","name","value","goToSupplyInformation","preventDefault","swal_es","closeOnClickOutside","buttons","cancel","text","visible","content","color","size","swal_gs","swal_es_gs","dispatch_swal_es","dispatch_swal_gs","swal_checker_es","swal_es_dispatch","swal_checker_gs","swal_gs_dispatch","ecoes_api","process","env","REACT_APP_ECOES_API","xoserve_api","REACT_APP_XOSERVE_API","length","detailsParameters","responseECOESDetails","fetch","method","body","JSON","stringify","headers","then","response","status","json","console","error","undefined","error_response","Results","Errors","mpan_core","meter_serial_number","meter_type","UtilityMatches","Meters","MeterDetails","Value","UtilityDetails","catch","responseXOSERVE","meter_mechanism_code","gas_transport_id","success","hasOwnProperty","mprn_core","step","goBack","copy_customerInformation","collection","doc","set","created","firestore","FieldValue","serverTimestamp","addressline1","addressline2","city","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FormMpanMprn.css\";\n// Firebase\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\";\n// Images\nimport Search from '../../../assets/img/search.png';\n// Swal\nimport swal from '@sweetalert/with-react';\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { ImSad } from 'react-icons/im';\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\nimport { FaRegEdit } from \"react-icons/fa\";\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from '../FormAssistant/FormAssistant';\nimport Error from '../../Error/Error';\n\nfunction FormMpanMprn({ customerAddres, electricityInformation, gasInformation, customerInformation, useGas, fuel, progressBar, showScript, updateCustomerAddress, updateElectricityInformation, updateGasInformation, updateCustomerInformation, updateProgressBar, updateShowFormMpanMprn, updateShowFormSupply, updateShowFomrFuelType, updateShowOverlay }) {\n  /* STATES */\n  // Edit\n  const [editMPAN, updateEditMPAN] = useState(true);\n  const [editMPRN, updateEditMPRN] = useState(true);\n  // Search by MPAN\n  const [searchByMPAN, updateSearchByMPAN] = useState(false);\n  // Search by MPRN\n  const [serachByMPRN, updateSearchByMPRN] = useState(false);\n  // Error MPAN\n  const [error_mpan, updateError_mpan] = useState(false);\n  // Error MPRN\n  const [error_mprn, updateError_mprn] = useState(false);\n  // Button focus animation - MPAN\n  const [focusAnimationMpan, setFocusAnimationMpan] = useState(false);\n  // Button focus animation - MPRN\n  const [focusAnimationMprn, setFocusAnimationMprn] = useState(false);\n\n  /* FUNCTIONS */\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Variables\n  const mpan = customerAddres.mpan;\n  const mprn = customerAddres.mprn;\n  const supplier_mpid = electricityInformation.MPANDetails.supplier_mpid;\n  const current_supplier_id = gasInformation.dataGas.current_supplier_id;\n  const dual_active = customerInformation.fuel_description.dual_active;\n  const gas_only = customerInformation.fuel_description.gas_only;\n  const elec_only = customerInformation.fuel_description.elec_only;\n  const same_supplier = customerInformation.fuel_description.same_supplier;\n  const postcode_formatted = customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase();\n  const doornumber_formatted = customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n  const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n  // Function to check if the first request to the ECOES API comes with data\n  useEffect(() => {\n    if (supplier_mpid !== '') {\n      updateSearchByMPAN(false);\n    } else {\n      updateSearchByMPAN(true);\n    }\n  }, []);\n\n  // Function to check if the first request to the XOSERVE API comes with data\n  useEffect(() => {\n    if (current_supplier_id !== '') {\n      updateSearchByMPRN(false);\n    } else {\n      updateSearchByMPRN(true);\n    }\n  }, []);\n\n  // Function that runs every time the user writes to the input\n  const handleChange = (e) => {\n    // Update valus for MPAN and MPRN\n    updateCustomerAddress({\n      ...customerAddres,\n      [e.target.name]: e.target.value.replace(/[^\\w\\s]/gi, '').trim(),\n    });\n  };\n\n  // Go to Supply Information\n  const goToSupplyInformation = async (e) => {\n    e.preventDefault();\n\n    // Show Overlay\n    updateShowOverlay(true);\n\n    /**-- Swal alert-- */\n    const swal_es = () => {\n      swal({\n        closeOnClickOutside: false,\n        buttons: {\n          cancel: {\n            text: \"Go back\",\n            value: false,\n            visible: true\n          }\n        },\n        content: (\n          <div className=\"swal-text-custom\">\n            <IconContext.Provider value={{ color: '#D338AE', size: '50px' }}>\n              <ImSad />\n            </IconContext.Provider>\n            <h1>No results found for electricity supplier...</h1>\n          </div>\n        )\n      });\n    }\n\n    const swal_gs = () => {\n      swal({\n        closeOnClickOutside: false,\n        buttons: {\n          cancel: {\n            text: \"Go back\",\n            value: false,\n            visible: true\n          }\n        },\n        content: (\n          <div className=\"swal-text-custom\">\n            <IconContext.Provider value={{ color: '#D338AE', size: '50px' }}>\n              <ImSad />\n            </IconContext.Provider>\n            <h1>No results found for gas supplier...</h1>\n          </div>\n        )\n      });\n    }\n\n    const swal_es_gs = () => {\n      swal({\n        closeOnClickOutside: false,\n        buttons: {\n          cancel: {\n            text: \"Go back\",\n            value: false,\n            visible: true\n          }\n        },\n        content: (\n          <div className=\"swal-text-custom\">\n            <IconContext.Provider value={{ color: '#D338AE', size: '50px' }}>\n              <ImSad />\n            </IconContext.Provider>\n            <h1>No results found...</h1>\n          </div>\n        )\n      });\n    }\n\n    let dispatch_swal_es;\n    let dispatch_swal_gs;\n\n    // Conditional Swal ES\n    const swal_checker_es = (swal_es_dispatch) => {\n      dispatch_swal_es = swal_es_dispatch;\n      return swal_es_dispatch;\n    }\n\n    // Conditional Swal GS\n    const swal_checker_gs = (swal_gs_dispatch) => {\n      dispatch_swal_gs = swal_gs_dispatch;\n      return swal_gs_dispatch\n    }\n\n    // ecoes_api\n    const ecoes_api = process.env.REACT_APP_ECOES_API;\n    // xoserve_api\n    const xoserve_api = process.env.REACT_APP_XOSERVE_API;\n\n    // Fetch ECOES API\n    if (searchByMPAN) {\n      if (mpan !== '') {\n        // MPAN Validation - MinLength = 13 digits\n        if (mpan.length < 13) {\n          if ((mpan.length < 13) && ((mprn.length < 10))) {\n            // Show error MPAN\n            updateError_mpan(true);\n            // Show error MPRN\n            updateError_mprn(true);\n\n            if (mprn.length === 0) {\n              // Hidde error MPRN\n              updateError_mprn(false);\n            }\n          } else {\n            // Show error MPAN\n            updateError_mpan(true);\n          }\n\n          // Hidde Overlay\n          updateShowOverlay(false);\n          return;\n        }\n\n        /**-- Response ECOES DETAILS by MPAN--  */\n        // Body parameters\n        const detailsParameters = {\n          \"Authentication\": {\n            \"Key\": ecoes_api\n          },\n          \"ParameterSets\": [{\n            \"Parameters\": [{\n              \"Key\": \"MPAN\",\n              \"Value\": mpan\n            }]\n          }]\n        }\n\n        const responseECOESDetails = await fetch('https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/GetTechnicalDetailsByMpan', {\n          method: 'POST',\n          body: JSON.stringify(detailsParameters),\n          headers: {\n            'Content-Type': 'application/json'\n          },\n        }).then(function (response) {\n          if (response.status === 200) {\n            return response.json();\n          } else {\n            return console.error('An error ocurred fetching to GetTechnicalDetailsByMpan');\n          }\n        }).then(function (response) {\n          if (response !== undefined) {\n            // Error response\n            const error_response = response.Results[0].Errors.length;\n            // Check values and return \n            if (error_response >= 1) {\n              // Electricity Infomartion values\n              const MPANDetails = {\n                mpan_core: '',\n                meter_serial_number: '',\n                meter_type: '',\n                supplier_mpid: ''\n              }\n\n              // Update the state\n              updateElectricityInformation({ ...electricityInformation, MPANDetails });\n            } else {\n              // Extract the values from the response\n              const meter_serial_number = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[1].Value;\n              const meter_type = response.Results[0].UtilityMatches[0].Meters[0].MeterDetails[2].Value;\n              const supplier_mpid = response.Results[0].UtilityMatches[0].UtilityDetails[11].Value;\n              // Assign values\n              const MPANDetails = {\n                mpan_core: mpan,\n                meter_serial_number,\n                meter_type,\n                supplier_mpid\n              }\n              // Update the state\n              updateElectricityInformation({ ...electricityInformation, MPANDetails });\n            }\n          } else {\n            // Show alert\n            swal_checker_es(true);\n\n            // Electricity Infomartion values\n            const MPANDetails = {\n              mpan_core: '',\n              meter_serial_number: '',\n              meter_type: '',\n              supplier_mpid: ''\n            }\n            // Update the state\n            return updateElectricityInformation({ ...electricityInformation, MPANDetails });\n          }\n        }).catch(error => {\n          console.error(error);\n          // Show alert\n          swal_checker_es(true);\n        });\n      }\n    }\n\n    // Fetch XOSERVE API\n    if (serachByMPRN) {\n      if (mprn !== '') {\n        // MPRN Validation - MinLength = 10 digits\n        if (mprn.length < 10) {\n          if ((mprn.length < 10) && ((mpan.length < 13))) {\n            // Show error MPRN\n            updateError_mprn(true);\n            // Show error MPAN\n            updateError_mpan(true);\n\n            if (mpan.length === 0) {\n              // Hidde error MPAN\n              updateError_mpan(false);\n            }\n          } else {\n            // Show error MPRN\n            updateError_mprn(true);\n          }\n\n          // Hidde Overlay\n          updateShowOverlay(false);\n          return;\n        }\n\n        /** -- XOSERVE API -- */\n        const responseXOSERVE = await fetch(`https://cors-anywhere.herokuapp.com/https://xoserve.apimanagement.hana.ondemand.com:443/v1/switchdataTBB.svc?&mprn='${mprn}'`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'APIKey': xoserve_api\n          },\n        }).then(function (response) {\n          if (response.status === 200) {\n            return response.json();\n          } else {\n            updateGasInformation({\n              ...gasInformation,\n              dataGas: {\n                mprn: '',\n                meter_mechanism_code: '',\n                current_supplier_id: '',\n                gas_transport_id: ''\n              }\n            });\n            return console.error('An error ocurred fetching to Xoserve switchdataTBB');\n          }\n        }).then(function (response) {\n          // console.log(response);\n          // If exist information about the property \n          const success = response.hasOwnProperty('mprn');\n\n          if (success === true) {\n            const dataGas = response.mprn[0];\n            const mprn_core = response.mprn[0].mprn;\n            updateGasInformation({ ...gasInformation, dataGas });\n            return mprn_core;\n          } else {\n            // Show alert\n            swal_checker_gs(true);\n            return updateGasInformation({\n              ...gasInformation,\n              dataGas: {\n                mprn: '',\n                meter_mechanism_code: '',\n                current_supplier_id: '',\n                gas_transport_id: ''\n              }\n            });\n          }\n        }).catch(function (error) {\n          // Show alert\n          swal_checker_gs(true);\n          return console.error('Catch an error fetching to Xoserve switchdataTBB:' + ' ' + error);\n        });\n      }\n    }\n\n    if ((dispatch_swal_es && dispatch_swal_gs) === true) {\n      swal_es_gs();\n    } else {\n      if (dispatch_swal_es === true) {\n        swal_es();\n      }\n\n      if (dispatch_swal_gs === true) {\n        swal_gs();\n      }\n    }\n    // Update progress bar\n    updateProgressBar({\n      ...progressBar,\n      step: 4\n    });\n    // Hidde MPAN/MPRN\n    updateShowFormMpanMprn(false);\n    // Show Overlay\n    updateShowOverlay(false);\n    // Show Form Supply\n    updateShowFormSupply(true);\n  }\n\n  const goBack = (e) => {\n    e.preventDefault();\n\n    // Update progress bar\n    updateProgressBar({\n      ...progressBar,\n      step: 2\n    });\n    // Update state\n    const copy_customerInformation = { ...customerInformation };\n    delete copy_customerInformation['fuel_description'];\n    updateCustomerInformation({\n      ...copy_customerInformation\n    });\n    // Hidde error \n    updateError_mpan(false);\n    updateError_mprn(false);\n    // Hidde MPAN/MPRN\n    updateShowFormMpanMprn(false);\n    // Show Fuetl Type\n    updateShowFomrFuelType(true);\n\n    /**-- Firebase --*/\n\n    // Update customer information in firebase\n    db.collection(\"customers\").doc(uid).set({\n      created: firebase.firestore.FieldValue.serverTimestamp(),\n      step: 2,\n      customerAddres: {\n        doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n        addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n        addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n        city: customerAddres.city ? customerAddres.city : '',\n        postcode: customerAddres.postcode ? customerAddres.postcode : '',\n        mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n        mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n      },\n      MPANDetails: {\n        meter_serial_number: electricityInformation.MPANDetails.meter_serial_number ? electricityInformation.MPANDetails.meter_serial_number : '',\n        meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n        mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n        supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : ''\n      },\n      dataGas: {\n        mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n        meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n        current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n        gas_transport_id: gasInformation.dataGas.gas_transport_id ? gasInformation.dataGas.gas_transport_id : ''\n      }\n    });\n  }\n\n  return (\n    <>\n      <section className=\"form-mpanmprn-section\">\n        <div className=\"form-mpanmprn-container\">\n          <div className=\"form-mpanmprn-content\">\n            <div className=\"form-mpanmprn\">\n              <div>\n                <h1>We need your {elec_only ? 'MPAN' : null} {gas_only ? 'MPRN' : null} {dual_active ? same_supplier ? \"MPAN\" : 'MPAN & MPRN' : null}</h1>\n\n                {/* Elec only */}\n                {elec_only ?\n                  (\n                    <>\n                      <p>Meter Point Administration Number (MPAN)</p>\n                      <div className=\"form-mpanmprn-input-container\">\n                        <input type=\"text\" className=\"form-mpanmprn-input\" name=\"mpan\" placeholder={mpan === '' ? 'Introduce MPAN' : ''} value={mpan} onChange={(e) => handleChange(e)} disabled={editMPAN} onPointerDown={() => editMPAN ? setFocusAnimationMpan(!focusAnimationMpan) : null} />\n                        <FaRegEdit className={focusAnimationMpan ? 'edit-search-icon animate__animated animate__headShake': 'edit-search-icon'} onClick={() => updateEditMPAN(!editMPAN)} />\n                        {/* <i className=\"edit-icon far fa-edit\" onClick={() => updateEditMPAN(!editMPAN)}></i> */}\n                      </div>\n\n                      {error_mpan ? (\n                        <Error message={'Please, enter a valid MPAN number.'} />\n                      ) : null}\n                    </>\n                  )\n                  :\n                  null\n                }\n\n                {/* Gas only */}\n                {gas_only ?\n                  (\n                    <>\n                      <p>Meter Point Reference Number (MPRN)</p>\n                      <div className=\"form-mpanmprn-input-container\">\n                        <input type=\"text\" className=\"form-mpanmprn-input\" name=\"mprn\" placeholder={mprn === '' ? 'Introduce MPRN' : ''} value={mprn} onChange={(e) => handleChange(e)} disabled={editMPRN} onPointerDown={() => editMPRN ? setFocusAnimationMprn(!focusAnimationMprn) : null} />\n                        <FaRegEdit className={focusAnimationMprn ? 'edit-search-icon animate__animated animate__headShake': 'edit-search-icon'} onClick={() => updateEditMPRN(!editMPRN)} />\n                        {/* <i className=\"edit-icon far fa-edit\" onClick={() => updateEditMPRN(!editMPRN)}></i> */}\n                      </div>\n\n                      {error_mprn ? (\n                        <Error message={'Please, enter a valid MPRN number.'} />\n                      ) : null}\n                    </>\n                  )\n                  :\n                  null\n                }\n\n                {/* Dual tariff */}\n                {dual_active ?\n                  // Same supplier\n                  same_supplier ?\n                    (\n                      <>\n                        <p>Meter Point Administration Number (MPAN)</p>\n                        <div className=\"form-mpanmprn-input-container\">\n                          <input type=\"text\" className=\"form-mpanmprn-input\" name=\"mpan\" placeholder={mpan === '' ? 'Introduce MPAN' : ''} value={mpan} onChange={(e) => handleChange(e)} disabled={editMPAN} onPointerDown={() => editMPAN ? setFocusAnimationMpan(!focusAnimationMpan) : null} />\n                          <FaRegEdit className={focusAnimationMpan ? 'edit-search-icon animate__animated animate__headShake': 'edit-search-icon'} onClick={() => updateEditMPAN(!editMPAN)} />\n                          {/* <i className=\"edit-icon far fa-edit\" onClick={() => updateEditMPAN(!editMPAN)}></i> */}\n                        </div>\n\n                        {error_mpan ? (\n                          <Error message={'Please, enter a valid MPAN number.'} />\n                        ) : null}\n                      </>\n                    )\n                    :\n                    // Different suppliers\n                    (\n                      <>\n                        <p>Meter Point Administration Number (MPAN)</p>\n                        <div className=\"form-mpanmprn-input-container\">\n                          <input type=\"text\" className=\"form-mpanmprn-input\" name=\"mpan\" placeholder={mpan === '' ? 'Introduce MPAN' : ''} value={mpan} onChange={(e) => handleChange(e)} disabled={editMPAN} onPointerDown={() => editMPAN ? setFocusAnimationMpan(!focusAnimationMpan) : null} />\n                          <FaRegEdit className={focusAnimationMpan ? 'edit-search-icon animate__animated animate__headShake': 'edit-search-icon'} onClick={() => updateEditMPAN(!editMPAN)} />\n                          {/* <i className=\"edit-icon far fa-edit\" onClick={() => updateEditMPAN(!editMPAN)}></i> */}\n                        </div>\n\n                        {error_mpan ? (\n                          <Error message={'Please, enter a valid MPAN number.'} />\n                        ) : null}\n\n                        <p>Meter Point Reference Number (MPRN)</p>\n                        <div className=\"form-mpanmprn-input-container\">\n                          <input type=\"text\" className=\"form-mpanmprn-input\" name=\"mprn\" placeholder={mprn === '' ? 'Introduce MPRN' : ''} value={mprn} onChange={(e) => handleChange(e)} disabled={editMPRN} onPointerDown={() => editMPRN ? setFocusAnimationMprn(!focusAnimationMprn) : null} />\n                          <FaRegEdit className={focusAnimationMprn ? 'edit-search-icon animate__animated animate__headShake': 'edit-search-icon'} onClick={() => updateEditMPRN(!editMPRN)} />\n                          {/* <i className=\"edit-icon far fa-edit\" onClick={() => updateEditMPRN(!editMPRN)}></i> */}\n                        </div>\n\n                        {error_mprn ? (\n                          <Error message={'Please, enter a valid MPRN number.'} />\n                        ) : null}\n                      </>\n                    )\n                  :\n                  null\n                }\n\n              </div>\n              {/* Image */}\n              <div className=\"form-mpanmprn-img\">\n                <img src={Search} alt=\"\" width=\"80\" />\n              </div>\n            </div>\n\n            {/* Buttons */}\n            <div className=\"form-mpanmprn-btn-container\">\n              <button className=\"form-mpanmprn-btn btn-back\" onClick={(e) => goBack(e)}>\n                <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                  <IoMdArrowDropleft className=\"icon-back\" />\n                </IconContext.Provider>\n                Go back\n              </button>\n\n              <button data-cy=\"mpanmprn-continue\" className=\"form-mpanmprn-btn btn-next\" onClick={(e) => goToSupplyInformation(e)}>\n                Continue\n                <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                  <IoMdArrowDropright className=\"icon-next\" />\n                </IconContext.Provider>\n              </button>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"helper-mpanmprn\">\n                <div className=\"script-mpanmprn\">\n                  <FormScript step={4} />\n                </div>\n\n                <div className=\"assistant-mpanmprn-custom\">\n                  <FormAssistant tips={3} />\n                </div>\n              </div>\n            )\n            :\n            <div style={{ width: '100%' }}>\n              <div className=\"assistant-mpanmprn\">\n                <FormAssistant tips={3} />\n              </div>\n            </div>\n          }\n\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default FormMpanMprn;\n"]},"metadata":{},"sourceType":"module"}