{"ast":null,"code":"import _regeneratorRuntime from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";// CSS\nimport\"./FormDetails.css\";import{IconContext}from\"react-icons\";import{IoMdArrowDropright,IoMdArrowDropleft}from'react-icons/io';// Utils\nimport{validateEmail}from'../../../utils/utils';// Phone Number Validation\nimport{isValidPhoneNumber,parsePhoneNumber}from'libphonenumber-js';// Components\nimport Error from'../../Error/Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FormDetails=function FormDetails(_ref){var customerInformation=_ref.customerInformation,progressBar=_ref.progressBar,updateCustomerInformation=_ref.updateCustomerInformation,updateShowFormCompare=_ref.updateShowFormCompare,updateShowFormDetails=_ref.updateShowFormDetails,updateShowFormBankDetails=_ref.updateShowFormBankDetails,updateProgressBar=_ref.updateProgressBar,updateShowOverlay=_ref.updateShowOverlay;/** STATES */ // disableInput\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),disableInput=_useState2[0],updateDisableInput=_useState2[1];// Scroll to top\nuseEffect(function(){window.scrollTo({top:0,behavior:'smooth'});},[]);// Error State\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],updateError=_useState4[1];var _useState5=useState({message:''}),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];// Variables\nvar _customerInformation$=customerInformation.customerAddres,doornumber=_customerInformation$.doornumber,addressline1=_customerInformation$.addressline1,addressline2=_customerInformation$.addressline2,city=_customerInformation$.city,postcode=_customerInformation$.postcode;var _customerInformation$2=customerInformation.switching_details.supplier_selected,tariff_name=_customerInformation$2.tariff_name,exit_fees=_customerInformation$2.exit_fees,monthly_cost=_customerInformation$2.monthly_cost;var _customerInformation$3=customerInformation.debt,debt_apply=_customerInformation$3.debt_apply,debt_amount=_customerInformation$3.debt_amount;// console.log('Desde');\n// console.log(customerInformation);\n/** FUNCTIONS */ // Error smooth scroll\nuseEffect(function(){if(error){var scroll_to=function scroll_to(){var element=document.querySelector(\"#error\");// smooth scroll to element and align it at the bottom\nelement.scrollIntoView({behavior:\"smooth\",block:\"end\",inline:\"end\"});};scroll_to();}},[error]);// Function that runs every time the user writes to the input\nvar handleChange=function handleChange(e){// Hidde error\nupdateError(false);// Update Customer details\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{customerDetails:_objectSpread(_objectSpread({},customerInformation.customerDetails),{},_defineProperty({},e.target.name,e.target.value))}));};// Verify button\nvar verifyCustomer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var phone;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// Show Overlay\nupdateShowOverlay(true);phone={'phone':customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g,'').trim().toString()};_context.next=5;return fetch('https://zohosdkfunction.azurewebsites.net/api/httptrigger1?method=verify',{method:'POST',body:JSON.stringify(phone),headers:{'Content-Type':'application/json'}}).then(function(response){if(response.status!==200){return Promise.reject(response.json());}return response.json();}).then(function(response){// console.log(response);\nif(response.status!==200){// Disable input\nupdateDisableInput(false);return Promise.reject(response);}// Update Customer details\n// Update Customer details\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{customerDetails:_objectSpread(_objectSpread({},customerInformation.customerDetails),{},{first_name:response.first_name?response.first_name:'',last_name:response.last_name?response.last_name:'',email:response.email?response.email:'',phone:response.phone?response.phone:''}),bankDetails:{account_holder:'',account_number:'',sort_code:''}}));// Disable input\n// Disable input\nupdateDisableInput(true);}).catch(function(error){console.error('Error: ',error);// Update Customer details\n// Update Customer details\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{customerDetails:_objectSpread(_objectSpread({},customerInformation.customerDetails),{},{first_name:'',last_name:'',email:'',phone:phone.phone}),bankDetails:{account_holder:'',account_number:'',sort_code:''}}));});case 5:// Hide Overlay\nupdateShowOverlay(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function verifyCustomer(_x){return _ref2.apply(this,arguments);};}();// Edit button\nvar editCustomer=function editCustomer(e){e.preventDefault();// Update disable input\nupdateDisableInput(false);};// goToBankDetails\nvar goToBankDetails=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _customerInformation$4,first_name,last_name,email,phone,first_name_validated,last_name_validated,email_validated,phone_validated,parsedPhoneNumber,phoneNumber,customerObj,url;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();// Customer Details\n_customerInformation$4=customerInformation.customerDetails,first_name=_customerInformation$4.first_name,last_name=_customerInformation$4.last_name,email=_customerInformation$4.email,phone=_customerInformation$4.phone;// Validated details\nfirst_name_validated=first_name.replace(/[^a-zA-Z ]/g,\"\").trim();last_name_validated=last_name.replace(/[^a-zA-Z ]/g,\"\").trim();email_validated=email.replace(/[^A-Za-z0-9|@.-]/g,\"\").trim();phone_validated=phone.replace(/[^0-9\\.]+/g,'').trim().toString();// Validate email\nif(validateEmail(email_validated)){_context2.next=10;break;}// Set error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:'Please introduce a valid email address'}));// Show error\nupdateError(true);return _context2.abrupt(\"return\");case 10:;console.log(phone_validated);// Validate phone number length\nif(!(phone_validated.length<=10||phone_validated.length>12)){_context2.next=16;break;}// Set error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:'Please introduce a valid phone number'}));// Show Error\nupdateError(true);return _context2.abrupt(\"return\");case 16:;// Phone number parsed\nparsedPhoneNumber=parsePhoneNumber(phone_validated,'GB');// Phone number\nphoneNumber=parsedPhoneNumber.number;// Phone number validation\nif(isValidPhoneNumber(phoneNumber,'GB')){_context2.next=23;break;}// Set error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:'Please introduce a valid phone number'}));// Show Error\nupdateError(true);return _context2.abrupt(\"return\");case 23:;// Validation\nif(!(!first_name_validated||!last_name_validated||!email_validated||!phone_validated)){_context2.next=28;break;}// Set error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:'All fields are required'}));// Show Error\nupdateError(true);return _context2.abrupt(\"return\");case 28:;if(disableInput){_context2.next=37;break;}// Show Overlay\nupdateShowOverlay(true);// Customer Object\ncustomerObj={\"fullname\":\"\".concat(first_name_validated,\" \").concat(last_name_validated),\"email\":email_validated,\"phone\":phoneNumber,\"authorised_by\":customerInformation.agent.email};console.log(customerObj);// Endpoint\nurl='https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=createContact';// Fetch Create contact\n_context2.next=36;return fetch(url,{method:'POST',body:JSON.stringify(customerObj),headers:{'Content-Type':'application/json'}}).then(function(response){console.log(response);return response.json();}).then(function(response){console.log(response);return response;}).catch(function(error){console.error(\"Catch an error fetching to postcoder \".concat(error));});case 36:// Hide Overlay\nupdateShowOverlay(false);case 37:// Update Customer details\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{customerDetails:_objectSpread(_objectSpread({},customerInformation.customerDetails),{},{first_name:first_name_validated,last_name:last_name_validated,email:email_validated,phone:phoneNumber.replace(/[^0-9\\.]+/g,'')}),bankDetails:{account_holder:'',account_number:'',sort_code:''}}));// Update Error\nupdateError(false);// Hide Form Customer details\nupdateShowFormDetails(false);// Update Progress Bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:10}));// Show Bank Details\nupdateShowFormBankDetails(true);case 42:case\"end\":return _context2.stop();}}},_callee2);}));return function goToBankDetails(_x2){return _ref3.apply(this,arguments);};}();// goToCompareSection\nvar goToCompareSection=function goToCompareSection(e){e.preventDefault();// Delete Switching details\nvar copy_customer_switching=_objectSpread({},customerInformation);delete copy_customer_switching['switching_details'];delete copy_customer_switching['customerDetails'];// Update customer information\nupdateCustomerInformation(_objectSpread({},copy_customer_switching));// Update Error\nupdateError(false);// Hide Customer details\nupdateShowFormDetails(false);// Update Progress Bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:8}));// Show compare section \nupdateShowFormCompare(true);};// UseEffect - conditional disable state\nuseEffect(function(){if(!customerInformation.customerDetails.first_name||!customerInformation.customerDetails.last_name||!customerInformation.customerDetails.email||!customerInformation.customerDetails.phone){// Update disable input\nupdateDisableInput(false);}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"form-details-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-details\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Customer Details\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum dicta libero tenetur commodi id? Eius aperiam illo voluptatem fuga nobis nulla vitae obcaecati. Rerum doloribus veniam accusamus ad quibusdam sequi!\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-details-input-container\",onSubmit:function onSubmit(e){return goToBankDetails(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-input-content-custom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-input-element-custom\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"firstName\",children:[\"First Name\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"first_name\",onChange:handleChange,value:customerInformation.customerDetails.first_name.replace(/[^a-zA-Z ]/g,\"\")||'',disabled:disableInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-input-element-custom\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"lastName\",children:[\"Last Name\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"last_name\",onChange:handleChange,value:customerInformation.customerDetails.last_name.replace(/[^a-zA-Z ]/g,\"\")||'',disabled:disableInput})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-input-element\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"emailAddress\",children:[\"Email address\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"emailAddress\",name:\"email\",onChange:handleChange,value:customerInformation.customerDetails.email.replace(/[^A-Za-z0-9|@.-]/g,\"\")||'',disabled:disableInput,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-input-content-custom\",style:error?{marginBottom:'1.9rem'}:null,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-input-element-custom\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"phoneNumber\",children:[\"Phone Number\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phoneNumber\",name:\"phone\",onChange:handleChange,value:customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g,'')||'',disabled:disableInput,required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-details-btn-container-custom\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"form-details-btn-custom\",type:\"button\",disabled:disableInput,onClick:function onClick(e){return verifyCustomer(e);},children:\"Verify\"}),/*#__PURE__*/_jsx(\"button\",{className:\"form-details-btn-custom\",type:\"button\",onClick:function onClick(e){return editCustomer(e);},children:\"Edit\"})]})})]}),error?/*#__PURE__*/ // <Error message={ errorEmail ? 'Please introduce a valid email address' : 'All fields are required, please check'} />\n_jsx(Error,{message:errorMessage.message}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"form-details-btn-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"form-details-btn btn-back\",onClick:function onClick(e){return goToCompareSection(e);},children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#D338AE',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropleft,{className:\"icon-back\"})}),\"Go back\"]}),/*#__PURE__*/_jsxs(\"button\",{\"data-cy\":\"addrtyped-continue\",className:\"form-details-btn btn-next\",children:[\"Continue\",/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#FFF',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropright,{className:\"icon-next\"})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Customer Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Door number:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:doornumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Address line 1:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:addressline1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Address line 2:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:addressline2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"City:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:city})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Postcode:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:postcode})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"About your chosen plan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Plan name:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:tariff_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Annual saving:\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA3\"}),148]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Early exit fee:\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA3\"}),exit_fees]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Contract length:\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-end\",children:[24,\" months\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Monthly direct debit:\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA3\"}),monthly_cost]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-summary-element\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Existing debt:\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:debt_apply?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA3\"}),debt_amount]}):'N/A'})]})]})]})]})]})})});};export default FormDetails;","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormDetails/FormDetails.jsx"],"names":["React","useState","useEffect","IconContext","IoMdArrowDropright","IoMdArrowDropleft","validateEmail","isValidPhoneNumber","parsePhoneNumber","Error","FormDetails","customerInformation","progressBar","updateCustomerInformation","updateShowFormCompare","updateShowFormDetails","updateShowFormBankDetails","updateProgressBar","updateShowOverlay","disableInput","updateDisableInput","window","scrollTo","top","behavior","error","updateError","message","errorMessage","setErrorMessage","customerAddres","doornumber","addressline1","addressline2","city","postcode","switching_details","supplier_selected","tariff_name","exit_fees","monthly_cost","debt","debt_apply","debt_amount","scroll_to","element","document","querySelector","scrollIntoView","block","inline","handleChange","e","customerDetails","target","name","value","verifyCustomer","preventDefault","phone","replace","trim","toString","fetch","method","body","JSON","stringify","headers","then","response","status","Promise","reject","json","first_name","last_name","email","bankDetails","account_holder","account_number","sort_code","catch","console","editCustomer","goToBankDetails","first_name_validated","last_name_validated","email_validated","phone_validated","log","length","parsedPhoneNumber","phoneNumber","number","customerObj","agent","url","step","goToCompareSection","copy_customer_switching","marginBottom","color","size"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// CSS\nimport \"./FormDetails.css\";\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropright, IoMdArrowDropleft } from 'react-icons/io';\n// Utils\nimport { validateEmail } from '../../../utils/utils';\n// Phone Number Validation\nimport { isValidPhoneNumber, parsePhoneNumber } from 'libphonenumber-js';\n// Components\nimport Error from '../../Error/Error';\n\nconst FormDetails = ({ customerInformation, progressBar, updateCustomerInformation, updateShowFormCompare, updateShowFormDetails, updateShowFormBankDetails, updateProgressBar, updateShowOverlay }) => {\n\n    /** STATES */\n    // disableInput\n    const [disableInput, updateDisableInput] = useState(true);\n\n    // Scroll to top\n    useEffect(() => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    }, []);\n\n    // Error State\n    const [error, updateError] = useState(false);\n    const [errorMessage, setErrorMessage] = useState({\n        message: ''\n    });\n\n    // Variables\n    const { doornumber, addressline1, addressline2, city, postcode } = customerInformation.customerAddres;\n    const { tariff_name, exit_fees, monthly_cost } = customerInformation.switching_details.supplier_selected;\n    const { debt_apply, debt_amount } = customerInformation.debt;\n\n    // console.log('Desde');\n    // console.log(customerInformation);\n\n    /** FUNCTIONS */\n\n    // Error smooth scroll\n    useEffect(() => {\n        if (error) {\n            const scroll_to = () => {\n                var element = document.querySelector(\"#error\");\n                // smooth scroll to element and align it at the bottom\n                element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"end\" });\n            }\n\n            scroll_to();\n        }\n    }, [error]);\n\n    // Function that runs every time the user writes to the input\n    const handleChange = (e) => {\n        // Hidde error\n        updateError(false);\n        // Update Customer details\n        updateCustomerInformation({\n            ...customerInformation,\n            customerDetails: {\n                ...customerInformation.customerDetails,\n                [e.target.name]: e.target.value\n            }\n        });\n    };\n\n    // Verify button\n    const verifyCustomer = async (e) => {\n        e.preventDefault();\n\n        // Show Overlay\n        updateShowOverlay(true);\n\n        let phone = { 'phone': customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g, '').trim().toString() };\n\n        await fetch('https://zohosdkfunction.azurewebsites.net/api/httptrigger1?method=verify', {\n            method: 'POST',\n            body: JSON.stringify(phone),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then((response) => {\n            if (response.status !== 200) {\n                return Promise.reject(response.json());\n            }\n\n            return response.json();\n\n        }).then((response) => {\n            // console.log(response);\n            if (response.status !== 200) {\n                // Disable input\n                updateDisableInput(false);\n                return Promise.reject(response);\n            }\n            // Update Customer details\n            updateCustomerInformation({\n                ...customerInformation,\n                customerDetails: {\n                    ...customerInformation.customerDetails,\n                    first_name: response.first_name ? response.first_name : '',\n                    last_name: response.last_name ? response.last_name : '',\n                    email: response.email ? response.email : '',\n                    phone: response.phone ? response.phone : ''\n                },\n                bankDetails: {\n                    account_holder: '',\n                    account_number: '',\n                    sort_code: ''\n                }\n            });\n\n            // Disable input\n            updateDisableInput(true);\n\n        }).catch((error) => {\n            console.error('Error: ', error);\n            // Update Customer details\n            updateCustomerInformation({\n                ...customerInformation,\n                customerDetails: {\n                    ...customerInformation.customerDetails,\n                    first_name: '',\n                    last_name: '',\n                    email: '',\n                    phone: phone.phone\n                },\n                bankDetails: {\n                    account_holder: '',\n                    account_number: '',\n                    sort_code: ''\n                }\n            });\n        });\n\n        // Hide Overlay\n        updateShowOverlay(false);\n    }\n\n    // Edit button\n    const editCustomer = (e) => {\n        e.preventDefault();\n\n        // Update disable input\n        updateDisableInput(false);\n    }\n\n    // goToBankDetails\n    const goToBankDetails = async (e) => {\n        e.preventDefault();\n\n        // Customer Details\n        const { first_name, last_name, email, phone } = customerInformation.customerDetails;\n        // Validated details\n        const first_name_validated = first_name.replace(/[^a-zA-Z ]/g, \"\").trim();\n        const last_name_validated = last_name.replace(/[^a-zA-Z ]/g, \"\").trim();\n        const email_validated = email.replace(/[^A-Za-z0-9|@.-]/g, \"\").trim();\n        const phone_validated = phone.replace(/[^0-9\\.]+/g, '').trim().toString();\n\n        // Validate email\n        if (!validateEmail(email_validated)) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'Please introduce a valid email address'\n            });\n            // Show error\n            updateError(true);\n            return;\n        };\n\n        console.log(phone_validated)\n\n        // Validate phone number length\n        if (phone_validated.length <= 10 || phone_validated.length > 12) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'Please introduce a valid phone number'\n            });\n            // Show Error\n            updateError(true);\n            return;\n        };\n\n        // Phone number parsed\n        const parsedPhoneNumber = parsePhoneNumber(phone_validated, 'GB');\n        // Phone number\n        const phoneNumber = parsedPhoneNumber.number;\n\n        // Phone number validation\n        if (!isValidPhoneNumber(phoneNumber, 'GB')) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'Please introduce a valid phone number'\n            });\n            // Show Error\n            updateError(true);\n            return;\n        };\n\n        // Validation\n        if (!first_name_validated || !last_name_validated || !email_validated || !phone_validated) {\n            // Set error message\n            setErrorMessage({\n                ...errorMessage,\n                message: 'All fields are required'\n            });\n            // Show Error\n            updateError(true);\n            return;\n        };\n\n        if (!disableInput) {\n            // Show Overlay\n            updateShowOverlay(true);\n\n            // Customer Object\n            const customerObj = {\n                \"fullname\": `${first_name_validated} ${last_name_validated}`,\n                \"email\": email_validated,\n                \"phone\": phoneNumber,\n                \"authorised_by\": customerInformation.agent.email\n            }\n\n            console.log(customerObj)\n\n            // Endpoint\n            const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=createContact';\n            // Fetch Create contact\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(customerObj),\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n            }).then(function (response) {\n                console.log(response);\n                return response.json();\n\n            }).then(function (response) {\n                console.log(response);\n                return response;\n            }).catch(function (error) {\n                console.error(`Catch an error fetching to postcoder ${error}`);\n            });\n\n            // Hide Overlay\n            updateShowOverlay(false);\n        }\n\n        // Update Customer details\n        updateCustomerInformation({\n            ...customerInformation,\n            customerDetails: {\n                ...customerInformation.customerDetails,\n                first_name: first_name_validated,\n                last_name: last_name_validated,\n                email: email_validated,\n                phone: phoneNumber.replace(/[^0-9\\.]+/g, '')\n            },\n            bankDetails: {\n                account_holder: '',\n                account_number: '',\n                sort_code: ''\n            }\n        });\n\n        // Update Error\n        updateError(false);\n        // Hide Form Customer details\n        updateShowFormDetails(false);\n        // Update Progress Bar\n        updateProgressBar({ ...progressBar, step: 10 });\n        // Show Bank Details\n        updateShowFormBankDetails(true);\n    }\n\n    // goToCompareSection\n    const goToCompareSection = (e) => {\n        e.preventDefault();\n\n        // Delete Switching details\n        const copy_customer_switching = { ...customerInformation };\n        delete copy_customer_switching['switching_details'];\n        delete copy_customer_switching['customerDetails'];\n        // Update customer information\n        updateCustomerInformation({ ...copy_customer_switching });\n        // Update Error\n        updateError(false);\n        // Hide Customer details\n        updateShowFormDetails(false);\n        // Update Progress Bar\n        updateProgressBar({ ...progressBar, step: 8 });\n        // Show compare section \n        updateShowFormCompare(true);\n    }\n\n    // UseEffect - conditional disable state\n    useEffect(() => {\n        if ((!customerInformation.customerDetails.first_name) || (!customerInformation.customerDetails.last_name) || (!customerInformation.customerDetails.email) || (!customerInformation.customerDetails.phone)) {\n            // Update disable input\n            updateDisableInput(false)\n        }\n    }, []);\n\n    return (\n        <>\n            <section className=\"form-details-section\">\n                <div className=\"form-details-container\">\n\n                    {/* Content */}\n                    <div className=\"form-details-content\">\n                        <div className=\"form-details\">\n                            <h1>Customer Details</h1>\n                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum dicta libero tenetur commodi id? Eius aperiam illo voluptatem fuga nobis nulla vitae obcaecati. Rerum doloribus veniam accusamus ad quibusdam sequi!</p>\n                        </div>\n\n                        {/* Inputs */}\n                        <form className=\"form-details-input-container\" onSubmit={(e) => goToBankDetails(e)}>\n                            <div className=\"form-details-input-content-custom\">\n                                <div className=\"form-details-input-element-custom\">\n                                    <label htmlFor=\"firstName\">First Name<span>*</span></label>\n                                    <input type=\"text\" id=\"firstName\" name='first_name' onChange={handleChange} value={customerInformation.customerDetails.first_name.replace(/[^a-zA-Z ]/g, \"\") || ''} disabled={disableInput} />\n                                </div>\n\n                                <div className=\"form-details-input-element-custom\">\n                                    <label htmlFor=\"lastName\">Last Name<span>*</span></label>\n                                    <input type=\"text\" id=\"lastName\" name='last_name' onChange={handleChange} value={customerInformation.customerDetails.last_name.replace(/[^a-zA-Z ]/g, \"\") || ''} disabled={disableInput} />\n                                </div>\n                            </div>\n\n                            <div className=\"form-details-input-element\">\n                                <label htmlFor=\"emailAddress\">Email address<span>*</span></label>\n                                <input type=\"text\" id=\"emailAddress\" name='email' onChange={handleChange} value={customerInformation.customerDetails.email.replace(/[^A-Za-z0-9|@.-]/g, \"\") || ''} disabled={disableInput} required={true} />\n                            </div>\n\n                            <div className=\"form-details-input-content-custom\" style={error ? { marginBottom: '1.9rem' } : null} >\n                                <div className=\"form-details-input-element-custom\">\n                                    <label htmlFor=\"phoneNumber\">Phone Number<span>*</span></label>\n                                    <input type=\"text\" id=\"phoneNumber\" name='phone' onChange={handleChange} value={customerInformation.customerDetails.phone.replace(/[^0-9\\.]+/g, '') || ''} disabled={disableInput} required={true} />\n                                </div>\n\n                                {/* Verify and Edit buttons */}\n                                <div className=\"form-details-btn-container-custom\">\n                                    <div>\n                                        <button className=\"form-details-btn-custom\" type=\"button\" disabled={disableInput} onClick={(e) => verifyCustomer(e)}>Verify</button>\n\n                                        <button className=\"form-details-btn-custom\" type=\"button\" onClick={(e) => editCustomer(e)}>Edit</button>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {error ?\n                                (\n                                    // <Error message={ errorEmail ? 'Please introduce a valid email address' : 'All fields are required, please check'} />\n                                    <Error message={errorMessage.message} />\n                                )\n                                :\n                                null\n                            }\n\n                            {/* Buttons */}\n                            <div className=\"form-details-btn-container\">\n                                <button className=\"form-details-btn btn-back\" onClick={(e) => goToCompareSection(e)}>\n                                    <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                                        <IoMdArrowDropleft className=\"icon-back\" />\n                                    </IconContext.Provider>\n                                    Go back\n                                </button>\n\n                                <button data-cy=\"addrtyped-continue\" className=\"form-details-btn btn-next\">\n                                    Continue\n\n                                    <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                                        <IoMdArrowDropright className=\"icon-next\" />\n                                    </IconContext.Provider>\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n\n                    {/* Summary */}\n                    <div className=\"form-summary-container\">\n                        <h1>Summary</h1>\n\n                        <div className=\"form-summary-section\">\n                            <h2>Customer Information</h2>\n\n                            <div className=\"form-summary-content\">\n                                <div className=\"form-summary-element\">\n                                    <p><span>Door number:</span></p>\n                                    <p className=\"text-end\">{doornumber}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Address line 1:</span></p>\n                                    <p className=\"text-end\">{addressline1}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Address line 2:</span></p>\n                                    <p className=\"text-end\">{addressline2}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>City:</span></p>\n                                    <p className=\"text-end\">{city}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Postcode:</span></p>\n                                    <p className=\"text-end\">{postcode}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <hr />\n\n                        <div className=\"form-summary-section\">\n                            <h2>About your chosen plan</h2>\n\n                            <div className=\"form-summary-content\">\n                                <div className=\"form-summary-element\">\n                                    <p><span>Plan name:</span></p>\n                                    <p className=\"text-end\">{tariff_name}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Annual saving:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{148}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Early exit fee:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{exit_fees}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Contract length:</span></p>\n                                    <p className=\"text-end\">{24} months</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Monthly direct debit:</span></p>\n                                    <p className=\"text-end\"><span>£</span>{monthly_cost}</p>\n                                </div>\n\n                                <div className=\"form-summary-element\">\n                                    <p><span>Existing debt:</span></p>\n                                    <p className=\"text-end\">{debt_apply ? <><span>£</span>{debt_amount}</> : 'N/A'}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n};\n\nexport default FormDetails;\n"]},"metadata":{},"sourceType":"module"}