{"ast":null,"code":"import _regeneratorRuntime from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";// Styles\nimport\"./FormCompare.css\";// Firebase\nimport{db}from\"../../../firebase/firebase\";import firebase from\"firebase/app\";// Data\nimport data_electricity_tariffs from'../../../utilities/data_tariffs/data_tariffs_es/data_electricity_tariffs';import data_gas_tariffs from'../../../utilities/data_tariffs/data_tariff_gs/data_gas_tariffs';import data_dual_tariffs from'../../../utilities/data_tariffs/data_tariff_dual/data_dual_tariffs';// Swal\nimport swal from'@sweetalert/with-react';// Phone Number Validation\nimport{parsePhoneNumber}from'libphonenumber-js';// Icons\nimport{IconContext}from\"react-icons\";import{IoMdArrowDropleft,IoMdArrowDropright}from'react-icons/io';// Components\nimport FormScript from'../FormScript/FormScript';import FormAssistant from\"../FormAssistant/FormAssistant\";import Error from'../../Error/Error';import ReviewStars from'../../ReviewStars/ReviewStars';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FormCompare(_ref){var customerInformation=_ref.customerInformation,user=_ref.user,electricityInformation=_ref.electricityInformation,gasInformation=_ref.gasInformation,avgElec=_ref.avgElec,avgGas=_ref.avgGas,showScript=_ref.showScript,progressBar=_ref.progressBar,updateCustomerInformation=_ref.updateCustomerInformation,updateShowOverlay=_ref.updateShowOverlay,updateShowFormCompare=_ref.updateShowFormCompare,updateShowFormUsageKWH=_ref.updateShowFormUsageKWH,updateShowFormUsageGBP_es=_ref.updateShowFormUsageGBP_es,updateShowFormUsageAVG=_ref.updateShowFormUsageAVG,updateShowFormUsageGAS=_ref.updateShowFormUsageGAS,updateShowFormUsageGBP_gs=_ref.updateShowFormUsageGBP_gs,updateShowFormDetails=_ref.updateShowFormDetails,updateShowFormDebt=_ref.updateShowFormDebt,updateProgressBar=_ref.updateProgressBar;/** STATES */ // Content Loaded state\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),contentLoaded=_useState2[0],updateContentLoaded=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],updateContent=_useState4[1];var _useState5=useState(3),_useState6=_slicedToArray(_useState5,2),array_to=_useState6[0],update_array_to=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),bestMatch=_useState8[0],setBestMatch=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),usage_expended=_useState10[0],update_usage_expended=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),usage_expended_elec=_useState12[0],update_usage_expended_elec=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),usage_expended_gas=_useState14[0],update_usage_expended_gas=_useState14[1];// Error State\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],updateError=_useState16[1];/** FUNCTIONS */ /**---- */ // Function to create a new array without the same supplier\n// Sorted data\n// const sorted_data = sorted_data_desc.filter(function (obj) {\n//   return obj.supplier_code !== 'EDF';\n// });\n/**---- */ // Scroll to top\nuseEffect(function(){window.scrollTo({top:0,behavior:'smooth'});},[]);// Error smooth scroll\nuseEffect(function(){if(error){var scroll_to=function scroll_to(){var element=document.querySelector(\"#error\");// smooth scroll to element and align it at the bottom\nelement.scrollIntoView({behavior:\"smooth\",block:\"end\",inline:\"center\"});};scroll_to();}},[error]);// Data\nvar elec_data=data_electricity_tariffs.tariffs;var gas_data=data_gas_tariffs.tariffs;var dual_data=data_dual_tariffs.tariffs;/** Variables */ // same_supplier\nvar same_supplier=customerInformation.fuel_description.same_supplier;// dual_active\nvar dual_active=customerInformation.fuel_description.dual_active;// gas_only\nvar gas_only=customerInformation.fuel_description.gas_only;// elec_only\nvar elec_only=customerInformation.fuel_description.elec_only;// postcode_formatted\nvar postcode_formatted=customerInformation.customerAddres.postcode.replace(/\\s/g,'').trim().toLowerCase();// doornumber_formatted\nvar doornumber_formatted=customerInformation.customerAddres.doornumber.replace(/\\s/g,'').trim().toLowerCase();// uid\nvar uid=\"\".concat(postcode_formatted,\"-\").concat(doornumber_formatted);// Show more button\nvar up_to=0;var load_more=function load_more(e){e.preventDefault();if(up_to===up_to){up_to=array_to+3;return update_array_to(up_to);}};// Execute Overlay\nuseEffect(function(){// Show Overlay\nupdateShowOverlay(true);},[FormCompare]);// Function to sort the JSON by property\nvar sortByProperty=function sortByProperty(property){return function(a,b){if(a[property]>b[property])return 1;else if(a[property]<b[property])return-1;return 0;};};// Information for elec_only\nuseEffect(function(){// Elec_only\nif(elec_only){// console.log('elec_only');\nif(customerInformation.hasOwnProperty('usage_kwh_description')){// Usage introduced\nvar usage_kwh_expended=customerInformation.usage_kwh_description.usage_kwh_expended;// Period introduced\nvar usage_kwh_period=customerInformation.usage_kwh_description.usage_kwh_period;var usage_by_period=0;if(usage_kwh_period==='annu'){usage_by_period=parseFloat(usage_kwh_expended)*1;}else{usage_by_period=Math.round(parseFloat(usage_kwh_expended)*12);}console.log(customerInformation.tariff_description);console.log(usage_by_period);// Unit rate of tariff selected\nvar tariff_unit_rate=customerInformation.tariff_description.unit_rate;// Usage by period\n// const usage = ((usage_by_period * tariff_unit_rate) / 100);\nvar _usage=usage_by_period*(tariff_unit_rate/100);// Sorted data desc\nvar _sorted_data=elec_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n/**------ */ // Sorted data\n// const sorted_data = sorted_data_desc.filter(function (obj) {\n//   return obj.supplier_code !== 'EDF';\n// });\n/**------ */ // Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data}));// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}if(customerInformation.hasOwnProperty('usage_gbp_description_es')){// Usage introduced\nvar usage_gbp_expended=customerInformation.usage_gbp_description_es.usage_gbp_expended;// Period introduced\nvar usage_gbp_period=customerInformation.usage_gbp_description_es.usage_gbp_period;var _usage_by_period=0;if(usage_gbp_period==='annu'){_usage_by_period=parseFloat(usage_gbp_expended)*1;}else{_usage_by_period=Math.round(parseFloat(usage_gbp_expended)*12);}// Sorted data\nvar _sorted_data2=elec_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n// Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data2}));// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage_by_period}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}if(customerInformation.hasOwnProperty('usage_property_size_es')){// Usage introduced\nvar usage_size_expended=customerInformation.usage_property_size_es.usage_size_expended;// Unit rate of tariff selected\nvar _tariff_unit_rate=customerInformation.tariff_description.unit_rate;// Usage by period\nvar _usage2=usage_size_expended*_tariff_unit_rate/100;// Sorted data\nvar _sorted_data3=elec_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n// Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data3}));// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage2}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}}},[elec_only]);// Information for gas_only\nuseEffect(function(){// Gas_only\nif(gas_only){// console.log('gas_only');\nif(customerInformation.hasOwnProperty('usage_gas_description')){// Usage introduced\nvar usage_kwh_expended=customerInformation.usage_gas_description.usage_kwh_expended;// Period introduced\nvar usage_kwh_period=customerInformation.usage_gas_description.usage_kwh_period;// Usage by period\nvar usage_by_period=0;if(usage_kwh_period==='annu'){usage_by_period=parseFloat(usage_kwh_expended)*1;}else{usage_by_period=Math.round(parseFloat(usage_kwh_expended)*12);}// Unit rate of tariff selected\nvar tariff_unit_rate=customerInformation.tariff_description.unit_rate;// Usage by period\nvar _usage3=usage_by_period*tariff_unit_rate/100;// Sorted data\nvar _sorted_data4=gas_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n// Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data4}));// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage3}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}if(customerInformation.hasOwnProperty('usage_gbp_description_gs')){// Usage introduced\nvar usage_gbp_expended=customerInformation.usage_gbp_description_gs.usage_gbp_expended;// Period introduced\nvar usage_gbp_period=customerInformation.usage_gbp_description_gs.usage_gbp_period;var _usage_by_period2=0;if(usage_gbp_period==='annu'){_usage_by_period2=parseFloat(usage_gbp_expended)*1;}else{_usage_by_period2=Math.round(parseFloat(usage_gbp_expended)*12);}// Sorted data\nvar _sorted_data5=gas_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n// Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data5}));// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage_by_period2}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}if(customerInformation.hasOwnProperty('usage_property_size_gs')){// Usage introduced\nvar usage_size_expended=parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);// Usage introduced for gas\nvar usage_size_expended_gas;// 1 bedroom\nif(usage_size_expended===1800){// Unit rate of tariff selected gas\nusage_size_expended_gas=8000;}// 2 to 3 bedrooms\nif(usage_size_expended===2900){// Unit rate of tariff selected gas\nusage_size_expended_gas=12000;}// 4+ bedrooms\nif(usage_size_expended===4300){// Unit rate of tariff selected gas\nusage_size_expended_gas=17000;}// Unit rate of tariff selected\nvar _tariff_unit_rate2=customerInformation.tariff_description.unit_rate;// Usage by period\nvar _usage4=usage_size_expended_gas*_tariff_unit_rate2/100;// Sorted data\nvar _sorted_data6=gas_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n// Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data6}));// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage4}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}}},[gas_only]);// Information for dual_active\nuseEffect(function(){// Dual active\nif(dual_active){// Sorted data\nvar _sorted_data7=dual_data.sort(sortByProperty(\"monthly_cost\"));// Sort according to monthly cost\n// Add content\nupdateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:_sorted_data7}));if(same_supplier){// Sorted data\n// console.log('Same supplier === true');\n/**- KWH SECTION -*/ // KWH - ELEC\nif(customerInformation.hasOwnProperty('usage_kwh_description')){// Usage introduced\nvar usage_kwh_expended=customerInformation.usage_kwh_description.usage_kwh_expended;// Period introduced\nvar usage_kwh_period=customerInformation.usage_kwh_description.usage_kwh_period;var usage_by_period=0;if(usage_kwh_period==='annu'){usage_by_period=parseFloat(usage_kwh_expended)*1;}else{usage_by_period=Math.round(parseFloat(usage_kwh_expended)*12);}// Unit rate of tariff selected\nvar tariff_unit_rate=customerInformation.tariff_description.unit_rate_elec;// console.log(tariff_unit_rate);\n// Usage by period\nvar _usage_elec=usage_by_period*tariff_unit_rate/100;// Update state\nupdate_usage_expended_elec(_objectSpread(_objectSpread({},usage_expended_elec),{},{usage:_usage_elec}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// KWH - GAS\nif(customerInformation.hasOwnProperty('usage_gas_description')){// Usage introduced\nvar _usage_kwh_expended=customerInformation.usage_gas_description.usage_kwh_expended;// Period introduced\nvar _usage_kwh_period=customerInformation.usage_gas_description.usage_kwh_period;var _usage_by_period3=0;if(_usage_kwh_period==='annu'){_usage_by_period3=parseFloat(_usage_kwh_expended)*1;}else{_usage_by_period3=Math.round(parseFloat(_usage_kwh_expended)*12);}// Unit rate of tariff selected\nvar _tariff_unit_rate3=customerInformation.tariff_description.unit_rate_gas;// console.log(tariff_unit_rate);\n// Usage by period\nvar _usage_gas=_usage_by_period3*_tariff_unit_rate3/100;// console.log(usage_gas);\n// Update state\nupdate_usage_expended_gas(_objectSpread(_objectSpread({},usage_expended_gas),{},{usage:_usage_gas}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}/**- GBP SECTION */ // GBP - ELEC\nif(customerInformation.hasOwnProperty('usage_gbp_description_es')){// Usage introduced\nvar usage_gbp_expended=customerInformation.usage_gbp_description_es.usage_gbp_expended;// Period introduced\nvar usage_gbp_period=customerInformation.usage_gbp_description_es.usage_gbp_period;var _usage_by_period4=0;if(usage_gbp_period==='annu'){_usage_by_period4=parseFloat(usage_gbp_expended)*1;}else{_usage_by_period4=Math.round(parseFloat(usage_gbp_expended)*12);}// // Sorted data\n// const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_elec(_objectSpread(_objectSpread({},usage_expended_elec),{},{usage:_usage_by_period4}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// GBP - GAS\nif(customerInformation.hasOwnProperty('usage_gbp_description_gs')){// Usage introduced\nvar _usage_gbp_expended=customerInformation.usage_gbp_description_gs.usage_gbp_expended;// Period introduced\nvar _usage_gbp_period=customerInformation.usage_gbp_description_gs.usage_gbp_period;var _usage_by_period5=0;if(_usage_gbp_period==='annu'){_usage_by_period5=parseFloat(_usage_gbp_expended)*1;}else{_usage_by_period5=Math.round(parseFloat(_usage_gbp_expended)*12);}// // Sorted data\n// const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_gas(_objectSpread(_objectSpread({},usage_expended_gas),{},{usage:_usage_by_period5}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}/**- PROPERTY SIZE SECTION -*/ // PROPERTY SIZE - ELEC\nif(customerInformation.hasOwnProperty('usage_property_size_es')){// Usage introduced\nvar usage_size_expended=customerInformation.usage_property_size_es.usage_size_expended;// Unit rate of tariff selected\nvar _tariff_unit_rate4=customerInformation.tariff_description.unit_rate_elec;// Usage by period\nvar _usage5=usage_size_expended*_tariff_unit_rate4/100;// // Sorted data\n// const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_elec(_objectSpread(_objectSpread({},usage_expended_elec),{},{usage:_usage5}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// PROPERTY SIZE - GAS\nif(customerInformation.hasOwnProperty('usage_property_size_gs')){// Usage introduceds\nvar _usage_size_expended=parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);// Usage introduced for gas\nvar usage_size_expended_gas;// 1 bedroom\nif(_usage_size_expended===1800){// Unit rate of tariff selected gas\nusage_size_expended_gas=8000;}// 2 to 3 bedrooms\nif(_usage_size_expended===2900){// Unit rate of tariff selected gas\nusage_size_expended_gas=12000;}// 4+ bedrooms\nif(_usage_size_expended===4300){// Unit rate of tariff selected gas\nusage_size_expended_gas=17000;}// console.log(usage_size_expended_gas);\n// Unit rate of tariff selected\nvar _tariff_unit_rate5=customerInformation.tariff_description.unit_rate_gas;// Usage by period\nvar _usage6=usage_size_expended_gas*_tariff_unit_rate5/100;// // Sorted data\n// const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_gas(_objectSpread(_objectSpread({},usage_expended_gas),{},{usage:_usage6}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// PROPERTY_SIZE_DUAL\nif(customerInformation.hasOwnProperty('usage_property_size_dual')){// Usage introduced for elec\nvar usage_size_expended_elec=parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);// Usage introduced for gas\nvar _usage_size_expended_gas;// 1 bedroom\nif(usage_size_expended_elec===1800){// Unit rate of tariff selected gas\n_usage_size_expended_gas=8000;}// 2 to 3 bedrooms\nif(usage_size_expended_elec===2900){// Unit rate of tariff selected gas\n_usage_size_expended_gas=12000;}// 4+ bedrooms\nif(usage_size_expended_elec===4300){// Unit rate of tariff selected gas\n_usage_size_expended_gas=17000;}// Unit rate of tariff selected elec\nvar tariff_unit_rate_elec=customerInformation.tariff_description.unit_rate_elec;// Unit rate of tariff selected gas\nvar tariff_unit_rate_gas=customerInformation.tariff_description.unit_rate_gas;// Usage by period\nvar _usage_elec2=usage_size_expended_elec*tariff_unit_rate_elec/100;var _usage_gas2=_usage_size_expended_gas*tariff_unit_rate_gas/100;var _usage7=_usage_elec2+_usage_gas2;// // Sorted data\n// const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage7}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}}else{// console.log('Same supplier === false');\n/**- KWH SECTION -*/ // KWH - ELEC\nif(customerInformation.hasOwnProperty('usage_kwh_description')){// Usage introduced\nvar _usage_kwh_expended2=customerInformation.usage_kwh_description.usage_kwh_expended;// Period introduced\nvar _usage_kwh_period2=customerInformation.usage_kwh_description.usage_kwh_period;var _usage_by_period6=0;if(_usage_kwh_period2==='annu'){_usage_by_period6=parseFloat(_usage_kwh_expended2)*1;}else{_usage_by_period6=Math.round(parseFloat(_usage_kwh_expended2)*12);}// Unit rate of tariff selected\nvar _tariff_unit_rate_elec=customerInformation.tariff_description_elec.elec_tariff.unit_rate;// Usage by period\nvar _usage_elec3=_usage_by_period6*_tariff_unit_rate_elec/100;// console.log(usage_elec);\n// Update state\nupdate_usage_expended_elec(_objectSpread(_objectSpread({},usage_expended_elec),{},{usage:_usage_elec3}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// KWH - GAS\nif(customerInformation.hasOwnProperty('usage_gas_description')){// Usage introduced\nvar _usage_kwh_expended3=customerInformation.usage_gas_description.usage_kwh_expended;// Period introduced\nvar _usage_kwh_period3=customerInformation.usage_gas_description.usage_kwh_period;var _usage_by_period7=0;if(_usage_kwh_period3==='annu'){_usage_by_period7=parseFloat(_usage_kwh_expended3)*1;}else{_usage_by_period7=Math.round(parseFloat(_usage_kwh_expended3)*12);}// Unit rate of tariff selected\nvar _tariff_unit_rate_gas=customerInformation.tariff_description_gas.gas_tariff.unit_rate;// Usage by period\nvar _usage_gas3=_usage_by_period7*_tariff_unit_rate_gas/100;// console.log(usage_gas);\n// Update state\nupdate_usage_expended_gas(_objectSpread(_objectSpread({},usage_expended_gas),{},{usage:_usage_gas3}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}/**- GBP SECTION */ // GBP - ELEC\nif(customerInformation.hasOwnProperty('usage_gbp_description_es')){// Usage introduced\nvar _usage_gbp_expended2=customerInformation.usage_gbp_description_es.usage_gbp_expended;// Period introduced\nvar _usage_gbp_period2=customerInformation.usage_gbp_description_es.usage_gbp_period;var _usage_by_period8=0;if(_usage_gbp_period2==='annu'){_usage_by_period8=parseFloat(_usage_gbp_expended2)*1;}else{_usage_by_period8=Math.round(parseFloat(_usage_gbp_expended2)*12);}// // Sorted data\n// const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_elec(_objectSpread(_objectSpread({},usage_expended_elec),{},{usage:_usage_by_period8}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// GBP - GAS\nif(customerInformation.hasOwnProperty('usage_gbp_description_gs')){// Usage introduced\nvar _usage_gbp_expended3=customerInformation.usage_gbp_description_gs.usage_gbp_expended;// Period introduced\nvar _usage_gbp_period3=customerInformation.usage_gbp_description_gs.usage_gbp_period;var _usage_by_period9=0;if(_usage_gbp_period3==='annu'){_usage_by_period9=parseFloat(_usage_gbp_expended3)*1;}else{_usage_by_period9=Math.round(parseFloat(_usage_gbp_expended3)*12);}// // Sorted data\n// const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_gas(_objectSpread(_objectSpread({},usage_expended_gas),{},{usage:_usage_by_period9}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}/**- PROPERTY SIZE SECTION -*/ // PROPERTY SIZE - ELEC\nif(customerInformation.hasOwnProperty('usage_property_size_es')){// Usage introduced\nvar _usage_size_expended2=customerInformation.usage_property_size_es.usage_size_expended;// Unit rate of tariff selected\nvar _tariff_unit_rate6=customerInformation.tariff_description_elec.elec_tariff.unit_rate;// Usage by period\nvar _usage8=_usage_size_expended2*_tariff_unit_rate6/100;// // Sorted data\n// const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_elec(_objectSpread(_objectSpread({},usage_expended_elec),{},{usage:_usage8}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// PROPERTY SIZE - GAS\nif(customerInformation.hasOwnProperty('usage_property_size_gs')){// Usage introduceds\nvar _usage_size_expended3=parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);// Usage introduced for gas\nvar _usage_size_expended_gas2;// 1 bedroom\nif(_usage_size_expended3===1800){// Unit rate of tariff selected gas\n_usage_size_expended_gas2=8000;}// 2 to 3 bedrooms\nif(_usage_size_expended3===2900){// Unit rate of tariff selected gas\n_usage_size_expended_gas2=12000;}// 4+ bedrooms\nif(_usage_size_expended3===4300){// Unit rate of tariff selected gas\n_usage_size_expended_gas2=17000;}// console.log(usage_size_expended_gas);\n// Unit rate of tariff selected\nvar _tariff_unit_rate7=customerInformation.tariff_description_gas.gas_tariff.unit_rate;// Usage by period\nvar _usage9=_usage_size_expended_gas2*_tariff_unit_rate7/100;// // Sorted data\n// const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended_gas(_objectSpread(_objectSpread({},usage_expended_gas),{},{usage:_usage9}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}// PROPERTY_SIZE_DUAL\nif(customerInformation.hasOwnProperty('usage_property_size_dual')){// Usage introduced for elec\nvar _usage_size_expended_elec=parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);// Usage introduced for gas\nvar _usage_size_expended_gas3;// 1 bedroom\nif(_usage_size_expended_elec===1800){// Unit rate of tariff selected gas\n_usage_size_expended_gas3=8000;}// 2 to 3 bedrooms\nif(_usage_size_expended_elec===2900){// Unit rate of tariff selected gas\n_usage_size_expended_gas3=12000;}// 4+ bedrooms\nif(_usage_size_expended_elec===4300){// Unit rate of tariff selected gas\n_usage_size_expended_gas3=17000;}// Unit rate of tariff selected elec\nvar _tariff_unit_rate_elec2=customerInformation.tariff_description_elec.elec_tariff.unit_rate;// Unit rate of tariff selected gas\nvar _tariff_unit_rate_gas2=customerInformation.tariff_description_gas.gas_tariff.unit_rate;// Usage by period\nvar _usage_elec4=_usage_size_expended_elec*_tariff_unit_rate_elec2/100;var _usage_gas4=_usage_size_expended_gas3*_tariff_unit_rate_gas2/100;var _usage10=_usage_elec4+_usage_gas4;// // Sorted data\n// const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n// // Add content\n// updateContent({\n//   ...content,\n//   sorted_data\n// });\n// Update state\nupdate_usage_expended(_objectSpread(_objectSpread({},usage_expended),{},{usage:_usage10}));// Show content;\nupdateContentLoaded(true);// Hidde Overlay\nupdateShowOverlay(false);}}}},[dual_active]);// Sorted data\nvar sorted_data=content.sorted_data;// usage\nvar usage=usage_expended.usage;// const usage_gas\nvar usage_gas=usage_expended_gas.usage;// const usage_elec\nvar usage_elec=usage_expended_elec.usage;if(dual_active){if(customerInformation.hasOwnProperty('usage_property_size_dual')){usage=usage_expended.usage;}else{usage=usage_elec+usage_gas;}}// console.log(usage);\n// console.log(usage_elec);\n// console.log(usage_gas);\n// Tariff info button - function to show modal\nvar tariff_info=function tariff_info(e,data){e.preventDefault();swal({className:'swal-modal_custom',content:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-details-info-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-details-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-details-info-img\",children:/*#__PURE__*/_jsx(\"img\",{src:data.supplier_img,alt:\"\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Tariff details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-details-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Supplier: \",/*#__PURE__*/_jsx(\"span\",{children:data.supplier_name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Plan name: \",/*#__PURE__*/_jsx(\"span\",{children:data.tariff_name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsx(ReviewStars,{stars:data.review_rating,customClass:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Early exit fee: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.exit_fees]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Estimated annual cost: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.annual_cost]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Monthly direct debit: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.monthly_cost]})]})})]})]})})})});};// choosePlan button\nvar choosePlan=function choosePlan(e,data){e.preventDefault();// Update Error\nupdateError(false);// ID of card selected\nvar card_id=e.target.id;// Selected card\nvar card_content=document.getElementById(card_id);// Add class active\ncard_content.classList.add('active-card');// Add and remove class\nvar active_class=document.querySelectorAll(\".active-card\");[].forEach.call(active_class,function(el){el.classList.remove(\"active-card\");});card_content.className=\"form-compare-card-content active-card\";// Supplier selected\nvar supplier_selected=content.sorted_data.find(function(element){return element.tariff_id==card_id;});// Switching details\nvar switching_details={supplier_selected:supplier_selected};// Update customer information\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{switching_details:switching_details}));// SWAL\nswal({className:'swal-modal_custom',buttons:{cancel:\"Go back\",confirm:\"Choose plan\"},content:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-details-info-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-details-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-details-info-img\",children:/*#__PURE__*/_jsx(\"img\",{src:data.supplier_img,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-estimated-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-estimated\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Estimated cost\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"form-compare-card-estimated-amount\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA3\"}),(usage-data.annual_cost).toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"(\\xA3\",((usage-data.annual_cost)/12).toFixed(2),\" pm)\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-btn-signup-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"form-compare-card-btn-custom btn-signup\",children:\"Choose plan\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Tariff details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-details-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Supplier: \",/*#__PURE__*/_jsx(\"span\",{children:data.supplier_name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Plan name: \",/*#__PURE__*/_jsx(\"span\",{children:data.tariff_name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsx(ReviewStars,{stars:data.review_rating,customClass:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Early exit fee: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.exit_fees]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Estimated annual cost: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.annual_cost]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-single-details\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Monthly direct debit: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.monthly_cost]})]})})]})]})})})}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(result){var agentEmail,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(result!==true)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!(!!customerInformation.hasOwnProperty('switching_details')===false)){_context.next=5;break;}// Update Error\nupdateError(true);return _context.abrupt(\"return\");case 5://Show Overlay\nupdateShowOverlay(true);// Email agent\n// const agentEmail = {\"email\": user.email};\nagentEmail={\"email\":'jesus-ramon.sicairos@utilityswitchboard.com'};// Endpoint\nurl='https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';// Fetch customer data\n_context.next=10;return fetch(url,{method:'POST',body:JSON.stringify(agentEmail),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(response){// console.log(response);\n// Update Customer informatin\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{agent:{email:user.email},customerDetails:{first_name:response.first_name?response.first_name:'',last_name:response.last_name?response.last_name:'',email:response.email?response.email:'',phone:response.phone?parsePhoneNumber(response.phone,'GB').number:''}}));return response;}).catch(function(error){// Error\nconsole.error(\"Catch an error fetching to postcoder \".concat(error));// Update Customer informatin\n// Update Customer informatin\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{agent:{email:user.email},customerDetails:{first_name:'',last_name:'',email:'',phone:''}}));});case 10:// Hide Overlay\nupdateShowOverlay(false);// Update Error\nupdateError(false);// Hide Form Compare\nupdateShowFormCompare(false);// Update Progress Bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:8}));// Show Details\nupdateShowFormDetails(true);console.log('perra');case 16:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());};// cardSelected\nvar cardSelected=function cardSelected(e,id){e.preventDefault();// Update Error\nupdateError(false);/**-- Adding active state to the card selected --*/ // ID of card selected\nvar card_id=id;// Selected card\nvar card_content=document.getElementById(card_id);// Add class active\ncard_content.classList.add('active-card');// Add and remove class\nvar active_class=document.querySelectorAll(\".active-card\");[].forEach.call(active_class,function(el){el.classList.remove(\"active-card\");});if(card_id===sorted_data[0].tariff_id){card_content.className=\"form-compare-card-content active-card bestMatch-card\";}else{card_content.className=\"form-compare-card-content active-card\";}// Supplier selected\nvar supplier_selected=content.sorted_data.find(function(element){return element.tariff_id==card_id;});// Switching details\nvar switching_details={supplier_selected:supplier_selected};// Update customer information\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{switching_details:switching_details}));// Updating best match content\nvar tariff_name=supplier_selected.tariff_name,supplier_name=supplier_selected.supplier_name;setBestMatch(_objectSpread(_objectSpread({},bestMatch),{},{tariff_name:tariff_name,supplier_name:supplier_name}));};// Adding initial customer data to firebase (Coming from Supply cc)\nuseEffect(function(){/**-- Firebase --*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var customerAddres,useGas,fuel,fuel_description,supplierInformation,electricityPaymentType,gasPaymentType,economy7,tariff_description,tariff_description_elec,tariff_description_gas,usage_property_size_dual,usage_property_size_es,usage_property_size_gs,usage_gas_description,usage_gbp_description_gs,usage_kwh_description,usage_gbp_description_es,debt;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:customerAddres=customerInformation.customerAddres,useGas=customerInformation.useGas,fuel=customerInformation.fuel,fuel_description=customerInformation.fuel_description,supplierInformation=customerInformation.supplierInformation,electricityPaymentType=customerInformation.electricityPaymentType,gasPaymentType=customerInformation.gasPaymentType,economy7=customerInformation.economy7,tariff_description=customerInformation.tariff_description,tariff_description_elec=customerInformation.tariff_description_elec,tariff_description_gas=customerInformation.tariff_description_gas,usage_property_size_dual=customerInformation.usage_property_size_dual,usage_property_size_es=customerInformation.usage_property_size_es,usage_property_size_gs=customerInformation.usage_property_size_gs,usage_gas_description=customerInformation.usage_gas_description,usage_gbp_description_gs=customerInformation.usage_gbp_description_gs,usage_kwh_description=customerInformation.usage_kwh_description,usage_gbp_description_es=customerInformation.usage_gbp_description_es,debt=customerInformation.debt;console.log('Aqui aqui');console.log(debt);// elec_only || gas_only\nif(elec_only||gas_only){db.collection(\"customers\").doc(uid).set({created:firebase.firestore.FieldValue.serverTimestamp(),step:7,customerAddres:{doornumber:customerAddres.doornumber?customerAddres.doornumber:'',addressline1:customerAddres.addressline1?customerAddres.addressline1:'',addressline2:customerAddres.addressline2?customerAddres.addressline2:'',city:customerAddres.city?customerAddres.city:'',postcode:customerAddres.postcode?customerAddres.postcode:'',mpan:electricityInformation.MPANDetails.mpan_core?electricityInformation.MPANDetails.mpan_core:'',mprn:gasInformation.dataGas.mprn?gasInformation.dataGas.mprn:''},MPANDetails:{mpan_core:electricityInformation.MPANDetails.mpan_core?electricityInformation.MPANDetails.mpan_core:'',meter_type:electricityInformation.MPANDetails.meter_type?electricityInformation.MPANDetails.meter_type:'',supplier_mpid:electricityInformation.MPANDetails.supplier_mpid?electricityInformation.MPANDetails.supplier_mpid:'',company_name:electricityInformation.MPANDetails.company_name?electricityInformation.MPANDetails.company_name:''},dataGas:{current_supplier_id:gasInformation.dataGas.current_supplier_id?gasInformation.dataGas.current_supplier_id:'',meter_mechanism_code:gasInformation.dataGas.meter_mechanism_code?gasInformation.dataGas.meter_mechanism_code:'',mprn:gasInformation.dataGas.mprn?gasInformation.dataGas.mprn:'',company_name:gasInformation.dataGas.company_name?gasInformation.dataGas.company_name:''},useGas:{gas_apply:useGas.gas_apply?useGas.gas_apply:false},fuel:{dual_fuel_apply:fuel.dual_fuel_apply?fuel.dual_fuel_apply:false},fuel_description:{dual_active:fuel_description.dual_active?fuel_description.dual_active:false,elec_only:fuel_description.elec_only?fuel_description.elec_only:false,gas_only:fuel_description.gas_only?fuel_description.gas_only:false,same_supplier:fuel_description.same_supplier?fuel_description.same_supplier:false},supplierInformation:{electricity_supplier:{company_name:supplierInformation.electricity_supplier.company_name?supplierInformation.electricity_supplier.company_name:'',meter_type:supplierInformation.electricity_supplier.meter_type?supplierInformation.electricity_supplier.meter_type:'',mpan_core:supplierInformation.electricity_supplier.mpan_core?supplierInformation.electricity_supplier.mpan_core:'',supplier_mpid:supplierInformation.electricity_supplier.supplier_mpid?supplierInformation.electricity_supplier.supplier_mpid:''},gas_supplier:{company_name:supplierInformation.gas_supplier.company_name?supplierInformation.gas_supplier.company_name:'',current_supplier_id:supplierInformation.gas_supplier.current_supplier_id?supplierInformation.gas_supplier.current_supplier_id:'',meter_mechanism_code:supplierInformation.gas_supplier.meter_mechanism_code?supplierInformation.gas_supplier.meter_mechanism_code:'',mprn:supplierInformation.gas_supplier.mprn?supplierInformation.gas_supplier.mprn:''}},electricityPaymentType:{electricity_payment_type_id:electricityPaymentType.electricity_payment_type_id?electricityPaymentType.electricity_payment_type_id:'',electricity_payment_type_method:electricityPaymentType.electricity_payment_type_method?electricityPaymentType.electricity_payment_type_method:''},gasPaymentType:{gas_payment_type_id:gasPaymentType.gas_payment_type_id?gasPaymentType.gas_payment_type_id:'',gas_payment_type_method:gasPaymentType.gas_payment_type_method?gasPaymentType.gas_payment_type_method:''},economy7:{economy7_apply:economy7.economy7_apply?economy7.economy7_apply:false,economy7_split:economy7.economy7_split?economy7.economy7_split:false},tariff_description:tariff_description,// AVG\nusage_property_size_dual:{usage_size_entered:!!usage_property_size_dual?usage_property_size_dual.usage_size_entered:false,usage_size_expended:!!usage_property_size_dual?usage_property_size_dual.usage_size_expended:false},usage_property_size_es:{usage_size_entered:!!usage_property_size_es?usage_property_size_es.usage_size_entered:false,usage_size_expended:!!usage_property_size_es?usage_property_size_es.usage_size_expended:false},usage_property_size_gs:{usage_size_entered:!!usage_property_size_gs?usage_property_size_gs.usage_size_entered:false,usage_size_expended:!!usage_property_size_gs?usage_property_size_gs.usage_size_expended:false},// GAS\nusage_gas_description:{usage_kwh_entered:!!usage_gas_description?usage_gas_description.usage_kwh_entered:false,usage_kwh_expended:!!usage_gas_description?usage_gas_description.usage_kwh_expended:false,usage_kwh_period:!!usage_gas_description?usage_gas_description.usage_kwh_period:false},usage_gbp_description_gs:{usage_gbp_entered:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_entered:false,usage_gbp_expended:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_expended:false,usage_gbp_period:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_period:false},// Elec\nusage_kwh_description:{usage_kwh_entered:!!usage_kwh_description?usage_kwh_description.usage_kwh_entered:false,usage_kwh_expended:!!usage_kwh_description?usage_kwh_description.usage_kwh_expended:false,usage_kwh_period:!!usage_kwh_description?usage_kwh_description.usage_kwh_period:false},usage_gbp_description_es:{usage_gbp_entered:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_entered:false,usage_gbp_expended:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_expended:false,usage_gbp_period:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_period:false},// AVG ELEC\navgElec:avgElec,// AVG Gas\navgGas:avgGas,debt:debt});}// dual_active\nif(dual_active){// same_supplier\nif(same_supplier){db.collection(\"customers\").doc(uid).set({created:firebase.firestore.FieldValue.serverTimestamp(),step:7,customerAddres:{doornumber:customerAddres.doornumber?customerAddres.doornumber:'',addressline1:customerAddres.addressline1?customerAddres.addressline1:'',addressline2:customerAddres.addressline2?customerAddres.addressline2:'',city:customerAddres.city?customerAddres.city:'',postcode:customerAddres.postcode?customerAddres.postcode:'',mpan:electricityInformation.MPANDetails.mpan_core?electricityInformation.MPANDetails.mpan_core:'',mprn:gasInformation.dataGas.mprn?gasInformation.dataGas.mprn:''},MPANDetails:{mpan_core:electricityInformation.MPANDetails.mpan_core?electricityInformation.MPANDetails.mpan_core:'',meter_type:electricityInformation.MPANDetails.meter_type?electricityInformation.MPANDetails.meter_type:'',supplier_mpid:electricityInformation.MPANDetails.supplier_mpid?electricityInformation.MPANDetails.supplier_mpid:'',company_name:electricityInformation.MPANDetails.company_name?electricityInformation.MPANDetails.company_name:''},dataGas:{current_supplier_id:gasInformation.dataGas.current_supplier_id?gasInformation.dataGas.current_supplier_id:'',meter_mechanism_code:gasInformation.dataGas.meter_mechanism_code?gasInformation.dataGas.meter_mechanism_code:'',mprn:gasInformation.dataGas.mprn?gasInformation.dataGas.mprn:'',company_name:gasInformation.dataGas.company_name?gasInformation.dataGas.company_name:''},useGas:{gas_apply:useGas.gas_apply?useGas.gas_apply:false},fuel:{dual_fuel_apply:fuel.dual_fuel_apply?fuel.dual_fuel_apply:false},fuel_description:{dual_active:fuel_description.dual_active?fuel_description.dual_active:false,elec_only:fuel_description.elec_only?fuel_description.elec_only:false,gas_only:fuel_description.gas_only?fuel_description.gas_only:false,same_supplier:fuel_description.same_supplier?fuel_description.same_supplier:false},supplierInformation:{electricity_supplier:{company_name:supplierInformation.electricity_supplier.company_name?supplierInformation.electricity_supplier.company_name:'',meter_type:supplierInformation.electricity_supplier.meter_type?supplierInformation.electricity_supplier.meter_type:'',mpan_core:supplierInformation.electricity_supplier.mpan_core?supplierInformation.electricity_supplier.mpan_core:'',supplier_mpid:supplierInformation.electricity_supplier.supplier_mpid?supplierInformation.electricity_supplier.supplier_mpid:''},gas_supplier:{company_name:supplierInformation.gas_supplier.company_name?supplierInformation.gas_supplier.company_name:'',current_supplier_id:supplierInformation.gas_supplier.current_supplier_id?supplierInformation.gas_supplier.current_supplier_id:'',meter_mechanism_code:supplierInformation.gas_supplier.meter_mechanism_code?supplierInformation.gas_supplier.meter_mechanism_code:'',mprn:supplierInformation.gas_supplier.mprn?supplierInformation.gas_supplier.mprn:''}},electricityPaymentType:{electricity_payment_type_id:electricityPaymentType.electricity_payment_type_id?electricityPaymentType.electricity_payment_type_id:'',electricity_payment_type_method:electricityPaymentType.electricity_payment_type_method?electricityPaymentType.electricity_payment_type_method:''},gasPaymentType:{gas_payment_type_id:gasPaymentType.gas_payment_type_id?gasPaymentType.gas_payment_type_id:'',gas_payment_type_method:gasPaymentType.gas_payment_type_method?gasPaymentType.gas_payment_type_method:''},economy7:{economy7_apply:economy7.economy7_apply?economy7.economy7_apply:false,economy7_split:economy7.economy7_split?economy7.economy7_split:false},tariff_description:tariff_description,// AVG\nusage_property_size_dual:{usage_size_entered:!!usage_property_size_dual?usage_property_size_dual.usage_size_entered:false,usage_size_expended:!!usage_property_size_dual?usage_property_size_dual.usage_size_expended:false},usage_property_size_es:{usage_size_entered:!!usage_property_size_es?usage_property_size_es.usage_size_entered:false,usage_size_expended:!!usage_property_size_es?usage_property_size_es.usage_size_expended:false},usage_property_size_gs:{usage_size_entered:!!usage_property_size_gs?usage_property_size_gs.usage_size_entered:false,usage_size_expended:!!usage_property_size_gs?usage_property_size_gs.usage_size_expended:false},// GAS\nusage_gas_description:{usage_kwh_entered:!!usage_gas_description?usage_gas_description.usage_kwh_entered:false,usage_kwh_expended:!!usage_gas_description?usage_gas_description.usage_kwh_expended:false,usage_kwh_period:!!usage_gas_description?usage_gas_description.usage_kwh_period:false},usage_gbp_description_gs:{usage_gbp_entered:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_entered:false,usage_gbp_expended:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_expended:false,usage_gbp_period:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_period:false},// Elec\nusage_kwh_description:{usage_kwh_entered:!!usage_kwh_description?usage_kwh_description.usage_kwh_entered:false,usage_kwh_expended:!!usage_kwh_description?usage_kwh_description.usage_kwh_expended:false,usage_kwh_period:!!usage_kwh_description?usage_kwh_description.usage_kwh_period:false},usage_gbp_description_es:{usage_gbp_entered:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_entered:false,usage_gbp_expended:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_expended:false,usage_gbp_period:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_period:false},// AVG ELEC\navgElec:avgElec,// AVG Gas\navgGas:avgGas});}else{db.collection(\"customers\").doc(uid).set({created:firebase.firestore.FieldValue.serverTimestamp(),step:7,customerAddres:{doornumber:customerAddres.doornumber?customerAddres.doornumber:'',addressline1:customerAddres.addressline1?customerAddres.addressline1:'',addressline2:customerAddres.addressline2?customerAddres.addressline2:'',city:customerAddres.city?customerAddres.city:'',postcode:customerAddres.postcode?customerAddres.postcode:'',mpan:electricityInformation.MPANDetails.mpan_core?electricityInformation.MPANDetails.mpan_core:'',mprn:gasInformation.dataGas.mprn?gasInformation.dataGas.mprn:''},MPANDetails:{mpan_core:electricityInformation.MPANDetails.mpan_core?electricityInformation.MPANDetails.mpan_core:'',meter_type:electricityInformation.MPANDetails.meter_type?electricityInformation.MPANDetails.meter_type:'',supplier_mpid:electricityInformation.MPANDetails.supplier_mpid?electricityInformation.MPANDetails.supplier_mpid:'',company_name:electricityInformation.MPANDetails.company_name?electricityInformation.MPANDetails.company_name:''},dataGas:{current_supplier_id:gasInformation.dataGas.current_supplier_id?gasInformation.dataGas.current_supplier_id:'',meter_mechanism_code:gasInformation.dataGas.meter_mechanism_code?gasInformation.dataGas.meter_mechanism_code:'',mprn:gasInformation.dataGas.mprn?gasInformation.dataGas.mprn:'',company_name:gasInformation.dataGas.company_name?gasInformation.dataGas.company_name:''},useGas:{gas_apply:useGas.gas_apply?useGas.gas_apply:false},fuel:{dual_fuel_apply:fuel.dual_fuel_apply?fuel.dual_fuel_apply:false},fuel_description:{dual_active:fuel_description.dual_active?fuel_description.dual_active:false,elec_only:fuel_description.elec_only?fuel_description.elec_only:false,gas_only:fuel_description.gas_only?fuel_description.gas_only:false,same_supplier:fuel_description.same_supplier?fuel_description.same_supplier:false},supplierInformation:{electricity_supplier:{company_name:supplierInformation.electricity_supplier.company_name?supplierInformation.electricity_supplier.company_name:'',meter_type:supplierInformation.electricity_supplier.meter_type?supplierInformation.electricity_supplier.meter_type:'',mpan_core:supplierInformation.electricity_supplier.mpan_core?supplierInformation.electricity_supplier.mpan_core:'',supplier_mpid:supplierInformation.electricity_supplier.supplier_mpid?supplierInformation.electricity_supplier.supplier_mpid:''},gas_supplier:{company_name:supplierInformation.gas_supplier.company_name?supplierInformation.gas_supplier.company_name:'',current_supplier_id:supplierInformation.gas_supplier.current_supplier_id?supplierInformation.gas_supplier.current_supplier_id:'',meter_mechanism_code:supplierInformation.gas_supplier.meter_mechanism_code?supplierInformation.gas_supplier.meter_mechanism_code:'',mprn:supplierInformation.gas_supplier.mprn?supplierInformation.gas_supplier.mprn:''}},electricityPaymentType:{electricity_payment_type_id:electricityPaymentType.electricity_payment_type_id?electricityPaymentType.electricity_payment_type_id:'',electricity_payment_type_method:electricityPaymentType.electricity_payment_type_method?electricityPaymentType.electricity_payment_type_method:''},gasPaymentType:{gas_payment_type_id:gasPaymentType.gas_payment_type_id?gasPaymentType.gas_payment_type_id:'',gas_payment_type_method:gasPaymentType.gas_payment_type_method?gasPaymentType.gas_payment_type_method:''},economy7:{economy7_apply:economy7.economy7_apply?economy7.economy7_apply:false,economy7_split:economy7.economy7_split?economy7.economy7_split:false},tariff_description_elec:tariff_description_elec,tariff_description_gas:tariff_description_gas,// AVG\nusage_property_size_dual:{usage_size_entered:!!usage_property_size_dual?usage_property_size_dual.usage_size_entered:false,usage_size_expended:!!usage_property_size_dual?usage_property_size_dual.usage_size_expended:false},usage_property_size_es:{usage_size_entered:!!usage_property_size_es?usage_property_size_es.usage_size_entered:false,usage_size_expended:!!usage_property_size_es?usage_property_size_es.usage_size_expended:false},usage_property_size_gs:{usage_size_entered:!!usage_property_size_gs?usage_property_size_gs.usage_size_entered:false,usage_size_expended:!!usage_property_size_gs?usage_property_size_gs.usage_size_expended:false},// GAS\nusage_gas_description:{usage_kwh_entered:!!usage_gas_description?usage_gas_description.usage_kwh_entered:false,usage_kwh_expended:!!usage_gas_description?usage_gas_description.usage_kwh_expended:false,usage_kwh_period:!!usage_gas_description?usage_gas_description.usage_kwh_period:false},usage_gbp_description_gs:{usage_gbp_entered:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_entered:false,usage_gbp_expended:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_expended:false,usage_gbp_period:!!usage_gbp_description_gs?usage_gbp_description_gs.usage_gbp_period:false},// Elec\nusage_kwh_description:{usage_kwh_entered:!!usage_kwh_description?usage_kwh_description.usage_kwh_entered:false,usage_kwh_expended:!!usage_kwh_description?usage_kwh_description.usage_kwh_expended:false,usage_kwh_period:!!usage_kwh_description?usage_kwh_description.usage_kwh_period:false},usage_gbp_description_es:{usage_gbp_entered:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_entered:false,usage_gbp_expended:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_expended:false,usage_gbp_period:!!usage_gbp_description_es?usage_gbp_description_es.usage_gbp_period:false},// AVG ELEC\navgElec:avgElec,// AVG Gas\navgGas:avgGas});}}case 5:case\"end\":return _context2.stop();}}},_callee2);}))();},[FormCompare]);// goToCustomerDetails\nvar goToCustomerDetails=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var agentEmail,url;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();if(!(!!customerInformation.hasOwnProperty('switching_details')===false)){_context3.next=4;break;}// Update Error\nupdateError(true);return _context3.abrupt(\"return\");case 4://Show Overlay\nupdateShowOverlay(true);// Email agent\nagentEmail={\"email\":user.email};// const agentEmail = { \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com' };\n// Endpoint\nurl='https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';// Fetch customer data\n_context3.next=9;return fetch(url,{method:'POST',body:JSON.stringify(agentEmail),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(response){// console.log(response);\n// Update Customer informatin\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{agent:{email:user.email},customerDetails:{first_name:response.first_name?response.first_name:'',last_name:response.last_name?response.last_name:'',email:response.email?response.email:'',phone:response.phone?parsePhoneNumber(response.phone,'GB').number:''}}));return response;}).catch(function(error){// Error\nconsole.error(\"Catch an error fetching to postcoder \".concat(error));// Update Customer informatin\n// Update Customer informatin\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{agent:{email:user.email},customerDetails:{first_name:'',last_name:'',email:'',phone:''}}));});case 9:// Hide Overlay\nupdateShowOverlay(false);// Update Error\nupdateError(false);// Hide Form Compare\nupdateShowFormCompare(false);// Update Progress Bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:8}));// Show Details\nupdateShowFormDetails(true);case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function goToCustomerDetails(_x2){return _ref4.apply(this,arguments);};}();// Go Back\nvar goBack=function goBack(e){e.preventDefault();// Update Error\nupdateError(false);// Hide Form Compare\nupdateShowFormCompare(false);// Delete Customer Usage\nvar copy_customer_usage=_objectSpread({},customerInformation);delete copy_customer_usage['debt'];// Update customer information\nupdateCustomerInformation(_objectSpread({},copy_customer_usage));// Show Form Debt\nupdateShowFormDebt(true);// Update Progress Bar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:7}));};// Filterby\nvar filterBy=function filterBy(e){var target=e.target.value;// Hide error\nupdateError(false);if(target==='monthly_cost'){updateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:sorted_data.sort(sortByProperty(\"monthly_cost\"))}));};if(target==='exit_fees'){updateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:sorted_data.sort(sortByProperty(\"exit_fees\"))}));};if(target==='review_rating'){updateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:sorted_data.sort(sortByProperty(\"review_rating\")).reverse()}));};if(target==='supplier_code'){updateContent(_objectSpread(_objectSpread({},content),{},{sorted_data:sorted_data.sort(sortByProperty(\"supplier_code\"))}));};// Delete Customer Usage\nvar copy_customer_usage=_objectSpread({},customerInformation);delete copy_customer_usage['switching_details'];// Update customer information\nupdateCustomerInformation(_objectSpread({},copy_customer_usage));var activeCard_el=document.getElementsByClassName('active-card');if(activeCard_el.length>0){var activeCard_id=activeCard_el[0].id;var activeCard=document.getElementById(activeCard_id);activeCard.classList.remove('active-card');}};// Use Effect to select the best tariff (Monthly cost) in the first render\nuseEffect(function(){if(content.hasOwnProperty('sorted_data')){// Select best match\nvar _bestMatch=content.sorted_data[0];// Best match id\nvar bestMatch_id=_bestMatch.tariff_id;// Add active card to best match\ndocument.getElementById(bestMatch_id).classList.add('bestMatch-card');// Box deal Best Match\nvar bestMatchBox=document.getElementById(\"best_match\".concat(bestMatch_id));var select=document.getElementById('filterPlan');var selectedText=select.options[select.selectedIndex].text;// Adding text\nbestMatchBox.innerText=\"Best match - By \".concat(selectedText.toLowerCase());bestMatchBox.style.padding='.5rem 1rem';var tariff_name=_bestMatch.tariff_name,supplier_name=_bestMatch.supplier_name;setBestMatch(_objectSpread(_objectSpread({},_bestMatch),{},{tariff_name:tariff_name,supplier_name:supplier_name}));}},[content]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{children:contentLoaded?/*#__PURE__*/_jsx(\"section\",{className:\"form-compare-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Results\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Thank you for answering my questions, I can see that if you switch to the \",/*#__PURE__*/_jsx(\"strong\",{children:bestMatch.tariff_name}),\" with \",/*#__PURE__*/_jsx(\"strong\",{children:bestMatch.supplier_name}),\" you will save \",/*#__PURE__*/_jsx(\"strong\",{children:\"*INSERT SAVINGS*\"}),\" per year! So it will be only \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\xA3\",bestMatch.monthly_cost]}),\" per month. This tariff also comes with \",/*#__PURE__*/_jsx(\"strong\",{children:\"*INSERT TARIFF BENEFIT*\"}),\".\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBy-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filterPlan\",children:\"Filter By\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"plan\",id:\"filterPlan\",defaultValue:\"monthly_cost\",onChange:function onChange(e){return filterBy(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2015\"}),/*#__PURE__*/_jsx(\"option\",{value:\"saving\",children:\"Savings\"}),/*#__PURE__*/_jsx(\"option\",{value:\"renewal\",children:\"Renewal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly_cost\",children:\"Monthly cost\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exit_fees\",children:\"Exit fees\"}),/*#__PURE__*/_jsx(\"option\",{value:\"review_rating\",children:\"Reviews\"}),/*#__PURE__*/_jsx(\"option\",{value:\"supplier_code\",children:\"Supplier\"})]})]}),sorted_data.slice(0,array_to).map(function(data){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky\",children:/*#__PURE__*/_jsx(\"p\",{id:\"best_match\".concat(data.tariff_id)})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-content\",id:data.tariff_id,onClick:function onClick(e){return cardSelected(e,data.tariff_id);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-supplier\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-image\",children:/*#__PURE__*/_jsx(\"img\",{src:data.supplier_img})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:data.tariff_name}),/*#__PURE__*/_jsx(ReviewStars,{stars:data.review_rating})]})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"hr-custom\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-fees\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Exit fees\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.exit_fees]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-fixed\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Fixed period\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[data.fixed_period,\" months\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-cost\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Monthly cost\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",data.monthly_cost]})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-card-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"form-compare-card-btn btn-signup\",type:\"submit\",id:data.tariff_id,onClick:function onClick(e){return choosePlan(e,data);},children:\"Choose plan\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"form-compare-card-btn btn-tariff\",onClick:function onClick(e){tariff_info(e,data);},children:\"Tariff info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-card-btn-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Savings\"}),\" - \\xA3\",(usage-data.annual_cost).toFixed(2),\" now\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"or \\xA3231 at renewal\"})]})]})})})]})})]},data.tariff_id);}),/*#__PURE__*/_jsx(\"div\",{className:\"form-compare-loadmore-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"form-compare-loadmore-btn\",onClick:function onClick(e){return load_more(e);},children:\"Show more results\"})}),error===true?/*#__PURE__*/_jsx(Error,{message:'Please selected a tariff to sign up'}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"form-compare-btn-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"form-compare-btn btn-back\",onClick:function onClick(e){return goBack(e);},children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#D338AE',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropleft,{className:\"icon-back\"})}),\"Go back\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"form-compare-btn btn-next\",onClick:function onClick(e){return goToCustomerDetails(e);},children:[\"Continue\",/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#FFF',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropright,{className:\"icon-next\"})})]})]})]}),showScript?/*#__PURE__*/_jsxs(\"div\",{className:\"helper-compare\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"script-compare\",children:/*#__PURE__*/_jsx(FormScript,{step:9})}),/*#__PURE__*/_jsx(\"div\",{className:\"assistant-compare-custom\",children:/*#__PURE__*/_jsx(FormAssistant,{tips:9})})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:'100%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"assistant-compare\",children:/*#__PURE__*/_jsx(FormAssistant,{tips:9})})})]})}):null})});}export default FormCompare;","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormCompare/FormCompare.jsx"],"names":["React","useState","useEffect","db","firebase","data_electricity_tariffs","data_gas_tariffs","data_dual_tariffs","swal","parsePhoneNumber","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FormScript","FormAssistant","Error","ReviewStars","FormCompare","customerInformation","user","electricityInformation","gasInformation","avgElec","avgGas","showScript","progressBar","updateCustomerInformation","updateShowOverlay","updateShowFormCompare","updateShowFormUsageKWH","updateShowFormUsageGBP_es","updateShowFormUsageAVG","updateShowFormUsageGAS","updateShowFormUsageGBP_gs","updateShowFormDetails","updateShowFormDebt","updateProgressBar","contentLoaded","updateContentLoaded","content","updateContent","array_to","update_array_to","bestMatch","setBestMatch","usage_expended","update_usage_expended","usage_expended_elec","update_usage_expended_elec","usage_expended_gas","update_usage_expended_gas","error","updateError","window","scrollTo","top","behavior","scroll_to","element","document","querySelector","scrollIntoView","block","inline","elec_data","tariffs","gas_data","dual_data","same_supplier","fuel_description","dual_active","gas_only","elec_only","postcode_formatted","customerAddres","postcode","replace","trim","toLowerCase","doornumber_formatted","doornumber","uid","up_to","load_more","e","preventDefault","sortByProperty","property","a","b","hasOwnProperty","usage_kwh_expended","usage_kwh_description","usage_kwh_period","usage_by_period","parseFloat","Math","round","console","log","tariff_description","tariff_unit_rate","unit_rate","usage","sorted_data","sort","usage_gbp_expended","usage_gbp_description_es","usage_gbp_period","usage_size_expended","usage_property_size_es","usage_gas_description","usage_gbp_description_gs","usage_property_size_gs","usage_size_expended_gas","unit_rate_elec","usage_elec","unit_rate_gas","usage_gas","usage_size_expended_elec","usage_property_size_dual","tariff_unit_rate_elec","tariff_unit_rate_gas","tariff_description_elec","elec_tariff","tariff_description_gas","gas_tariff","tariff_info","data","className","supplier_img","supplier_name","tariff_name","review_rating","exit_fees","annual_cost","monthly_cost","choosePlan","card_id","target","id","card_content","getElementById","classList","add","active_class","querySelectorAll","forEach","call","el","remove","supplier_selected","find","tariff_id","switching_details","buttons","cancel","confirm","toFixed","then","result","agentEmail","url","fetch","method","body","JSON","stringify","headers","response","json","agent","email","customerDetails","first_name","last_name","phone","number","catch","step","cardSelected","useGas","fuel","supplierInformation","electricityPaymentType","gasPaymentType","economy7","debt","collection","doc","set","created","firestore","FieldValue","serverTimestamp","addressline1","addressline2","city","mpan","MPANDetails","mpan_core","mprn","dataGas","meter_type","supplier_mpid","company_name","current_supplier_id","meter_mechanism_code","gas_apply","dual_fuel_apply","electricity_supplier","gas_supplier","electricity_payment_type_id","electricity_payment_type_method","gas_payment_type_id","gas_payment_type_method","economy7_apply","economy7_split","usage_size_entered","usage_kwh_entered","usage_gbp_entered","goToCustomerDetails","goBack","copy_customer_usage","filterBy","value","reverse","activeCard_el","getElementsByClassName","length","activeCard_id","activeCard","bestMatch_id","bestMatchBox","select","selectedText","options","selectedIndex","text","innerText","style","padding","slice","map","fixed_period","color","size","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// Styles\nimport \"./FormCompare.css\";\n// Firebase\nimport { db } from \"../../../firebase/firebase\";\nimport firebase from \"firebase/app\";\n// Data\nimport data_electricity_tariffs from '../../../utilities/data_tariffs/data_tariffs_es/data_electricity_tariffs';\nimport data_gas_tariffs from '../../../utilities/data_tariffs/data_tariff_gs/data_gas_tariffs';\nimport data_dual_tariffs from '../../../utilities/data_tariffs/data_tariff_dual/data_dual_tariffs';\n// Swal\nimport swal from '@sweetalert/with-react';\n// Phone Number Validation\nimport { parsePhoneNumber } from 'libphonenumber-js';\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\n\n// Components\nimport FormScript from '../FormScript/FormScript';\nimport FormAssistant from \"../FormAssistant/FormAssistant\";\nimport Error from '../../Error/Error';\nimport ReviewStars from '../../ReviewStars/ReviewStars';\n\nfunction FormCompare({ customerInformation, user, electricityInformation, gasInformation, avgElec, avgGas, showScript, progressBar, updateCustomerInformation, updateShowOverlay, updateShowFormCompare, updateShowFormUsageKWH, updateShowFormUsageGBP_es, updateShowFormUsageAVG, updateShowFormUsageGAS, updateShowFormUsageGBP_gs, updateShowFormDetails, updateShowFormDebt, updateProgressBar }) {\n  /** STATES */\n  // Content Loaded state\n  const [contentLoaded, updateContentLoaded] = useState(false);\n  const [content, updateContent] = useState({});\n  const [array_to, update_array_to] = useState(3);\n  const [bestMatch, setBestMatch] = useState({});\n  const [usage_expended, update_usage_expended] = useState({});\n  const [usage_expended_elec, update_usage_expended_elec] = useState({});\n  const [usage_expended_gas, update_usage_expended_gas] = useState({});\n\n  // Error State\n  const [error, updateError] = useState(false);\n\n  /** FUNCTIONS */\n\n  /**---- */\n  // Function to create a new array without the same supplier\n  // Sorted data\n  // const sorted_data = sorted_data_desc.filter(function (obj) {\n  //   return obj.supplier_code !== 'EDF';\n  // });\n  /**---- */\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Error smooth scroll\n  useEffect(() => {\n    if (error) {\n      const scroll_to = () => {\n        var element = document.querySelector(\"#error\");\n        // smooth scroll to element and align it at the bottom\n        element.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"center\" });\n      }\n\n      scroll_to()\n    }\n  }, [error]);\n\n  // Data\n  const elec_data = data_electricity_tariffs.tariffs;\n  const gas_data = data_gas_tariffs.tariffs;\n  const dual_data = data_dual_tariffs.tariffs;\n\n  /** Variables */\n  // same_supplier\n  const same_supplier = customerInformation.fuel_description.same_supplier;\n  // dual_active\n  const dual_active = customerInformation.fuel_description.dual_active;\n  // gas_only\n  const gas_only = customerInformation.fuel_description.gas_only;\n  // elec_only\n  const elec_only = customerInformation.fuel_description.elec_only;\n  // postcode_formatted\n  const postcode_formatted = customerInformation.customerAddres.postcode.replace(/\\s/g, '').trim().toLowerCase();\n  // doornumber_formatted\n  const doornumber_formatted = customerInformation.customerAddres.doornumber.replace(/\\s/g, '').trim().toLowerCase();\n  // uid\n  const uid = `${postcode_formatted}-${doornumber_formatted}`;\n\n  // Show more button\n  let up_to = 0;\n  const load_more = (e) => {\n    e.preventDefault();\n    if (up_to === up_to) {\n      up_to = array_to + 3;\n      return update_array_to(up_to);\n    }\n  }\n\n  // Execute Overlay\n  useEffect(() => {\n    // Show Overlay\n    updateShowOverlay(true);\n  }, [FormCompare]);\n\n  // Function to sort the JSON by property\n  const sortByProperty = (property) => {\n    return function (a, b) {\n      if (a[property] > b[property])\n        return 1;\n      else if (a[property] < b[property])\n        return -1;\n\n      return 0;\n    }\n  }\n\n  // Information for elec_only\n  useEffect(() => {\n    // Elec_only\n    if (elec_only) {\n      // console.log('elec_only');\n      if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n        // Period introduced\n        const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n\n        let usage_by_period = 0;\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n        }\n\n        console.log(customerInformation.tariff_description);\n        console.log(usage_by_period);\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        // const usage = ((usage_by_period * tariff_unit_rate) / 100);\n        const usage = (usage_by_period * ((tariff_unit_rate) / 100));\n\n        // Sorted data desc\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n        /**------ */\n        // Sorted data\n        // const sorted_data = sorted_data_desc.filter(function (obj) {\n        //   return obj.supplier_code !== 'EDF';\n        // });\n        /**------ */\n\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n        // Period introduced\n        const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n        let usage_by_period = 0;\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n        }\n\n        // Sorted data\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage_by_period\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n        // Usage introduced\n        const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n    }\n  }, [elec_only]);\n\n  // Information for gas_only\n  useEffect(() => {\n    // Gas_only\n    if (gas_only) {\n      // console.log('gas_only');\n      if (customerInformation.hasOwnProperty('usage_gas_description')) {\n        // Usage introduced\n        const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n        // Period introduced\n        const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n        // Usage by period\n        let usage_by_period = 0;\n        if (usage_kwh_period === 'annu') {\n          usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n        }\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_by_period * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n\n      }\n\n      if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n        // Usage introduced\n        const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n        // Period introduced\n        const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n        let usage_by_period = 0;\n        if (usage_gbp_period === 'annu') {\n          usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n        } else {\n          usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n        }\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage_by_period\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n\n      if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n        // Usage introduced\n        const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n\n        // Usage introduced for gas\n        let usage_size_expended_gas;\n\n        // 1 bedroom\n        if (usage_size_expended === 1800) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 8000;\n        }\n\n        // 2 to 3 bedrooms\n        if (usage_size_expended === 2900) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 12000;\n        }\n\n        // 4+ bedrooms\n        if (usage_size_expended === 4300) {\n          // Unit rate of tariff selected gas\n          usage_size_expended_gas = 17000;\n        }\n\n        // Unit rate of tariff selected\n        const tariff_unit_rate = customerInformation.tariff_description.unit_rate;\n        // Usage by period\n        const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n        // Sorted data\n        const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n        // Add content\n        updateContent({\n          ...content,\n          sorted_data\n        });\n\n        // Update state\n        update_usage_expended({\n          ...usage_expended,\n          usage: usage\n        });\n\n        // Show content;\n        updateContentLoaded(true);\n        // Hidde Overlay\n        updateShowOverlay(false);\n      }\n    }\n  }, [gas_only]);\n\n  // Information for dual_active\n  useEffect(() => {\n    // Dual active\n    if (dual_active) {\n\n      // Sorted data\n      const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n\n      // Add content\n      updateContent({\n        ...content,\n        sorted_data\n      });\n\n      if (same_supplier) {\n        // Sorted data\n        // console.log('Same supplier === true');\n\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec;\n          // console.log(tariff_unit_rate);\n          // Usage by period\n          const usage_elec = ((usage_by_period * tariff_unit_rate) / 100);\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_elec\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // KWH - GAS\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas;\n          // console.log(tariff_unit_rate);\n          // Usage by period\n          const usage_gas = ((usage_by_period * tariff_unit_rate) / 100);\n\n          // console.log(usage_gas);\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_gas\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- GBP SECTION */\n        // GBP - ELEC\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // GBP - GAS\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_elec;\n          // Usage by period\n          const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY SIZE - GAS\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // console.log(usage_size_expended_gas);\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description.unit_rate_gas;\n          // Usage by period\n          const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY_SIZE_DUAL\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // Unit rate of tariff selected elec\n          const tariff_unit_rate_elec = customerInformation.tariff_description.unit_rate_elec;\n          // Unit rate of tariff selected gas\n          const tariff_unit_rate_gas = customerInformation.tariff_description.unit_rate_gas;\n\n          // Usage by period\n          const usage_elec = ((usage_size_expended_elec * tariff_unit_rate_elec) / 100);\n          const usage_gas = ((usage_size_expended_gas * tariff_unit_rate_gas) / 100);\n\n          const usage = usage_elec + usage_gas;\n\n          // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended({\n            ...usage_expended,\n            usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n      } else {\n        // console.log('Same supplier === false');\n        /**- KWH SECTION -*/\n        // KWH - ELEC\n        if (customerInformation.hasOwnProperty('usage_kwh_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_kwh_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_kwh_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Usage by period\n          const usage_elec = ((usage_by_period * tariff_unit_rate_elec) / 100);\n\n          // console.log(usage_elec);\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_elec\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // KWH - GAS\n        if (customerInformation.hasOwnProperty('usage_gas_description')) {\n          // Usage introduced\n          const usage_kwh_expended = customerInformation.usage_gas_description.usage_kwh_expended;\n          // Period introduced\n          const usage_kwh_period = customerInformation.usage_gas_description.usage_kwh_period;\n          let usage_by_period = 0;\n          if (usage_kwh_period === 'annu') {\n            usage_by_period = (parseFloat(usage_kwh_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_kwh_expended) * 12));\n          }\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n          // Usage by period\n          const usage_gas = ((usage_by_period * tariff_unit_rate_gas) / 100);\n\n          // console.log(usage_gas);\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_gas\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- GBP SECTION */\n        // GBP - ELEC\n        if (customerInformation.hasOwnProperty('usage_gbp_description_es')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_es.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // GBP - GAS\n        if (customerInformation.hasOwnProperty('usage_gbp_description_gs')) {\n          // Usage introduced\n          const usage_gbp_expended = customerInformation.usage_gbp_description_gs.usage_gbp_expended;\n          // Period introduced\n          const usage_gbp_period = customerInformation.usage_gbp_description_gs.usage_gbp_period;\n          let usage_by_period = 0;\n          if (usage_gbp_period === 'annu') {\n            usage_by_period = (parseFloat(usage_gbp_expended) * 1);\n          } else {\n            usage_by_period = Math.round((parseFloat(usage_gbp_expended) * 12));\n          }\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage_by_period\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        /**- PROPERTY SIZE SECTION -*/\n        // PROPERTY SIZE - ELEC\n        if (customerInformation.hasOwnProperty('usage_property_size_es')) {\n          // Usage introduced\n          const usage_size_expended = customerInformation.usage_property_size_es.usage_size_expended;\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Usage by period\n          const usage = ((usage_size_expended * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = elec_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_elec({\n            ...usage_expended_elec,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY SIZE - GAS\n        if (customerInformation.hasOwnProperty('usage_property_size_gs')) {\n          // Usage introduceds\n          const usage_size_expended = parseFloat(customerInformation.usage_property_size_gs.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // console.log(usage_size_expended_gas);\n\n          // Unit rate of tariff selected\n          const tariff_unit_rate = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n          // Usage by period\n          const usage = ((usage_size_expended_gas * tariff_unit_rate) / 100);\n\n          // // Sorted data\n          // const sorted_data = gas_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended_gas({\n            ...usage_expended_gas,\n            usage: usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n\n        // PROPERTY_SIZE_DUAL\n        if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n          // Usage introduced for elec\n          const usage_size_expended_elec = parseFloat(customerInformation.usage_property_size_dual.usage_size_expended);\n          // Usage introduced for gas\n          let usage_size_expended_gas;\n\n          // 1 bedroom\n          if (usage_size_expended_elec === 1800) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 8000;\n          }\n\n          // 2 to 3 bedrooms\n          if (usage_size_expended_elec === 2900) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 12000;\n          }\n\n          // 4+ bedrooms\n          if (usage_size_expended_elec === 4300) {\n            // Unit rate of tariff selected gas\n            usage_size_expended_gas = 17000;\n          }\n\n          // Unit rate of tariff selected elec\n          const tariff_unit_rate_elec = customerInformation.tariff_description_elec.elec_tariff.unit_rate;\n          // Unit rate of tariff selected gas\n          const tariff_unit_rate_gas = customerInformation.tariff_description_gas.gas_tariff.unit_rate;\n\n          // Usage by period\n          const usage_elec = ((usage_size_expended_elec * tariff_unit_rate_elec) / 100);\n          const usage_gas = ((usage_size_expended_gas * tariff_unit_rate_gas) / 100);\n\n          const usage = usage_elec + usage_gas;\n\n          // // Sorted data\n          // const sorted_data = dual_data.sort(sortByProperty(\"monthly_cost\")); // Sort according to monthly cost\n          // // Add content\n          // updateContent({\n          //   ...content,\n          //   sorted_data\n          // });\n\n          // Update state\n          update_usage_expended({\n            ...usage_expended,\n            usage\n          });\n\n          // Show content;\n          updateContentLoaded(true);\n          // Hidde Overlay\n          updateShowOverlay(false);\n        }\n      }\n    }\n  }, [dual_active]);\n\n  // Sorted data\n  let sorted_data = content.sorted_data;\n\n  // usage\n  let usage = usage_expended.usage;\n\n  // const usage_gas\n  const usage_gas = usage_expended_gas.usage;\n\n  // const usage_elec\n  const usage_elec = usage_expended_elec.usage;\n\n  if ((dual_active)) {\n    if (customerInformation.hasOwnProperty('usage_property_size_dual')) {\n      usage = usage_expended.usage;\n    } else {\n      usage = (usage_elec + usage_gas);\n    }\n  }\n\n  // console.log(usage);\n  // console.log(usage_elec);\n  // console.log(usage_gas);\n\n  // Tariff info button - function to show modal\n  const tariff_info = (e, data) => {\n    e.preventDefault();\n\n    swal({\n      className: 'swal-modal_custom',\n      content: (\n        <>\n          <div className=\"form-compare-details-info-container\">\n            <div className=\"form-compare-details-info\">\n              <div className=\"form-compare-details-info-img\">\n                <img src={data.supplier_img} alt=\"\" />\n              </div>\n\n              <h3>Tariff details</h3>\n\n              <div className=\"form-compare-details-container\">\n                <div className=\"form-compare-single-details\">\n                  <p>Supplier: <span>{data.supplier_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Plan name: <span>{data.tariff_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <ReviewStars stars={data.review_rating} customClass={true} />\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Early exit fee: <span>£{data.exit_fees}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Estimated annual cost: <span>£{data.annual_cost}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Monthly direct debit: <span>£{data.monthly_cost}</span></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )\n    });\n  };\n\n  // choosePlan button\n  const choosePlan = (e, data) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n\n    // ID of card selected\n    const card_id = e.target.id;\n    // Selected card\n    const card_content = document.getElementById(card_id);\n\n    // Add class active\n    card_content.classList.add('active-card');\n\n    // Add and remove class\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    card_content.className = \"form-compare-card-content active-card\";\n\n    // Supplier selected\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id);\n\n    // Switching details\n    const switching_details = {\n      supplier_selected\n    };\n\n    // Update customer information\n    updateCustomerInformation({\n      ...customerInformation,\n      switching_details\n    });\n\n    // SWAL\n    swal({\n      className: 'swal-modal_custom',\n      buttons: {\n        cancel: \"Go back\",\n        confirm: \"Choose plan\"\n      },\n      content: (\n        <>\n          <div className=\"form-compare-details-info-container\">\n            <div className=\"form-compare-details-info\">\n              <div className=\"form-compare-details-info-img\">\n                <img src={data.supplier_img} alt=\"\" />\n              </div>\n\n              <div className=\"form-compare-card-estimated-container\">\n                <div className=\"form-compare-card-estimated\">\n                  <p>Estimated cost</p>\n                  <p className=\"form-compare-card-estimated-amount\"><span>£</span>{(usage - data.annual_cost).toFixed(2)}</p>\n                  <p>(£{((usage - data.annual_cost) / 12).toFixed(2)} pm)</p>\n                </div>\n              </div>\n\n              <div className=\"form-compare-card-btn-signup-container\">\n                <button className=\"form-compare-card-btn-custom btn-signup\">Choose plan</button>\n              </div>\n\n              <h3>Tariff details</h3>\n\n              <div className=\"form-compare-details-container\">\n                <div className=\"form-compare-single-details\">\n                  <p>Supplier: <span>{data.supplier_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Plan name: <span>{data.tariff_name}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <ReviewStars stars={data.review_rating} customClass={true} />\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Early exit fee: <span>£{data.exit_fees}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Estimated annual cost: <span>£{data.annual_cost}</span></p>\n                </div>\n\n                <div className=\"form-compare-single-details\">\n                  <p>Monthly direct debit: <span>£{data.monthly_cost}</span></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )\n    }).then(async (result) => {\n      if (result !== true) {\n        return;\n      }\n\n      if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n        // Update Error\n        updateError(true);\n        return;\n      }\n\n      //Show Overlay\n      updateShowOverlay(true);\n\n      // Email agent\n      // const agentEmail = {\"email\": user.email};\n      const agentEmail = { \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com' };\n\n      // Endpoint\n      const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';\n      // Fetch customer data\n      await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(agentEmail),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n      }).then((response) => {\n        return response.json();\n      }).then((response) => {\n        // console.log(response);\n        // Update Customer informatin\n        updateCustomerInformation({\n          ...customerInformation,\n          agent: { email: user.email },\n          customerDetails: {\n            first_name: response.first_name ? response.first_name : '',\n            last_name: response.last_name ? response.last_name : '',\n            email: response.email ? response.email : '',\n            phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n          }\n        });\n\n        return response;\n      }).catch((error) => {\n        // Error\n        console.error(`Catch an error fetching to postcoder ${error}`);\n        // Update Customer informatin\n        updateCustomerInformation({\n          ...customerInformation,\n          agent: { email: user.email },\n          customerDetails: {\n            first_name: '',\n            last_name: '',\n            email: '',\n            phone: ''\n          }\n        });\n      });\n\n      // Hide Overlay\n      updateShowOverlay(false);\n      // Update Error\n      updateError(false);\n      // Hide Form Compare\n      updateShowFormCompare(false);\n      // Update Progress Bar\n      updateProgressBar({ ...progressBar, step: 8 });\n      // Show Details\n      updateShowFormDetails(true);\n\n      console.log('perra');\n    });\n  };\n\n  // cardSelected\n  const cardSelected = (e, id) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n\n    /**-- Adding active state to the card selected --*/\n    // ID of card selected\n    const card_id = id;\n    // Selected card\n    const card_content = document.getElementById(card_id);\n\n    // Add class active\n    card_content.classList.add('active-card');\n\n    // Add and remove class\n    let active_class = document.querySelectorAll(\".active-card\");\n    [].forEach.call(active_class, function (el) {\n      el.classList.remove(\"active-card\");\n    });\n\n    if (card_id === sorted_data[0].tariff_id) {\n      card_content.className = \"form-compare-card-content active-card bestMatch-card\";\n    } else {\n      card_content.className = \"form-compare-card-content active-card\";\n    }\n\n    // Supplier selected\n    const supplier_selected = content.sorted_data.find(element => element.tariff_id == card_id);\n\n    // Switching details\n    const switching_details = {\n      supplier_selected\n    }\n\n    // Update customer information\n    updateCustomerInformation({\n      ...customerInformation,\n      switching_details\n    });\n\n    // Updating best match content\n    const { tariff_name, supplier_name } = supplier_selected;\n\n    setBestMatch({\n      ...bestMatch,\n      tariff_name,\n      supplier_name\n    });\n  };\n\n  // Adding initial customer data to firebase (Coming from Supply cc)\n  useEffect(() => {\n    /**-- Firebase --*/\n    (async () => {\n      const { customerAddres, useGas, fuel, fuel_description, supplierInformation, electricityPaymentType, gasPaymentType, economy7, tariff_description, tariff_description_elec, tariff_description_gas, usage_property_size_dual, usage_property_size_es, usage_property_size_gs, usage_gas_description, usage_gbp_description_gs, usage_kwh_description, usage_gbp_description_es, debt } = customerInformation;\n\n      console.log('Aqui aqui');\n      console.log(debt);\n\n      // elec_only || gas_only\n      if (elec_only || gas_only) {\n        db.collection(\"customers\").doc(uid).set({\n          created: firebase.firestore.FieldValue.serverTimestamp(),\n          step: 7,\n          customerAddres: {\n            doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n            addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n            addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n            city: customerAddres.city ? customerAddres.city : '',\n            postcode: customerAddres.postcode ? customerAddres.postcode : '',\n            mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n          },\n          MPANDetails: {\n            mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n            meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n            supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n            company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n          },\n          dataGas: {\n            current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n            meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n            mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n            company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n          },\n          useGas: {\n            gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n          },\n          fuel: {\n            dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n          },\n          fuel_description: {\n            dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n            elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n            gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n            same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n          },\n          supplierInformation: {\n            electricity_supplier: {\n              company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n              meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n              mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n              supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n            },\n            gas_supplier: {\n              company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n              current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n              meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n              mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n            }\n          },\n          electricityPaymentType: {\n            electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n            electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n          },\n          gasPaymentType: {\n            gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n            gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n          },\n          economy7: {\n            economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n            economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n          },\n          tariff_description,\n          // AVG\n          usage_property_size_dual: {\n            usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n          },\n          usage_property_size_es: {\n            usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n          },\n          usage_property_size_gs: {\n            usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n            usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n          },\n          // GAS\n          usage_gas_description: {\n            usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n          },\n          usage_gbp_description_gs: {\n            usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n          },\n          // Elec\n          usage_kwh_description: {\n            usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n            usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n            usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n          },\n          usage_gbp_description_es: {\n            usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n            usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n            usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n          },\n          // AVG ELEC\n          avgElec: avgElec,\n          // AVG Gas\n          avgGas: avgGas,\n          debt\n        });\n      }\n\n      // dual_active\n      if (dual_active) {\n        // same_supplier\n        if (same_supplier) {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 7,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        } else {\n          db.collection(\"customers\").doc(uid).set({\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            step: 7,\n            customerAddres: {\n              doornumber: customerAddres.doornumber ? customerAddres.doornumber : '',\n              addressline1: customerAddres.addressline1 ? customerAddres.addressline1 : '',\n              addressline2: customerAddres.addressline2 ? customerAddres.addressline2 : '',\n              city: customerAddres.city ? customerAddres.city : '',\n              postcode: customerAddres.postcode ? customerAddres.postcode : '',\n              mpan: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : ''\n            },\n            MPANDetails: {\n              mpan_core: electricityInformation.MPANDetails.mpan_core ? electricityInformation.MPANDetails.mpan_core : '',\n              meter_type: electricityInformation.MPANDetails.meter_type ? electricityInformation.MPANDetails.meter_type : '',\n              supplier_mpid: electricityInformation.MPANDetails.supplier_mpid ? electricityInformation.MPANDetails.supplier_mpid : '',\n              company_name: electricityInformation.MPANDetails.company_name ? electricityInformation.MPANDetails.company_name : ''\n            },\n            dataGas: {\n              current_supplier_id: gasInformation.dataGas.current_supplier_id ? gasInformation.dataGas.current_supplier_id : '',\n              meter_mechanism_code: gasInformation.dataGas.meter_mechanism_code ? gasInformation.dataGas.meter_mechanism_code : '',\n              mprn: gasInformation.dataGas.mprn ? gasInformation.dataGas.mprn : '',\n              company_name: gasInformation.dataGas.company_name ? gasInformation.dataGas.company_name : ''\n            },\n            useGas: {\n              gas_apply: useGas.gas_apply ? useGas.gas_apply : false\n            },\n            fuel: {\n              dual_fuel_apply: fuel.dual_fuel_apply ? fuel.dual_fuel_apply : false\n            },\n            fuel_description: {\n              dual_active: fuel_description.dual_active ? fuel_description.dual_active : false,\n              elec_only: fuel_description.elec_only ? fuel_description.elec_only : false,\n              gas_only: fuel_description.gas_only ? fuel_description.gas_only : false,\n              same_supplier: fuel_description.same_supplier ? fuel_description.same_supplier : false\n            },\n            supplierInformation: {\n              electricity_supplier: {\n                company_name: supplierInformation.electricity_supplier.company_name ? supplierInformation.electricity_supplier.company_name : '',\n                meter_type: supplierInformation.electricity_supplier.meter_type ? supplierInformation.electricity_supplier.meter_type : '',\n                mpan_core: supplierInformation.electricity_supplier.mpan_core ? supplierInformation.electricity_supplier.mpan_core : '',\n                supplier_mpid: supplierInformation.electricity_supplier.supplier_mpid ? supplierInformation.electricity_supplier.supplier_mpid : ''\n              },\n              gas_supplier: {\n                company_name: supplierInformation.gas_supplier.company_name ? supplierInformation.gas_supplier.company_name : '',\n                current_supplier_id: supplierInformation.gas_supplier.current_supplier_id ? supplierInformation.gas_supplier.current_supplier_id : '',\n                meter_mechanism_code: supplierInformation.gas_supplier.meter_mechanism_code ? supplierInformation.gas_supplier.meter_mechanism_code : '',\n                mprn: supplierInformation.gas_supplier.mprn ? supplierInformation.gas_supplier.mprn : ''\n              }\n            },\n            electricityPaymentType: {\n              electricity_payment_type_id: electricityPaymentType.electricity_payment_type_id ? electricityPaymentType.electricity_payment_type_id : '',\n              electricity_payment_type_method: electricityPaymentType.electricity_payment_type_method ? electricityPaymentType.electricity_payment_type_method : ''\n            },\n            gasPaymentType: {\n              gas_payment_type_id: gasPaymentType.gas_payment_type_id ? gasPaymentType.gas_payment_type_id : '',\n              gas_payment_type_method: gasPaymentType.gas_payment_type_method ? gasPaymentType.gas_payment_type_method : ''\n            },\n            economy7: {\n              economy7_apply: economy7.economy7_apply ? economy7.economy7_apply : false,\n              economy7_split: economy7.economy7_split ? economy7.economy7_split : false\n            },\n            tariff_description_elec,\n            tariff_description_gas,\n            // AVG\n            usage_property_size_dual: {\n              usage_size_entered: !!usage_property_size_dual ? usage_property_size_dual.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_dual ? usage_property_size_dual.usage_size_expended : false\n            },\n            usage_property_size_es: {\n              usage_size_entered: !!usage_property_size_es ? usage_property_size_es.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_es ? usage_property_size_es.usage_size_expended : false,\n            },\n            usage_property_size_gs: {\n              usage_size_entered: !!usage_property_size_gs ? usage_property_size_gs.usage_size_entered : false,\n              usage_size_expended: !!usage_property_size_gs ? usage_property_size_gs.usage_size_expended : false\n            },\n            // GAS\n            usage_gas_description: {\n              usage_kwh_entered: !!usage_gas_description ? usage_gas_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_gas_description ? usage_gas_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_gas_description ? usage_gas_description.usage_kwh_period : false\n            },\n            usage_gbp_description_gs: {\n              usage_gbp_entered: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_gs ? usage_gbp_description_gs.usage_gbp_period : false\n            },\n            // Elec\n            usage_kwh_description: {\n              usage_kwh_entered: !!usage_kwh_description ? usage_kwh_description.usage_kwh_entered : false,\n              usage_kwh_expended: !!usage_kwh_description ? usage_kwh_description.usage_kwh_expended : false,\n              usage_kwh_period: !!usage_kwh_description ? usage_kwh_description.usage_kwh_period : false\n            },\n            usage_gbp_description_es: {\n              usage_gbp_entered: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_entered : false,\n              usage_gbp_expended: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_expended : false,\n              usage_gbp_period: !!usage_gbp_description_es ? usage_gbp_description_es.usage_gbp_period : false\n            },\n            // AVG ELEC\n            avgElec: avgElec,\n            // AVG Gas\n            avgGas: avgGas\n          });\n        }\n      }\n    })();\n\n  }, [FormCompare]);\n\n  // goToCustomerDetails\n  const goToCustomerDetails = async (e) => {\n    e.preventDefault();\n\n    if (!!customerInformation.hasOwnProperty('switching_details') === false) {\n      // Update Error\n      updateError(true);\n      return;\n    }\n\n    //Show Overlay\n    updateShowOverlay(true);\n\n    // Email agent\n    const agentEmail = {\"email\": user.email};\n    // const agentEmail = { \"email\": 'jesus-ramon.sicairos@utilityswitchboard.com' };\n\n    // Endpoint\n    const url = 'https://zohocontactcreatefunction.azurewebsites.net/api/HttpTrigger1?method=verifyContact';\n    // Fetch customer data\n    await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(agentEmail),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    }).then((response) => {\n      return response.json();\n    }).then((response) => {\n      // console.log(response);\n      // Update Customer informatin\n      updateCustomerInformation({\n        ...customerInformation,\n        agent: { email: user.email },\n        customerDetails: {\n          first_name: response.first_name ? response.first_name : '',\n          last_name: response.last_name ? response.last_name : '',\n          email: response.email ? response.email : '',\n          phone: response.phone ? parsePhoneNumber(response.phone, 'GB').number : ''\n        }\n      });\n\n      return response;\n    }).catch((error) => {\n      // Error\n      console.error(`Catch an error fetching to postcoder ${error}`);\n      // Update Customer informatin\n      updateCustomerInformation({\n        ...customerInformation,\n        agent: { email: user.email },\n        customerDetails: {\n          first_name: '',\n          last_name: '',\n          email: '',\n          phone: ''\n        }\n      });\n    });\n\n    // Hide Overlay\n    updateShowOverlay(false);\n    // Update Error\n    updateError(false);\n    // Hide Form Compare\n    updateShowFormCompare(false);\n    // Update Progress Bar\n    updateProgressBar({ ...progressBar, step: 8 });\n    // Show Details\n    updateShowFormDetails(true);\n  }\n\n  // Go Back\n  const goBack = (e) => {\n    e.preventDefault();\n\n    // Update Error\n    updateError(false);\n    // Hide Form Compare\n    updateShowFormCompare(false);\n    // Delete Customer Usage\n    const copy_customer_usage = { ...customerInformation };\n    delete copy_customer_usage['debt'];\n    // Update customer information\n    updateCustomerInformation({ ...copy_customer_usage });\n    // Show Form Debt\n    updateShowFormDebt(true)\n    // Update Progress Bar\n    updateProgressBar({ ...progressBar, step: 7 });\n  }\n\n  // Filterby\n  const filterBy = (e) => {\n    let target = e.target.value;\n\n    // Hide error\n    updateError(false);\n\n    if (target === 'monthly_cost') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"monthly_cost\"))\n      });\n    };\n\n    if (target === 'exit_fees') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"exit_fees\"))\n      });\n    };\n\n    if (target === 'review_rating') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"review_rating\")).reverse()\n      });\n    };\n\n    if (target === 'supplier_code') {\n      updateContent({\n        ...content,\n        sorted_data: sorted_data.sort(sortByProperty(\"supplier_code\"))\n      });\n    };\n\n    // Delete Customer Usage\n    const copy_customer_usage = { ...customerInformation };\n    delete copy_customer_usage['switching_details'];\n    // Update customer information\n    updateCustomerInformation({ ...copy_customer_usage });\n\n    let activeCard_el = document.getElementsByClassName('active-card');\n    if (activeCard_el.length > 0) {\n      let activeCard_id = activeCard_el[0].id;\n      let activeCard = document.getElementById(activeCard_id);\n      activeCard.classList.remove('active-card');\n    }\n\n  }\n\n  // Use Effect to select the best tariff (Monthly cost) in the first render\n  useEffect(() => {\n    if (content.hasOwnProperty('sorted_data')) {\n      // Select best match\n      let bestMatch = content.sorted_data[0];\n      // Best match id\n      let bestMatch_id = bestMatch.tariff_id;\n      // Add active card to best match\n      document.getElementById(bestMatch_id).classList.add('bestMatch-card');\n      // Box deal Best Match\n      let bestMatchBox = document.getElementById(`best_match${bestMatch_id}`);\n      let select = document.getElementById('filterPlan');\n      var selectedText = select.options[select.selectedIndex].text;\n      // Adding text\n      bestMatchBox.innerText = `Best match - By ${selectedText.toLowerCase()}`;\n      bestMatchBox.style.padding = '.5rem 1rem'\n\n      const { tariff_name, supplier_name } = bestMatch;\n\n      setBestMatch({\n        ...bestMatch,\n        tariff_name,\n        supplier_name\n      });\n    }\n  }, [content]);\n\n  return (\n    <>\n      <form>\n        {contentLoaded ?\n          (\n            <section className=\"form-compare-section\">\n              <div className=\"form-compare-container\">\n                <div className=\"form-compare-content\">\n                  <div className=\"form-compare\">\n                    <h1>Results</h1>\n                    <p>Thank you for answering my questions, I can see that if you switch to the <strong>{bestMatch.tariff_name}</strong> with <strong>{bestMatch.supplier_name}</strong> you will save <strong>*INSERT SAVINGS*</strong> per year! So it will be only <strong>£{bestMatch.monthly_cost}</strong> per month. This tariff also comes with <strong>*INSERT TARIFF BENEFIT*</strong>.</p>\n                  </div>\n\n                  <div className=\"filterBy-container\">\n                    <label htmlFor=\"filterPlan\">Filter By</label>\n\n                    <select name=\"plan\" id=\"filterPlan\" defaultValue=\"monthly_cost\" onChange={(e) => filterBy(e)}>\n                      <option value=\"\">―</option>\n                      <option value=\"saving\">Savings</option>\n                      <option value=\"renewal\">Renewal</option>\n                      <option value=\"monthly_cost\">Monthly cost</option>\n                      <option value=\"exit_fees\">Exit fees</option>\n                      <option value=\"review_rating\">Reviews</option>\n                      <option value=\"supplier_code\">Supplier</option>\n                    </select>\n                  </div>\n\n                  {sorted_data.slice(0, array_to).map((data) => (\n                    <div key={data.tariff_id}>\n                      <div className=\"sticky\"><p id={`best_match${data.tariff_id}`}></p></div>\n                      <div className=\"form-compare-card-container\">\n                        <div className=\"form-compare-card-content\" id={data.tariff_id} onClick={(e) => cardSelected(e, data.tariff_id)}>\n                          <div className=\"form-compare-card-column\">\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-supplier\">\n                                <div className=\"form-compare-card-image\">\n                                  <img src={data.supplier_img} />\n                                </div>\n\n                                <div className=\"form-compare-card-info\">\n                                  <h2>{data.tariff_name}</h2>\n                                  <ReviewStars stars={data.review_rating} />\n                                </div>\n                              </div>\n                            </div>\n\n                            <hr className=\"hr-custom\" />\n\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-fees\">\n                                <p>Exit fees</p>\n                                <p><span>£{data.exit_fees}</span></p>\n                              </div>\n\n                              <div className=\"form-compare-card-fixed\">\n                                <p>Fixed period</p>\n                                <p><span>{data.fixed_period} months</span></p>\n                              </div>\n\n                              <div className=\"form-compare-card-cost\">\n                                <p>Monthly cost</p>\n                                <p><span>£{data.monthly_cost}</span></p>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"form-compare-card-column\">\n                            <div className=\"form-compare-card-row\">\n                              <div className=\"form-compare-card-btn-container\">\n                                <button className=\"form-compare-card-btn btn-signup\" type=\"submit\" id={data.tariff_id} onClick={(e) => choosePlan(e, data)}>Choose plan</button>\n                                <button type=\"button\" className=\"form-compare-card-btn btn-tariff\" onClick={(e) => { tariff_info(e, data) }}>Tariff info</button>\n                                <div className=\"form-compare-card-btn-info\">\n                                  <p><span>Savings</span> - £{(usage - data.annual_cost).toFixed(2)} now</p>\n                                  <p>or £231 at renewal</p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n\n                  <div className=\"form-compare-loadmore-btn-container\">\n                    <button className=\"form-compare-loadmore-btn\" onClick={(e) => load_more(e)}>Show more results</button>\n                  </div>\n\n                  {/* Error */}\n                  {error === true ? <Error message={'Please selected a tariff to sign up'} /> : null}\n\n                  {/* Buttons */}\n                  <div className=\"form-compare-btn-container\">\n                    <button className=\"form-compare-btn btn-back\" onClick={(e) => goBack(e)}>\n                      <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                        <IoMdArrowDropleft className=\"icon-back\" />\n                      </IconContext.Provider>\n                      Go back\n                    </button>\n\n                    <button className=\"form-compare-btn btn-next\" onClick={(e) => goToCustomerDetails(e)}>\n                      Continue\n\n                      <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                        <IoMdArrowDropright className=\"icon-next\" />\n                      </IconContext.Provider>\n                    </button>\n                  </div>\n                </div>\n\n                {showScript ?\n                  (\n                    <div className=\"helper-compare\">\n                      <div className=\"script-compare\">\n                        <FormScript step={9} />\n                      </div>\n\n                      <div className=\"assistant-compare-custom\">\n                        <FormAssistant tips={9} />\n                      </div>\n                    </div>\n                  )\n                  :\n                  <div style={{ width: '100%' }}>\n                    <div className=\"assistant-compare\">\n                      <FormAssistant tips={9} />\n                    </div>\n                  </div>\n                }\n              </div>\n            </section>\n          )\n          :\n          null\n        }\n      </form>\n    </>\n  );\n}\n\nexport default FormCompare;\n"]},"metadata":{},"sourceType":"module"}