{"ast":null,"code":"import _objectSpread from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/juanlugo/Desktop/sp-firebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./FormUsageGBP_es.css\";// Icons\nimport{IconContext}from\"react-icons\";import{IoMdArrowDropleft,IoMdArrowDropright}from'react-icons/io';// Components\nimport FormScript from'../../FormScript/FormScript';import FormAssistant from\"../../FormAssistant/FormAssistant\";import Error from'../../../Error/Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FormUsageGBP_es(_ref){var customerInformation=_ref.customerInformation,progressBar=_ref.progressBar,showScript=_ref.showScript,updateCustomerInformation=_ref.updateCustomerInformation,updateShowFormUsageKWH=_ref.updateShowFormUsageKWH,updateShowFormUsageGBP_es=_ref.updateShowFormUsageGBP_es,updateShowFormUsageAVG=_ref.updateShowFormUsageAVG,updateShowFormDebt=_ref.updateShowFormDebt,updateShowFormUsageGAS=_ref.updateShowFormUsageGAS,updateAvgElec=_ref.updateAvgElec,updateProgressBar=_ref.updateProgressBar;/* STATES */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),idk_active=_useState2[0],update_idk_active=_useState2[1];// Error State\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],updateError=_useState4[1];var _useState5=useState({message:''}),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];/* FUNCTIONS */ // Scroll to top\nuseEffect(function(){window.scrollTo({top:0,behavior:'smooth'});},[]);// Variables\nvar dual_active=customerInformation.fuel_description.dual_active;// Handle Click - idk\nvar handleClick=function handleClick(e){e.preventDefault();// Update Error\nupdateError(false);// Update state\nupdate_idk_active(!idk_active);var usage_gbp_description_es={usage_gbp_entered:false,usage_gbp_expended:false,usage_gbp_period:false};// Update state\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{usage_gbp_description_es:usage_gbp_description_es}));};// Handle Change - Input\nvar handleChange=function handleChange(e){// Update Error\nupdateError(false);var usage_select=document.getElementById('usage_select').value;var usage_gbp_description_es={usage_gbp_entered:true,usage_gbp_expended:e.target.value.replace(/[^0-9\\.]+/g,'').trim(),usage_gbp_period:usage_select};// Update state\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{usage_gbp_description_es:usage_gbp_description_es}));};// Initial Values - Inputs\nvar value_gbp='';if(value_gbp){value_gbp=customerInformation.usage_gbp_description_es.usage_gbp_expended;}// Send usage\nvar sendUsage=function sendUsage(e){e.preventDefault();var usage_value=document.getElementById('usage_gbp_id').value;var usage_gbp_period=document.getElementById('usage_select').value;// Validation\nif(parseFloat(usage_value)>10865.99&&usage_gbp_period==='annu'||parseFloat(usage_value)>905.50&&usage_gbp_period==='mo'){var amount='';var period='';// Amount & period\nif(usage_gbp_period==='annu'){amount=10865.99;period='year';}else{amount=905.50;period='month';}// Set Error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:\"Please check how much you spend on electricity per \".concat(period,\". If you spend more than \\xA3\").concat(amount.toFixed(2),\" per \").concat(period,\" we can't compare this against domestic consumption tariffs.\")}));// Show error\nupdateError(true);return;}// Validation\nif(usage_value===''){// Update Error\nupdateError(true);// Set Error message\nsetErrorMessage(_objectSpread(_objectSpread({},errorMessage),{},{message:\"Please introduce a valid usage\"}));return;}else{var usage_gbp_expended=customerInformation.usage_gbp_description_es.usage_gbp_expended;// View conditional\nvar usage_kwh_entered=customerInformation.usage_kwh_description.usage_kwh_entered;var usage_gbp_entered=customerInformation.usage_gbp_description_es.usage_gbp_entered;if(usage_kwh_entered===false&&usage_gbp_entered===false){if(dual_active){//Dual_active\n// Show Form Usage Gas\nupdateShowFormUsageGAS(true);}else{// Show usage AVG\nupdateShowFormUsageAVG(true);}// Hidde usage GBP\nupdateShowFormUsageGBP_es(false);// Update state\nupdateAvgElec(true);}else{// Update state\nupdateAvgElec(false);var usage_gbp_description_es={usage_gbp_entered:usage_gbp_entered,usage_gbp_expended:usage_gbp_expended,usage_gbp_period:usage_gbp_period};// Update Customer Information\nupdateCustomerInformation(_objectSpread(_objectSpread({},customerInformation),{},{usage_gbp_description_es:usage_gbp_description_es}));if(dual_active){// Hidde Form Usage GBP_es\nupdateShowFormUsageGBP_es(false);// Show Form Usage Gas\nupdateShowFormUsageGAS(true);}else{// Hidde Form Usage GBP_es\nupdateShowFormUsageGBP_es(false);// Show Form Debt\nupdateShowFormDebt(true);// Update Progressbar\nupdateProgressBar(_objectSpread(_objectSpread({},progressBar),{},{step:7}));console.log('Show Debt');}}}};// Go back\nvar goBack=function goBack(e){e.preventDefault();// Update Error\nupdateError(false);// Delete Customer Usage\nvar copy_customer_usage=_objectSpread({},customerInformation);delete copy_customer_usage['usage_gbp_description_es'];delete copy_customer_usage['usage_kwh_description'];//Update Customer Information\nupdateCustomerInformation(_objectSpread({},copy_customer_usage));// Hidde Form GBP\nupdateShowFormUsageGBP_es(false);// Show Form KWH\nupdateShowFormUsageKWH(true);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"form-usagegbp-es-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegbp-es-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegbp-es-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegbp-es\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"How much spend in electricity?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat aut sint, possimus suscipit hic obcaecati ad necessitatibus eum asperiores maiores in, inventore quidem quibusdam modi. Veniam recusandae maiores voluptatem voluptates?\"})]}),idk_active?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{className:idk_active?\"form-usagegbp-es-input-container customContainer\":null,children:[/*#__PURE__*/_jsx(\"span\",{className:idk_active?\"customSpan\":null,children:\"\\xA3\"}),/*#__PURE__*/_jsx(\"input\",{id:\"usage_gbp_id\",type:\"text\",name:\"usage_gbp\",onChange:function onChange(e){return handleChange(e);},className:\"form-usagegbp-es-input\",disabled:true,value:\"I don't know\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-usagegbp-es-select\",id:\"usage_select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"annu\",children:\"Annually\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mo\",children:\"Monthly\"})]})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegbp-es-input-container\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA3\"}),/*#__PURE__*/_jsx(\"input\",{\"data-cy\":\"gbpes-input\",id:\"usage_gbp_id\",type:\"number\",name:\"usage_gbp\",onChange:function onChange(e){return handleChange(e);},className:\"form-usagegbp-es-input\",defaultValue:value_gbp||''})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-usagegbp-es-select\",id:\"usage_select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"annu\",children:\"Annually\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mo\",children:\"Monthly\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{\"data-cy\":\"gbpes-idk\",className:\"form-usagegbp-es-idk\",onClick:function onClick(e){return handleClick(e);},children:idk_active?\"Enable input\":\"I don't know\"}),error===true?/*#__PURE__*/_jsx(Error,{message:errorMessage.message}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"form-usagegbp-es-btn-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"form-usagegbp-es-btn btn-back\",onClick:function onClick(e){return goBack(e);},children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#D338AE',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropleft,{className:\"icon-back\"})}),\"Go back\"]}),/*#__PURE__*/_jsxs(\"button\",{\"data-cy\":\"gbpes-continue\",className:\"form-usagegbp-es-btn btn-next\",onClick:function onClick(e){return sendUsage(e);},children:[\"Continue\",/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:'#FFF',size:'35px'},children:/*#__PURE__*/_jsx(IoMdArrowDropright,{className:\"icon-next\"})})]})]})]}),showScript?/*#__PURE__*/_jsxs(\"div\",{className:\"helper-usagegbp-es\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"script-usagegbp-es\",children:/*#__PURE__*/_jsx(FormScript,{step:7,use:'gbp_es'})}),/*#__PURE__*/_jsx(\"div\",{className:\"assistant-usagegbp-es-custom\",children:/*#__PURE__*/_jsx(FormAssistant,{tips:6})})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:'100%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"assistant-usagegbp-es\",children:/*#__PURE__*/_jsx(FormAssistant,{tips:6})})})]})})});}export default FormUsageGBP_es;","map":{"version":3,"sources":["/Users/juanlugo/Desktop/sp-firebase/src/components/FormCards/FormsUsage/FormUsageGBP_es/FormUsageGBP_es.jsx"],"names":["React","useState","useEffect","IconContext","IoMdArrowDropleft","IoMdArrowDropright","FormScript","FormAssistant","Error","FormUsageGBP_es","customerInformation","progressBar","showScript","updateCustomerInformation","updateShowFormUsageKWH","updateShowFormUsageGBP_es","updateShowFormUsageAVG","updateShowFormDebt","updateShowFormUsageGAS","updateAvgElec","updateProgressBar","idk_active","update_idk_active","error","updateError","message","errorMessage","setErrorMessage","window","scrollTo","top","behavior","dual_active","fuel_description","handleClick","e","preventDefault","usage_gbp_description_es","usage_gbp_entered","usage_gbp_expended","usage_gbp_period","handleChange","usage_select","document","getElementById","value","target","replace","trim","value_gbp","sendUsage","usage_value","parseFloat","amount","period","toFixed","usage_kwh_entered","usage_kwh_description","step","console","log","goBack","copy_customer_usage","display","color","size","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FormUsageGBP_es.css\";\n\n// Icons\nimport { IconContext } from \"react-icons\";\nimport { IoMdArrowDropleft, IoMdArrowDropright } from 'react-icons/io';\n// Components\nimport FormScript from '../../FormScript/FormScript';\nimport FormAssistant from \"../../FormAssistant/FormAssistant\";\nimport Error from '../../../Error/Error'\n\nfunction FormUsageGBP_es({ customerInformation, progressBar, showScript, updateCustomerInformation, updateShowFormUsageKWH, updateShowFormUsageGBP_es, updateShowFormUsageAVG, updateShowFormDebt, updateShowFormUsageGAS, updateAvgElec, updateProgressBar }) {\n  /* STATES */\n  const [idk_active, update_idk_active] = useState(false);\n\n  // Error State\n  const [error, updateError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({\n    message: ''\n  });\n\n  /* FUNCTIONS */\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Variables\n  const dual_active = customerInformation.fuel_description.dual_active;\n\n  // Handle Click - idk\n  const handleClick = (e) => {\n    e.preventDefault();\n    // Update Error\n    updateError(false);\n    // Update state\n    update_idk_active(!idk_active);\n    const usage_gbp_description_es = {\n      usage_gbp_entered: false,\n      usage_gbp_expended: false,\n      usage_gbp_period: false\n    }\n    // Update state\n    updateCustomerInformation({\n      ...customerInformation,\n      usage_gbp_description_es\n    });\n  }\n\n  // Handle Change - Input\n  const handleChange = (e) => {\n    // Update Error\n    updateError(false);\n    const usage_select = document.getElementById('usage_select').value;\n    const usage_gbp_description_es = {\n      usage_gbp_entered: true,\n      usage_gbp_expended: e.target.value.replace(/[^0-9\\.]+/g, '').trim(),\n      usage_gbp_period: usage_select\n    }\n    // Update state\n    updateCustomerInformation({\n      ...customerInformation,\n      usage_gbp_description_es\n    });\n  }\n\n  // Initial Values - Inputs\n  let value_gbp = '';\n  if (value_gbp) {\n    value_gbp = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n  }\n\n  // Send usage\n  const sendUsage = (e) => {\n    e.preventDefault();\n    const usage_value = document.getElementById('usage_gbp_id').value;\n    const usage_gbp_period = document.getElementById('usage_select').value;\n\n    // Validation\n    if (((parseFloat(usage_value) > 10865.99) && (usage_gbp_period === 'annu')) || ((parseFloat(usage_value) > 905.50) && (usage_gbp_period === 'mo'))) {\n      let amount = '';\n      let period = '';\n\n      // Amount & period\n      if (usage_gbp_period === 'annu') {\n        amount = 10865.99;\n        period = 'year';\n      } else {\n        amount = 905.50;\n        period = 'month';\n      }\n      // Set Error message\n      setErrorMessage({\n        ...errorMessage,\n        message: `Please check how much you spend on electricity per ${period}. If you spend more than £${amount.toFixed(2)} per ${period} we can't compare this against domestic consumption tariffs.`\n      });\n      // Show error\n      updateError(true);\n      return;\n    }\n\n    // Validation\n    if (usage_value === '') {\n      // Update Error\n      updateError(true);\n      // Set Error message\n      setErrorMessage({\n        ...errorMessage,\n        message: \"Please introduce a valid usage\"\n      });\n      return;\n    } else {\n      const usage_gbp_expended = customerInformation.usage_gbp_description_es.usage_gbp_expended;\n      // View conditional\n      const usage_kwh_entered = customerInformation.usage_kwh_description.usage_kwh_entered;\n      const usage_gbp_entered = customerInformation.usage_gbp_description_es.usage_gbp_entered;\n      if ((usage_kwh_entered === false) && (usage_gbp_entered === false)) {\n        if (dual_active) { //Dual_active\n          // Show Form Usage Gas\n          updateShowFormUsageGAS(true);\n        } else {\n          // Show usage AVG\n          updateShowFormUsageAVG(true);\n        }\n        // Hidde usage GBP\n        updateShowFormUsageGBP_es(false);\n        // Update state\n        updateAvgElec(true);\n\n      } else {\n        // Update state\n        updateAvgElec(false);\n\n        const usage_gbp_description_es = {\n          usage_gbp_entered,\n          usage_gbp_expended,\n          usage_gbp_period\n        }\n        // Update Customer Information\n        updateCustomerInformation({\n          ...customerInformation,\n          usage_gbp_description_es\n        });\n\n        if (dual_active) {\n          // Hidde Form Usage GBP_es\n          updateShowFormUsageGBP_es(false);\n          // Show Form Usage Gas\n          updateShowFormUsageGAS(true);\n        } else {\n          // Hidde Form Usage GBP_es\n          updateShowFormUsageGBP_es(false);\n          // Show Form Debt\n          updateShowFormDebt(true);\n          // Update Progressbar\n          updateProgressBar({ ...progressBar, step: 7 });\n          console.log('Show Debt');\n        }\n      }\n    }\n  }\n\n  // Go back\n  const goBack = (e) => {\n    e.preventDefault();\n    // Update Error\n    updateError(false);\n    // Delete Customer Usage\n    const copy_customer_usage = { ...customerInformation };\n    delete copy_customer_usage['usage_gbp_description_es'];\n    delete copy_customer_usage['usage_kwh_description'];\n    //Update Customer Information\n    updateCustomerInformation({ ...copy_customer_usage });\n    // Hidde Form GBP\n    updateShowFormUsageGBP_es(false);\n    // Show Form KWH\n    updateShowFormUsageKWH(true);\n  };\n\n  return (\n    <>\n      <section className=\"form-usagegbp-es-section\">\n        <div className=\"form-usagegbp-es-container\">\n          <div className=\"form-usagegbp-es-content\">\n            <div className=\"form-usagegbp-es\">\n              <h1>How much spend in electricity?</h1>\n              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat aut sint, possimus suscipit hic obcaecati ad necessitatibus eum asperiores maiores in, inventore quidem quibusdam modi. Veniam recusandae maiores voluptatem voluptates?</p>\n            </div>\n\n            {idk_active ?\n              (\n                <>\n                  <div style={{ display: 'flex' }}>\n                    <div className={idk_active ? \"form-usagegbp-es-input-container customContainer\" : null} >\n                      <span className={idk_active ? \"customSpan\" : null}>£</span>\n                      <input id=\"usage_gbp_id\" type=\"text\" name=\"usage_gbp\" onChange={(e) => handleChange(e)} className=\"form-usagegbp-es-input\" disabled value=\"I don't know\" />\n                    </div>\n                    <select className=\"form-usagegbp-es-select\" id=\"usage_select\">\n                      <option value=\"annu\">Annually</option>\n                      <option value=\"mo\">Monthly</option>\n                    </select>\n                  </div>\n                </>\n              )\n              :\n              (\n                <>\n                  <div style={{ display: 'flex' }}>\n                    <div className=\"form-usagegbp-es-input-container\" >\n                      <span>£</span>\n                      <input data-cy=\"gbpes-input\" id=\"usage_gbp_id\" type=\"number\" name=\"usage_gbp\" onChange={(e) => handleChange(e)} className=\"form-usagegbp-es-input\" defaultValue={value_gbp || ''} />\n                    </div>\n                    <select className=\"form-usagegbp-es-select\" id=\"usage_select\">\n                      <option value=\"annu\">Annually</option>\n                      <option value=\"mo\">Monthly</option>\n                    </select>\n                  </div>\n                </>\n              )\n            }\n\n            <button data-cy=\"gbpes-idk\" className=\"form-usagegbp-es-idk\" onClick={(e) => handleClick(e)}>{idk_active ? \"Enable input\" : \"I don't know\"}</button>\n\n            {/* Error */}\n            {error === true ?\n              (\n                <Error message={errorMessage.message} />\n              )\n              :\n              null}\n\n            {/* Buttons */}\n            <div className=\"form-usagegbp-es-btn-container\">\n              <button className=\"form-usagegbp-es-btn btn-back\" onClick={(e) => goBack(e)}>\n                <IconContext.Provider value={{ color: '#D338AE', size: '35px' }}>\n                  <IoMdArrowDropleft className=\"icon-back\" />\n                </IconContext.Provider>\n                Go back\n              </button>\n\n              <button data-cy=\"gbpes-continue\" className=\"form-usagegbp-es-btn btn-next\" onClick={(e) => sendUsage(e)}>\n                Continue\n\n                <IconContext.Provider value={{ color: '#FFF', size: '35px' }}>\n                  <IoMdArrowDropright className=\"icon-next\" />\n                </IconContext.Provider>\n              </button>\n            </div>\n          </div>\n\n          {showScript ?\n            (\n              <div className=\"helper-usagegbp-es\">\n                <div className=\"script-usagegbp-es\">\n                  <FormScript step={7} use={'gbp_es'} />\n                </div>\n\n                <div className=\"assistant-usagegbp-es-custom\">\n                  <FormAssistant tips={6} />\n                </div>\n              </div>\n            )\n            :\n            <div style={{ width: '100%' }}>\n              <div className=\"assistant-usagegbp-es\">\n                <FormAssistant tips={6} />\n              </div>\n            </div>\n          }\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default FormUsageGBP_es;\n"]},"metadata":{},"sourceType":"module"}