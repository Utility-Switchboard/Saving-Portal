(this["webpackJsonpinbound-sales-portal"]=this["webpackJsonpinbound-sales-portal"]||[]).push([[21],{109:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var s=t(18),n=t.n(s),c=t(23),r=t(38),i=t(37),o=t(27),l=t(2),d=t(84),u=(t(109),t(19)),m=t(20),j=t.p+"static/media/moneyMan.33c20cf2.png",b=t(6);a.default=function(){var e,a,t=Object(l.useState)({email:"",password:""}),s=Object(o.a)(t,2),g=s[0],O=s[1],h=Object(l.useState)(!1),p=Object(o.a)(h,2),f=p[0],x=p[1],v=Object(l.useState)({message:""}),w=Object(o.a)(v,2),N=w[0],y=w[1],k=g.email,I=g.password,S=function(e){O(Object(i.a)(Object(i.a)({},g),{},Object(r.a)({},e.target.name,e.target.value.replace(/ /g,""))))},E=function(e){return u.a.fetchSignInMethodsForEmail(e).then((function(e){return e[0]}))},P=function(){var e=Object(c.a)(n.a.mark((function e(a){var t,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=g.email,s=g.password,""!==t){e.next=7;break}return y(Object(i.a)(Object(i.a)({},N),{},{message:"Email is required"})),x(!0),e.abrupt("return");case 7:if(""!==s){e.next=11;break}return y(Object(i.a)(Object(i.a)({},N),{},{message:"Password is required"})),x(!0),e.abrupt("return");case 11:return e.next=13,E(t);case 13:if(c=e.sent,y(Object(i.a)(Object(i.a)({},N),{},{message:"Email address already in use."})),"google.com"!==c){e.next=19;break}return y(Object(i.a)(Object(i.a)({},N),{},{message:"Please, sign in with your Google account"})),x(!0),e.abrupt("return");case 19:return e.next=21,u.a.signInWithEmailAndPassword(t,s).then((function(e){console.log("Success"),u.c.collection("signInLogs").add({email:t,signInTime:m.a.firestore.FieldValue.serverTimestamp()})})).catch((function(e){switch(console.error(e),e.code){case"auth/email-already-in-use":y(Object(i.a)(Object(i.a)({},N),{},{message:"Email address already in use."}));break;case"auth/invalid-email":y(Object(i.a)(Object(i.a)({},N),{},{message:"Email address is invalid."}));break;case"auth/operation-not-allowed":y(Object(i.a)(Object(i.a)({},N),{},{message:"Error during sign up."}));break;case"auth/weak-password":y(Object(i.a)(Object(i.a)({},N),{},{message:"Password is not strong enough. Add additional characters including special characters and numbers."}));break;case"auth/wrong-password":y(Object(i.a)(Object(i.a)({},N),{},{message:"Password is wrong"}));break;case"auth/user-not-found":y(Object(i.a)(Object(i.a)({},N),{},{message:"User not found, try with your google account instead"}));break;default:y(Object(i.a)(Object(i.a)({},N),{},{message:e.message}))}x(!0)}));case 21:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,u.a.signInWithPopup(u.d).then((function(e){var a=e.user.email;u.c.collection("signInLogs").add({email:a,signInTime:m.a.firestore.FieldValue.serverTimestamp()})})).catch((function(e){var a=e.code,t=e.message,s=e.email,n=e.credential;a&&console.error(a),t&&console.error(t),s&&console.error(s),n&&console.error(n)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"some-page-wrapper",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"column",children:Object(b.jsxs)("div",{className:"title-column",children:[Object(b.jsxs)("div",{className:"login-title",children:[Object(b.jsx)("h1",{children:"Utility Switchboard"}),Object(b.jsxs)("h1",{children:[Object(b.jsx)("span",{children:"Savings Portal"}),"."]})]}),Object(b.jsx)("div",{className:"login-btn-container",children:Object(b.jsx)("button",{className:"btn-login",onClick:function(e){return function(e){e.preventDefault(),document.getElementById("modal").style.display="flex"}(e)},children:"Sign In"})}),Object(b.jsx)("div",{className:"modal animate__animated animate__pulse",id:"modal",children:Object(b.jsxs)("form",{onSubmit:function(e){return P(e)},className:"modal-content",children:[Object(b.jsx)("div",{className:"modal-logo",children:Object(b.jsx)("img",{src:"https://utilityswitchboard.com/wp-content/uploads/2021/07/usb-favicon.png",alt:""})}),Object(b.jsx)("div",{className:"form-field",children:Object(b.jsx)("input",(e={type:"email",id:"email",name:"email",placeholder:"Introduce email",value:k||"",onChange:S},Object(r.a)(e,"placeholder","Email"),Object(r.a)(e,"required",!0),e))}),Object(b.jsx)("div",{className:"form-field",children:Object(b.jsx)("input",(a={type:"password",id:"password",name:"password",placeholder:"Introduce password",value:I||"",onChange:S},Object(r.a)(a,"placeholder","Password"),Object(r.a)(a,"autoComplete","on"),Object(r.a)(a,"required",!0),a))}),f?Object(b.jsx)("div",{className:"error-modal",children:Object(b.jsx)(d.a,{message:N.message})}):null,Object(b.jsx)("div",{className:"login-btn-container",children:Object(b.jsx)("button",{className:"btn-login",children:"Sign In"})}),Object(b.jsx)("p",{children:"Or sign in using"}),Object(b.jsx)("button",{className:"google-btn",onClick:function(e){return _(e)},children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",loading:"lazy"})})})]})})]})}),Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"image-column",children:Object(b.jsx)("div",{className:"image-container",children:Object(b.jsx)("img",{src:j,alt:"Saving Money"})})})})]})})})}},84:function(e,a,t){"use strict";t(85);var s=t(6);a.a=function(e){var a=e.message;return Object(s.jsx)("div",{"data-cy":"error",className:"error-container",id:"error",children:Object(s.jsx)("div",{className:"error-message",children:Object(s.jsx)("p",{className:"error-text",children:a})})})}},85:function(e,a,t){}}]);
//# sourceMappingURL=21.5440cae9.chunk.js.map