(this["webpackJsonpinbound-sales-portal"]=this["webpackJsonpinbound-sales-portal"]||[]).push([[7],{111:function(e,t,s){},112:function(e,t,s){},154:function(e,t,s){"use strict";s.r(t);var r=s(38),c=s(37),a=s(18),i=s.n(a),n=s(23),o=s(27),d=s(2),l=(s(111),s(19)),u=s(20),m=s(28),j=s.n(m),p=s(0),b=s(86),h=s(94),O=(s(112),s(6)),x=function(e,t,s){var r=Object(d.useState)(t),c=Object(o.a)(r,2),a=c[0],i=c[1];return[a,function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"selection-address-container",children:Object(O.jsx)("select",{onChange:function(e){return i(e.target.value)},defaultValue:[a],className:"select-address",id:"select",multiple:!0,children:s.map((function(e){return Object(O.jsxs)("option",{value:e.id,children:[e.formatted_address.toString().replace(/,*,/g,",").replace(/,/g,", "),console.log()]},e.id)}))})})})},i]},f=s(87),v=s(84),y=s(89);t.default=function(e){var t=e.postcodeValue,s=e.gasInformation,a=e.electricityInformation,m=e.progressBar,g=e.showScript,N=e.customerStep,_=e.updateCustomerAddress,w=e.updateGasInformation,A=e.updateElectricityInformation,D=e.updateShowFormPostCode,P=e.updateShowFormAddres,C=e.updateShowOverlay,k=e.updateProgressBar,S=e.updateShowFomrFuelType,M=Object(d.useState)({doornumber:"",addressline1:"",addressline2:"",city:"",postcode:"",mpan:"",mprn:""}),E=Object(o.a)(M,2),q=E[0],I=E[1],T=Object(d.useState)([]),L=Object(o.a)(T,2),B=L[0],G=L[1],F=x("","",B),U=Object(o.a)(F,3),R=U[0],V=U[1],H=U[2],K=Object(d.useState)(!0),z=Object(o.a)(K,2),J=z[0],W=z[1],X=Object(d.useState)(!1),Z=Object(o.a)(X,2),Q=Z[0],Y=Z[1],$=Object(d.useState)(!1),ee=Object(o.a)($,2),te=ee[0],se=ee[1],re=Object(d.useState)(!1),ce=Object(o.a)(re,2),ae=ce[0],ie=ce[1];if(Object(d.useEffect)((function(){if(Q){document.querySelector("#error").scrollIntoView({behavior:"smooth",block:"end",inline:"end"})}}),[Q]),Object(d.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),Object(d.useEffect)((function(){var e=function(){var e=Object(n.a)(i.a.mark((function e(){var s,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pDJ9sT8N_U6Mom1t-r7LSg32761",s="https://api.getAddress.io/find/".concat(t.replace(/ /g,"").toLowerCase(),"?api-key=").concat("pDJ9sT8N_U6Mom1t-r7LSg32761","&expand=true"),e.next=4,fetch(s,{method:"GET"}).then((function(e){return 200===e.status?e.json():void j()({button:"Ok",icon:"info",content:Object(O.jsxs)("div",{className:"swal-text-custom",children:[Object(O.jsx)("h1",{children:"Address not found"}),Object(O.jsx)("p",{children:"Please enter the address manually"})]})})})).then((function(e){return e})).catch((function(e){console.error("Catch an error fetching to postcoder ".concat(e)),j()({button:"Ok",icon:"info",content:Object(O.jsxs)("div",{className:"swal-text-custom",children:[Object(O.jsx)("h1",{children:"Address not found"}),Object(O.jsx)("p",{children:"Please enter the address manually"})]})})}));case 4:if(void 0===(r=e.sent)){e.next=15;break}if((c=r.addresses).forEach((function(e,t){e.id=t+1})),B!==[]){e.next=12;break}return e.abrupt("return");case 12:G(c);case 13:e.next=16;break;case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),""!==R){var ne=B[R-1],oe=ne.formatted_address[0].replace(/[^0-9.]/g,""),de=ne.formatted_address.toString().replace(/,*,/g,",").replace(/,/g,", "),le="",ue=ne.town_or_city,me="",je="";oe=void 0===oe||""===oe?"N/A":ne.formatted_address[0].replace(/[^0-9.]/g,""),de=void 0===de||""===de?"N/A":ne.formatted_address.toString().replace(/,*,/g,",").replace(/,/g,", "),le=void 0===le||""===le?"N/A":"",ue=void 0===ue||""===ue?"N/A":ne.town_or_city,me="",je=""}var pe=oe,be=de,he=le,Oe=ue,xe=t,fe=me,ve=je;Object(d.useEffect)((function(){I(Object(c.a)(Object(c.a)({},q),{},{doornumber:pe,addressline1:be,addressline2:he,city:Oe,postcode:xe,mpan:fe,mprn:ve})),Y(!1)}),[R]);var ye=function(e){var t;I(Object(c.a)(Object(c.a)({},q),{},(t={},Object(r.a)(t,e.target.name,e.target.value.replace(/[^\w\s]/gi,"").trim()),Object(r.a)(t,"mpan",""),Object(r.a)(t,"mprn",""),t)))},ge=function(){var e=Object(n.a)(i.a.mark((function e(r){var o,d,b,x,f,v,y,g,D,M,E,q,I,T,L,B,G,F,U,R,V,H,K,z,J,W,X,Z,Q,$,ee,te,re,ce,ae,ie,ne,oe,de,le,ue,me,je;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=document.getElementById("door-number").value,d=document.getElementById("line1").value,b=document.getElementById("city").value,""!==o&&void 0!==o&&""!==d&&void 0!==d&&""!==b&&void 0!==b){e.next=8;break}return Y(!0),e.abrupt("return");case 8:Y(!1);case 9:if(C(!0),x=r.doornumber.replace(/[^\w\s]/gi,"").trim(),f=r.addressline1.replace(/[^\w\s]/gi,"").trim(),v=r.city.replace(/[^\w\s]/gi,"").trim(),""!==x&&void 0!==x&&""!==f&&void 0!==f&&""!==v&&void 0!==v){e.next=17;break}Y(!0),e.next=77;break;case 17:return g={Authentication:{Key:y="52NT-4QZ8-WD65-N7TV"},ParameterSets:[{Parameters:[{Key:"Postcode",Value:t.replace(/[^\w\s]/gi,"").trim()},{Key:"BuildingNumber",Value:x}]}]},e.next=21,fetch("https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/SearchUtilityAddress",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status?e.json():console.error("An error ocurred fetching to ECOES SearchUtilityAddress")})).then((function(e){if(e.Results[0].Errors.length>=1){return"NA"}return e.Results[0].UtilityAddressMatches[0].AddressDetails[0].Value})).catch((function(e){return console.error("Catch an error fetching to ECOES SearchUtilityAddress ".concat(e))}));case 21:if(D=e.sent,M="",""===(M="NA"!==D&&void 0!==D?D.replace(/[^\w\s]/gi,"").trim():"")){e.next=31;break}return E={Authentication:{Key:y},ParameterSets:[{Parameters:[{Key:"MPAN",Value:M}]}]},e.next=28,fetch("https://cors-anywhere.herokuapp.com/https://www.ecoes.co.uk/WebServices/Trial/ECOESAPI.svc/RESTful/JSON/GetTechnicalDetailsByMpan",{method:"POST",body:JSON.stringify(E),headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status?e.json():console.error("An error ocurred fetching to GetTechnicalDetailsByMpan")})).then((function(e){if(void 0===e){return A(Object(c.a)(Object(c.a)({},a),{},{MPANDetails:{mpan_core:"",meter_serial_number:"",meter_type:"",supplier_mpid:""}}))}if(e.Results[0].Errors.length>=1){A(Object(c.a)(Object(c.a)({},a),{},{MPANDetails:{mpan_core:"",meter_serial_number:"",meter_type:"",supplier_mpid:""}}))}else{var t=e.Results[0].UtilityMatches[0].Meters[0].MeterDetails[1].Value,s=e.Results[0].UtilityMatches[0].Meters[0].MeterDetails[2].Value,r=e.Results[0].UtilityMatches[0].UtilityDetails[11].Value,i={mpan_core:M,meter_serial_number:t,meter_type:s,supplier_mpid:r};A(Object(c.a)(Object(c.a)({},a),{},{MPANDetails:i}))}}));case 28:e.sent,e.next=33;break;case 31:q={mpan_core:"",meter_serial_number:"",meter_type:"",supplier_mpid:""},A(Object(c.a)(Object(c.a)({},a),{},{MPANDetails:q}));case 33:return I=xe.replace(/ /g,""),T="",5===I.length&&(L=I.slice(0,2),B=I.slice(2,5),T=L+" "+B),6===I.length&&(G=I.slice(0,3),F=I.slice(3,6),T=G+" "+F),7===I.length&&(U=I.slice(0,4),R=I.slice(4,7),T=U+" "+R),"mnOf4C5KMUdD0MfDw8EaPwNZ5oHXqIBL",e.next=42,fetch("https://cors-anywhere.herokuapp.com/https://xoserve.apimanagement.hana.ondemand.com:443/v1/switchdataTBB.svc?postcode='".concat(T,"'&house_no='").concat(x,"'"),{method:"GET",headers:{"Content-Type":"application/json",APIKey:"mnOf4C5KMUdD0MfDw8EaPwNZ5oHXqIBL"}}).then((function(e){if(200===e.status)return e.json();return w(Object(c.a)(Object(c.a)({},s),{},{dataGas:{mprn:"",meter_mechanism_code:"",current_supplier_id:"",gas_transport_id:""}})),console.error("An error ocurred fetching to Xoserve switchdataTBB"),""})).then((function(e){if(!0===e.hasOwnProperty("mprn")){var t=e.mprn[0],r=e.mprn[0].mprn;return w(Object(c.a)(Object(c.a)({},s),{},{dataGas:t})),r}return w(Object(c.a)(Object(c.a)({},s),{},{dataGas:{mprn:"",meter_mechanism_code:"",current_supplier_id:"",gas_transport_id:""}})),""})).catch((function(e){return console.error("Catch an error fetching to Xoserve switchdataTBB: ".concat(e))}));case 42:return V=e.sent,void 0===(H=V)&&(H="",w(Object(c.a)(Object(c.a)({},s),{},{dataGas:{mprn:"",meter_mechanism_code:"",current_supplier_id:"",gas_transport_id:""}}))),K=r.postcode.replace(/\s/g,"").trim().toLowerCase(),z=r.doornumber.replace(/\s/g,"").trim().toLowerCase(),J="".concat(K,"-").concat(z),e.next=50,l.c.collection("customers").doc(J);case 50:return W=e.sent,X=function(){var e=Object(n.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W.get().then((function(e){if(e.exists)return e.data()})).catch((function(e){console.log(e),console.log("Fetching customer data failed")})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=54,X();case 54:if(!(Z=e.sent)){e.next=67;break}return $=(Q=Z).customerAddres,ee=Q.MPANDetails,te=Q.dataGas,re=$.doornumber,ce=$.addressline1,ae=$.addressline2,ie=$.city,ne=$.postcode,oe=ee.meter_type,de=te.meter_mechanism_code,le=ee.company_name,ue=ee.mpan_core,me=te.company_name,je=te.mprn,j()({className:"swal-modal_custom",buttons:{cancel:"Cancel",confirm:"Use this information"},content:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"form-address-details-info-container",children:Object(O.jsxs)("div",{className:"form-address-details-info",children:[Object(O.jsx)(p.b.Provider,{value:{color:"#D338AE",size:"50px"},children:Object(O.jsx)(h.b,{})}),Object(O.jsx)("h3",{style:{marginBottom:"0"},children:"Data found for this customer"}),Object(O.jsxs)("div",{className:"form-address-details-container",children:[Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"start"},children:[Object(O.jsxs)("p",{children:["Address:",Object(O.jsx)("span",{children:"".concat(ce.toUpperCase()).concat("N/A"===ae?"":", ".concat(ae.toUpperCase())," ")})]}),Object(O.jsxs)("p",{children:["Flat number:",Object(O.jsx)("span",{children:re.toUpperCase()})]}),Object(O.jsxs)("p",{children:["City:",Object(O.jsx)("span",{children:ie.toUpperCase()})]}),Object(O.jsxs)("p",{children:["Postcode:",Object(O.jsx)("span",{children:ne.toUpperCase()})]})]})}),le||oe||ue?Object(O.jsx)("h3",{children:"Electricity Information"}):null,le?Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("p",{children:["Supplier: ",Object(O.jsx)("span",{children:le})]})}):null,oe?Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("p",{children:["Meter Type: ",Object(O.jsx)("span",{children:oe})]})}):null,ue?Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("p",{children:["MPAN: ",Object(O.jsx)("span",{children:ue})]})}):null,me||de||je?Object(O.jsx)("h3",{children:"Gas Information"}):null,me?Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("p",{children:["Supplier: ",Object(O.jsx)("span",{children:me})]})}):null,de?Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("p",{children:["Meter Type: ",Object(O.jsx)("span",{children:de})]})}):null,je?Object(O.jsx)("div",{className:"form-address-single-details",children:Object(O.jsxs)("p",{children:["MPAN: ",Object(O.jsx)("span",{children:je})]})}):null]})]})})})}).then((function(e){if(!0!==e){var t=r.postcode.replace(/\s/g,"").trim().toLowerCase(),s=r.doornumber.replace(/\s/g,"").trim().toLowerCase(),a="".concat(t,"-").concat(s);return l.c.collection("customers").doc(a).set({created:u.a.firestore.FieldValue.serverTimestamp(),step:1,customerAddres:{doornumber:r.doornumber?r.doornumber:"",addressline1:r.addressline1?r.addressline1:"",addressline2:r.addressline2?r.addressline2:"",city:r.city?r.city:"",postcode:r.postcode?r.postcode:"",mpan:M||"",mprn:H||""},MPANDetails:{mpan_core:"",meter_serial_number:"",meter_type:"",supplier_mpid:"",company_name:""},dataGas:{mprn:"",meter_mechanism_code:"",current_supplier_id:"",gas_transport_id:"",company_name:""}}),Y(!1),_(Object(c.a)(Object(c.a)({},r),{},{mpan:M,mprn:H})),k(Object(c.a)(Object(c.a)({},m),{},{step:2})),P(!1),S(!0),C(!1),console.log("Data was sent successfully - From cancel alert"),void console.log("Update customers in firebse if it is necessary")}return console.log("Data was sent successfully - Using DB"),N(Q)})).catch((function(e){l.c.collection("customers").doc(J).set({created:u.a.firestore.FieldValue.serverTimestamp(),step:1,customerAddres:{doornumber:r.doornumber?r.doornumber:"",addressline1:r.addressline1?r.addressline1:"",addressline2:r.addressline2?r.addressline2:"",city:r.city?r.city:"",postcode:r.postcode?r.postcode:"",mpan:M||"",mprn:H||""},MPANDetails:{mpan_core:"",meter_serial_number:"",meter_type:"",supplier_mpid:"",company_name:""},dataGas:{mprn:"",meter_mechanism_code:"",current_supplier_id:"",gas_transport_id:"",company_name:""}}),console.log(e),Y(!1),_(Object(c.a)(Object(c.a)({},r),{},{mpan:M,mprn:H})),k(Object(c.a)(Object(c.a)({},m),{},{step:2})),P(!1),S(!0),C(!1),console.log("Data was sent successfully - From error"),console.log("Update customers in firebse if it is necessary")})),e.abrupt("return");case 67:return se(!0),Y(!1),_(Object(c.a)(Object(c.a)({},r),{},{mpan:M,mprn:H})),k(Object(c.a)(Object(c.a)({},m),{},{step:2})),P(!1),S(!0),C(!1),console.log("Data was sent successfully - No user found"),console.log("Create a new customer in firebase"),e.abrupt("return");case 77:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){Object(n.a)(i.a.mark((function e(){var t,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te){e.next=6;break}return t=q.postcode.replace(/\s/g,"").trim().toLowerCase(),r=q.doornumber.replace(/\s/g,"").trim().toLowerCase(),c="".concat(t,"-").concat(r),e.next=6,l.c.collection("customers").doc(c).set({created:u.a.firestore.FieldValue.serverTimestamp(),step:1,customerAddres:{doornumber:q.doornumber?q.doornumber:"",addressline1:q.addressline1?q.addressline1:"",addressline2:q.addressline2?q.addressline2:"",city:q.city?q.city:"",postcode:q.postcode?q.postcode:"",mpan:a.MPANDetails.mpan_core?a.MPANDetails.mpan_core:"",mprn:s.dataGas.mprn?s.dataGas.mprn:""},MPANDetails:{meter_serial_number:a.MPANDetails.meter_serial_number?a.MPANDetails.meter_serial_number:"",meter_type:a.MPANDetails.meter_type?a.MPANDetails.meter_type:"",mpan_core:a.MPANDetails.mpan_core?a.MPANDetails.mpan_core:"",supplier_mpid:a.MPANDetails.supplier_mpid?a.MPANDetails.supplier_mpid:""},dataGas:{mprn:s.dataGas.mprn?s.dataGas.mprn:"",meter_mechanism_code:s.dataGas.meter_mechanism_code?s.dataGas.meter_mechanism_code:"",current_supplier_id:s.dataGas.current_supplier_id?s.dataGas.current_supplier_id:"",gas_transport_id:s.dataGas.gas_transport_id?s.dataGas.gas_transport_id:""}});case 6:case"end":return e.stop()}}),e)})))()}),[te]);var Ne=function(e){e.preventDefault(),P(!1),D(!0),k(Object(c.a)(Object(c.a)({},m),{},{step:0}))},_e=function(e){e.preventDefault(),I(Object(c.a)(Object(c.a)({},q),{},{doornumber:"",addressline1:"",addressline2:"",city:"",mpan:"",mprn:""})),A({}),w({}),H(""),W(!1),Y(!1);var t=document.getElementById("door-number"),s=document.getElementById("line1"),r=document.getElementById("line2"),a=document.getElementById("city");null!==t&&null!==s&&null!==r&&null!==a&&(t.value="",s.value="",r.value="",a.value="")};return Object(O.jsx)(O.Fragment,{children:J?""===R?Object(O.jsx)("section",{className:"form-address-section",children:Object(O.jsxs)("div",{className:"form-address-container",children:[Object(O.jsxs)("div",{className:"form-address-content",children:[Object(O.jsxs)("div",{className:"form-address",children:[Object(O.jsx)("h1",{children:"Select your addres from the below"}),Object(O.jsx)("p",{children:"Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch."})]}),Object(O.jsx)("div",{children:Object(O.jsx)(V,{})}),Object(O.jsx)("div",{className:"form-address-manually-btn",children:Object(O.jsx)("button",{"data-cy":"addr-empty",onClick:function(e){return _e(e)},children:"My address isn't listed"})}),!0===Q?Object(O.jsx)(v.a,{message:"Please enter an address"}):null,Object(O.jsxs)("div",{className:"form-address-btn-container",children:[Object(O.jsxs)("button",{className:"form-address-btn btn-back",onClick:Ne,children:[Object(O.jsx)(p.b.Provider,{value:{color:"#D338AE",size:"35px"},children:Object(O.jsx)(b.b,{className:"icon-back"})}),"Go back"]}),Object(O.jsxs)("button",{"data-cy":"addr-noselected",className:"form-address-btn btn-next",onClick:function(){return""===R?Y(!0):null},children:["Continue",Object(O.jsx)(p.b.Provider,{value:{color:"#FFF",size:"35px"},children:Object(O.jsx)(b.c,{className:"icon-next"})})]})]})]}),g?Object(O.jsxs)("div",{className:"helper-address",children:[Object(O.jsx)("div",{className:"script-address",children:Object(O.jsx)(f.a,{step:2})}),Object(O.jsx)("div",{className:"assistant-address-custom",children:Object(O.jsx)(y.a,{tips:1})})]}):Object(O.jsx)("div",{style:{width:"100%"},children:Object(O.jsx)("div",{className:"assistant-address",children:Object(O.jsx)(y.a,{tips:1})})})]})}):Object(O.jsx)("section",{className:"form-address-section",children:Object(O.jsxs)("div",{className:"form-address-container",children:[Object(O.jsxs)("div",{className:"form-address-content",children:[Object(O.jsxs)("div",{className:"form-address",children:[Object(O.jsx)("h1",{children:"Select your addres from the below"}),Object(O.jsx)("p",{children:"Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch."})]}),Object(O.jsx)("div",{children:Object(O.jsx)(V,{})}),Object(O.jsx)("div",{className:"form-address-manually-btn",children:Object(O.jsx)("button",{onClick:function(e){return _e(e)},className:ae?"animate__animated animate__headShake":"",children:"My address isn't listed"})}),Object(O.jsx)("form",{className:"form-address-input-container",children:Object(O.jsxs)("div",{className:"form-address-input-content",children:[Object(O.jsx)("h2",{children:"Address Information"}),!0===Q?Object(O.jsx)(v.a,{message:"Please enter an address"}):null,Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"Door number"}),Object(O.jsx)("div",{onClick:function(){return ie(!ae)},children:Object(O.jsx)("input",{id:"door-number",name:"doornumber",type:"text",value:q.doornumber||"",disabled:!0})})]}),Object(O.jsxs)("div",{className:"form-address-input",style:{position:"relative"},children:[Object(O.jsx)("label",{children:"Address Line 1"}),Object(O.jsx)("div",{onClick:function(){return ie(!ae)},children:Object(O.jsx)("input",{id:"line1",name:"addressline1",type:"text",value:q.addressline1||"",disabled:!0})}),Object(O.jsx)("div",{className:"form-address-tooltip",children:q.addressline1})]}),Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"Address line 2 (optional)"}),Object(O.jsx)("div",{onClick:function(){return ie(!ae)},children:Object(O.jsx)("input",{id:"line2",name:"addressline2",type:"text",value:q.addressline2||"",disabled:!0})})]}),Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("div",{onClick:function(){return ie(!ae)},children:Object(O.jsx)("input",{id:"city",name:"city",type:"text",value:q.city||"",disabled:!0})})]}),Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"Postcode"}),Object(O.jsx)("div",{onClick:function(){return ie(!ae)},children:Object(O.jsx)("input",{id:"postcode",name:"postcode",type:"text",value:q.postcode||"",disabled:!0})})]})]})}),Object(O.jsxs)("div",{className:"form-address-btn-container",children:[Object(O.jsxs)("button",{className:"form-address-btn btn-back",onClick:Ne,children:[Object(O.jsx)(p.b.Provider,{value:{color:"#D338AE",size:"35px"},children:Object(O.jsx)(b.b,{className:"icon-back"})}),"Go back"]}),Object(O.jsxs)("button",{className:"form-address-btn btn-next",onClick:function(e){return e.preventDefault(ge(q))},children:["Continue",Object(O.jsx)(p.b.Provider,{value:{color:"#FFF",size:"35px"},children:Object(O.jsx)(b.c,{className:"icon-next"})})]})]})]}),g?Object(O.jsxs)("div",{className:"helper-address",children:[Object(O.jsx)("div",{className:"script-address",children:Object(O.jsx)(f.a,{step:2})}),Object(O.jsx)("div",{className:"assistant-address-custom",children:Object(O.jsx)(y.a,{tips:1})})]}):Object(O.jsx)("div",{style:{width:"100%"},children:Object(O.jsx)("div",{className:"assistant-address",children:Object(O.jsx)(y.a,{tips:1})})})]})}):Object(O.jsx)("section",{className:"form-address-section",children:Object(O.jsxs)("div",{className:"form-address-container",children:[Object(O.jsxs)("div",{className:"form-address-content",children:[Object(O.jsxs)("div",{className:"form-address",children:[Object(O.jsx)("h1",{children:"Select your addres from the below"}),Object(O.jsx)("p",{children:"Having the correct address is key to ensuring we select the correct MPAN / MRPN for the customer's address. Id the customer's address is not present in the list below, we must enter it manually and request the customers MPAN / MPRN to enable successful switch."})]}),Object(O.jsx)("div",{onChange:function(e){return function(e){e.preventDefault(),W(!0),I(Object(c.a)(Object(c.a)({},q),{},{doornumber:"",addressline1:"",addressline2:"",city:"",mpan:"",mprn:""}))}(e)},children:Object(O.jsx)(V,{})}),Object(O.jsx)("div",{className:"form-address-manually-btn",children:Object(O.jsx)("button",{onClick:function(e){return _e(e)},children:"My address isn't listed"})}),Object(O.jsx)("form",{className:"form-address-input-container",onChange:function(){return function(){var e=document.getElementById("door-number").value,t=document.getElementById("line1").value,s=document.getElementById("city").value;""!==e&&""!==t&&""!==s&&Y(!1)}()},children:Object(O.jsxs)("div",{className:"form-address-input-content",children:[Object(O.jsx)("h2",{children:"Type address manually"}),!0===Q?Object(O.jsx)(v.a,{message:"Please enter an address"}):null,Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"Door number"}),Object(O.jsx)("input",{id:"door-number",type:"text",value:q.doornumber||"",onChange:function(e){return ye(e)},name:"doornumber","data-cy":"door-input"})]}),Object(O.jsxs)("div",{className:"form-address-input",style:{position:"relative"},children:[Object(O.jsx)("label",{children:"Address Line 1"}),Object(O.jsx)("input",{id:"line1",type:"text",value:q.addressline1||"",onChange:function(e){return ye(e)},name:"addressline1","data-cy":"addr1-input"})]}),Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"Address line 2 (optional)"}),Object(O.jsx)("input",{id:"line2",type:"text",value:q.addressline2||"",onChange:function(e){return ye(e)},name:"addressline2","data-cy":"addr2-input"})]}),Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("input",{id:"city",type:"text",value:q.city||"",onChange:function(e){return ye(e)},name:"city","data-cy":"city-input"})]}),Object(O.jsxs)("div",{className:"form-address-input",children:[Object(O.jsx)("label",{children:"Postcode"}),Object(O.jsx)("input",{id:"postcode",type:"text",value:t,onChange:function(e){return ye(e)},name:"postcode",disabled:!0})]})]})}),Object(O.jsxs)("div",{className:"form-address-btn-container",children:[Object(O.jsxs)("button",{className:"form-address-btn btn-back",onClick:Ne,children:[Object(O.jsx)(p.b.Provider,{value:{color:"#D338AE",size:"35px"},children:Object(O.jsx)(b.b,{className:"icon-back"})}),"Go back"]}),Object(O.jsxs)("button",{"data-cy":"addrtyped-continue",className:"form-address-btn btn-next",onClick:function(e){return e.preventDefault(ge(q))},children:["Continue",Object(O.jsx)(p.b.Provider,{value:{color:"#FFF",size:"35px"},children:Object(O.jsx)(b.c,{className:"icon-next"})})]})]})]}),g?Object(O.jsxs)("div",{className:"helper-address",children:[Object(O.jsx)("div",{className:"script-address",children:Object(O.jsx)(f.a,{step:2})}),Object(O.jsx)("div",{className:"assistant-address-custom",children:Object(O.jsx)(y.a,{tips:1})})]}):Object(O.jsx)("div",{style:{width:"100%"},children:Object(O.jsx)("div",{className:"assistant-address",children:Object(O.jsx)(y.a,{tips:1})})})]})})})}},84:function(e,t,s){"use strict";s(85);var r=s(6);t.a=function(e){var t=e.message;return Object(r.jsx)("div",{"data-cy":"error",className:"error-container",id:"error",children:Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("p",{className:"error-text",children:t})})})}},85:function(e,t,s){},87:function(e,t,s){"use strict";var r=s(27),c=s(2),a=(s(88),s(0)),i=s(86),n=s(6);t.a=function(e){var t,s=e.step,o=e.use,d=e.avgElec,l=e.avgGas,u=Object(c.useState)(""),m=Object(r.a)(u,2),j=m[0],p=m[1];return Object(c.useEffect)((function(){var e=document.getElementById("script-content").offsetHeight;p(e),document.getElementById("script-container").parentElement.style.maxHeight="".concat(e,"px")}),[j]),1===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ol",{children:[Object(n.jsx)("li",{children:"Can you confirm your postcode to start with?"}),Object(n.jsxs)("li",{children:["We save our customers ",Object(n.jsx)("strong",{children:"over \xa3100"})," per year on ",Object(n.jsx)("strong",{children:"average 41%"})," of households (10m) are on ",Object(n.jsx)("strong",{children:"Standard Variable Tariff"})," (the worst tariff available)."]})]})})),2===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ol",{children:Object(n.jsxs)("li",{children:["Can you confirm your door number? ",Object(n.jsx)("strong",{children:"("}),"Reconfirm full first line of address with customer",Object(n.jsx)("strong",{children:")"}),"."]})})})),3===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ol",{children:Object(n.jsx)("li",{children:"Do you have both gas and electricity at the property, or only electric?"})})})),4===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ol",{children:[Object(n.jsx)("li",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"}),Object(n.jsx)("li",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiisblanditiis  adipisicing  adipisicing  adipisicing  adipisicing"})]})})),5===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ol",{children:[Object(n.jsx)("li",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"}),Object(n.jsx)("li",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"})]})})),6===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ol",{children:Object(n.jsx)("li",{children:"Do you have an Economy 7 meter?"})})})),7===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ol",{children:["kwh"===o?Object(n.jsx)("li",{children:"Do you know how many KWH of electricity you use each year/month?"}):null,"gbp_es"===o?Object(n.jsx)("li",{children:"Do you know how much you pay each month for your electricity?"}):null,"gas"===o?Object(n.jsx)("li",{children:"Do you know how many KWH of gas you use each year/month?"}):null,"gbp_gs"===o?Object(n.jsx)("li",{children:"Do you know how much you pay each month for your gas?"}):null,"avg"===o?Object(n.jsxs)("li",{children:["Okay we will have to base your ",d&&!l?"electricity":null," ",l&&!d?"gas":null," ",d&&l?"electricity and gas":null," quote on your property profile\u2026"]}):null]})})),8===s&&(t=Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"EXISTING DEBT Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"}),Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"}),Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"})]})),9===s&&(t=Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Compare Section Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"}),Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"}),Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore? Ducimus blanditiis laborum similique voluptatum sunt ad! Sunt placeat explicabo ratione assumenda voluptate, praesentium tempora!"})]})),Object(n.jsx)("div",{className:"script-container",id:"script-container",style:{maxHeight:j},children:Object(n.jsxs)("div",{className:"script-content",id:"script-content",children:[Object(n.jsxs)("div",{className:"script-header",children:[Object(n.jsx)("h3",{children:"My script"}),Object(n.jsx)(a.b.Provider,{value:{color:"#D338AE",size:"50px"},children:Object(n.jsx)(i.a,{})})]}),Object(n.jsx)(n.Fragment,{children:t})]})})}},88:function(e,t,s){},89:function(e,t,s){"use strict";var r=s(27),c=s(2),a=(s(90),s(0)),i=s(92),n=s(6);t.a=function(e){var t,s=e.tips,o=Object(c.useState)(""),d=Object(r.a)(o,2),l=d[0],u=d[1];return Object(c.useEffect)((function(){var e=document.getElementById("assistant-content").offsetHeight;u(e),document.getElementById("assistant-container").parentElement.style.maxHeight="".concat(e,"px")}),[l]),1===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Reconfirm full first line of address with customer."})})})})),2===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Customers who switch both of their fuels to enjoy the most savings"})})})})),3===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})})]})})),4===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})})]})})),5===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"An Economy 7 meter is a 2 rate meter, so you have a different unit rate in the day and a different unit rate at night."})})})})),6===s&&(t=Object(n.jsx)("div",{children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"We need to know how much energy you use so we can provide you with an accurate quote."})})})})),7===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Exisitng debt Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})})]})})),9===s&&(t=Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Compare section Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias eos ullam quos cupiditate sed tempore."})})]})})),Object(n.jsx)("div",{className:"assistant-container",id:"assistant-container",style:{maxHeight:l},children:Object(n.jsxs)("div",{className:"assistant-content",id:"assistant-content",children:[Object(n.jsxs)("div",{className:"assistant-header",children:[Object(n.jsx)("h3",{children:"Savings Assistant"}),Object(n.jsx)(a.b.Provider,{value:{color:"#D338AE",size:"35px"},children:Object(n.jsx)(i.a,{})})]}),Object(n.jsxs)("div",{className:"assistant-information",children:[Object(n.jsx)("p",{children:"Tips for this stage"}),t]})]})})}},90:function(e,t,s){}}]);
//# sourceMappingURL=7.0e895144.chunk.js.map